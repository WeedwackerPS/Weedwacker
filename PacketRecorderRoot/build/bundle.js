var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t}function c(e,t,n,r){if(e){const i=u(e,t,n,r);return e[0](i)}}function u(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function h(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function d(e,t,n,r,i,o){if(i){const s=u(t,n,r,o);e.p(s,i)}}function f(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function p(e){return null==e?"":e}function m(t){return t&&s(t.destroy)?t.destroy:e}const g="undefined"!=typeof window;let v=g?()=>window.performance.now():()=>Date.now(),y=g?e=>requestAnimationFrame(e):e;const b=new Set;function w(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&y(w)}function $(e,t){e.appendChild(t)}function x(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function k(e){const t=_("style");return function(e,t){$(e.head||e,t),t.sheet}(x(e),t),t.sheet}function S(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function O(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function A(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function E(){return P(" ")}function j(){return P("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function T(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function I(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:N(e,r,t[r])}function D(e,t){for(const n in t)N(e,n,t[n])}function R(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:N(e,t,n)}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function B(e,t){e.value=null==t?"":t}function F(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let V;function z(){if(void 0===V){V=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){V=!0}}return V}function q(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=z();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=M(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=M(n.contentWindow,"resize",t)}),$(e,n),()=>{(r||i&&n.contentWindow)&&i(),C(n)}}function H(e,t,n){e.classList[n?"add":"remove"](t)}function W(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}class U{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=A(t.nodeName):this.e=_(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)S(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(C)}}function J(e,t){return new e(t)}const K=new Map;let G,Q=0;function Y(e,t,n,r,i,o,s,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*o(e);c+=100*e+`%{${s(r,1-r)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,d=x(e),{stylesheet:f,rules:p}=K.get(d)||function(e,t){const n={stylesheet:k(t),rules:{}};return K.set(e,n),n}(d,e);p[h]||(p[h]=!0,f.insertRule(`@keyframes ${h} ${u}`,f.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${h} ${r}ms linear ${i}ms 1 both`,Q+=1,h}function X(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Q-=i,Q||y((()=>{Q||(K.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&C(t)})),K.clear())})))}function Z(e){G=e}function ee(){if(!G)throw new Error("Function called outside component initialization");return G}function te(e){ee().$$.before_update.push(e)}function ne(e){ee().$$.on_mount.push(e)}function re(e){ee().$$.on_destroy.push(e)}function ie(){const e=ee();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const o=W(t,n,{cancelable:r});return i.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function oe(e,t){return ee().$$.context.set(e,t),t}function se(e){return ee().$$.context.get(e)}function ae(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const le=[],ce=[],ue=[],he=[],de=Promise.resolve();let fe=!1;function pe(){fe||(fe=!0,de.then($e))}function me(){return pe(),de}function ge(e){ue.push(e)}function ve(e){he.push(e)}const ye=new Set;let be,we=0;function $e(){const e=G;do{for(;we<le.length;){const e=le[we];we++,Z(e),xe(e.$$)}for(Z(null),le.length=0,we=0;ce.length;)ce.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];ye.has(t)||(ye.add(t),t())}ue.length=0}while(le.length);for(;he.length;)he.pop()();fe=!1,ye.clear(),Z(e)}function xe(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ge)}}function ke(e,t,n){e.dispatchEvent(W(`${t?"intro":"outro"}${n}`))}const Se=new Set;let Ce;function Oe(){Ce={r:0,c:[],p:Ce}}function _e(){Ce.r||o(Ce.c),Ce=Ce.p}function Ae(e,t){e&&e.i&&(Se.delete(e),e.i(t))}function Pe(e,t,n,r){if(e&&e.o){if(Se.has(e))return;Se.add(e),Ce.c.push((()=>{Se.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const Ee={duration:0};function je(n,r,i,a){const l={direction:"both"};let c=r(n,i,l),u=a?0:1,h=null,d=null,f=null;function p(){f&&X(n,f)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(r){const{delay:i=0,duration:s=300,easing:a=t,tick:l=e,css:g}=c||Ee,$={start:v()+i,b:r};r||($.group=Ce,Ce.r+=1),h||d?d=$:(g&&(p(),f=Y(n,u,r,s,i,a,g)),r&&l(0,1),h=m($,s),ge((()=>ke(n,r,"start"))),function(e){let t;0===b.size&&y(w),new Promise((n=>{b.add(t={c:e,f:n})}))}((e=>{if(d&&e>d.start&&(h=m(d,s),d=null,ke(n,h.b,"start"),g&&(p(),f=Y(n,u,h.b,h.duration,0,a,c.css))),h)if(e>=h.end)l(u=h.b,1-u),ke(n,h.b,"end"),d||(h.b?p():--h.group.r||o(h.group.c)),h=null;else if(e>=h.start){const t=e-h.start;u=h.a+h.d*a(t/h.duration),l(u,1-u)}return!(!h&&!d)})))}return{run(e){s(c)?(be||(be=Promise.resolve(),be.then((()=>{be=null}))),be).then((()=>{c=c(l),g(e)})):g(e)},end(){p(),h=d=null}}}const Me="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Te(e,t){e.d(1),t.delete(e.key)}function Ne(e,t){Pe(e,1,1,(()=>{t.delete(e.key)}))}function Ie(e,t,n,r,i,o,s,a,l,c,u,h){let d=e.length,f=o.length,p=d;const m={};for(;p--;)m[e[p].key]=p;const g=[],v=new Map,y=new Map;for(p=f;p--;){const e=h(i,o,p),a=n(e);let l=s.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),v.set(a,g[p]=l),a in m&&y.set(a,Math.abs(p-m[a]))}const b=new Set,w=new Set;function $(e){Ae(e,1),e.m(a,u),s.set(e.key,e),u=e.first,f--}for(;d&&f;){const t=g[f-1],n=e[d-1],r=t.key,i=n.key;t===n?(u=t.first,d--,f--):v.has(i)?!s.has(r)||b.has(r)?$(t):w.has(i)?d--:y.get(r)>y.get(i)?(w.add(r),$(t)):(b.add(i),d--):(l(n,s),d--)}for(;d--;){const t=e[d];v.has(t.key)||l(t,s)}for(;f;)$(g[f-1]);return g}function De(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function Re(e){return"object"==typeof e&&null!==e?e:{}}function Le(e,t,n,r){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,void 0===r&&n(e.$$.ctx[i]))}function Be(e){e&&e.c()}function Fe(e,t,n,i){const{fragment:a,after_update:l}=e.$$;a&&a.m(t,n),i||ge((()=>{const t=e.$$.on_mount.map(r).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),l.forEach(ge)}function Ve(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ze(t,n,r,s,a,l,c,u=[-1]){const h=G;Z(t);const d=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let f=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),f&&function(e,t){-1===e.$$.dirty[0]&&(le.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(C)}else d.fragment&&d.fragment.c();n.intro&&Ae(t.$$.fragment),Fe(t,n.target,n.anchor,n.customElement),$e()}Z(h)}class qe{$destroy(){Ve(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function He(e,t,n){const r=e.slice();return r[23]=t[n],r}const We=e=>({item:16&e}),Ue=e=>({item:e[23].data});function Je(e,t){let n,r,i;const o=t[15].default,s=c(o,t,t[14],Ue),a=s||function(e){let t;return{c(){t=P("Missing template")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}();return{key:e,first:null,c(){n=_("svelte-virtual-list-row"),a&&a.c(),r=E(),R(n,"class","svelte-1tqh76q"),this.first=n},m(e,t){S(e,n,t),a&&a.m(n,null),$(n,r),i=!0},p(e,n){t=e,s&&s.p&&(!i||16400&n)&&d(s,o,t,t[14],i?h(o,t[14],n,We):f(t[14]),Ue)},i(e){i||(Ae(a,e),i=!0)},o(e){Pe(a,e),i=!1},d(e){e&&C(n),a&&a.d(e)}}}function Ke(e){let t,n,r,i,o,s,a=[],l=new Map,c=e[4];const u=e=>e[23].index;for(let t=0;t<c.length;t+=1){let n=He(e,c,t),r=u(n);l.set(r,a[t]=Je(r,n))}return{c(){t=_("svelte-virtual-list-viewport"),n=_("svelte-virtual-list-contents");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"padding-top",e[5]+"px"),F(n,"padding-bottom",e[6]+"px"),R(n,"class","svelte-1tqh76q"),F(t,"height",e[0]),R(t,"class","svelte-1tqh76q"),ge((()=>e[18].call(t)))},m(l,c){S(l,t,c),$(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);e[16](n),e[17](t),r=q(t,e[18].bind(t)),i=!0,o||(s=M(t,"scroll",e[7]),o=!0)},p(e,[r]){16400&r&&(c=e[4],Oe(),a=Ie(a,r,u,1,e,c,l,n,Ne,Je,null,He),_e()),(!i||32&r)&&F(n,"padding-top",e[5]+"px"),(!i||64&r)&&F(n,"padding-bottom",e[6]+"px"),(!i||1&r)&&F(t,"height",e[0])},i(e){if(!i){for(let e=0;e<c.length;e+=1)Ae(a[e]);i=!0}},o(e){for(let e=0;e<a.length;e+=1)Pe(a[e]);i=!1},d(n){n&&C(t);for(let e=0;e<a.length;e+=1)a[e].d();e[16](null),e[17](null),r(),o=!1,s()}}}function Ge(e,t,n){let r,i,o,s,a,l,{$$slots:c={},$$scope:u}=t,{items:h}=t,{height:d="100%"}=t,{itemHeight:f}=t,{start:p=0}=t,{end:m=0}=t,g=[],v=0,y=0,b=0;async function w(e,t){const{scrollTop:n}=i;t={left:0,top:n+(e-p)*(f||l),behavior:"smooth",...t},i.scrollTo(t)}return ne((()=>{r=o.getElementsByTagName("svelte-virtual-list-row"),n(13,a=!0)})),e.$$set=e=>{"items"in e&&n(10,h=e.items),"height"in e&&n(0,d=e.height),"itemHeight"in e&&n(11,f=e.itemHeight),"start"in e&&n(8,p=e.start),"end"in e&&n(9,m=e.end),"$$scope"in e&&n(14,u=e.$$scope)},e.$$.update=()=>{1792&e.$$.dirty&&n(4,s=h.slice(p,m).map(((e,t)=>({index:t+p,data:e})))),11266&e.$$.dirty&&a&&async function(e,t,o){e.length<p&&await w(e.length-1,{behavior:"auto"});const{scrollTop:s}=i;await me();let a=y-s,c=p;for(;a<t&&c<e.length;){let e=r[c-p];e||(n(9,m=c+1),await me(),e=r[c-p]),a+=g[c]=o||e.offsetHeight,c+=1}n(9,m=c);const u=e.length-m;l=(y+a)/m,n(6,b=u*l),g.length=e.length}(h,v,f)},[d,v,i,o,s,y,b,async function(){const{scrollTop:e}=i;for(let e=0;e<r.length;e+=1)g[p+e]=f||r[e].offsetHeight;let t=0,o=0;for(;t<h.length;){const r=g[t]||l;if(o+r>e){n(8,p=t),n(5,y=o);break}o+=r,t+=1}for(;t<h.length&&(o+=g[t]||l,t+=1,!(o>e+v)););n(9,m=t);const s=h.length-m;for(l=o/m;t<h.length;)g[t++]=l;n(6,b=s*l)},p,m,h,f,w,a,u,c,function(e){ce[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){ce[e?"unshift":"push"]((()=>{i=e,n(2,i)}))},function(){v=this.offsetHeight,n(1,v)}]}class Qe extends qe{constructor(e){super(),ze(this,e,Ge,Ke,a,{items:10,height:0,itemHeight:11,start:8,end:9,scrollToIndex:12})}get scrollToIndex(){return this.$$.ctx[12]}}function Ye(e){let t,n=e[0].reltime.toFixed(3)+"";return{c(){t=P(n)},m(e,n){S(e,t,n)},p(e,r){1&r&&n!==(n=e[0].reltime.toFixed(3)+"")&&L(t,n)},d(e){e&&C(t)}}}function Xe(t){let n,r,i,o,s,a,l,c,u,h,d,f,m,g,v,y,b,w,x,k,O,A,j,T,I,D=t[0].source?"CLIENT":"SERVER",R=t[0].packetID+"",B=t[0].protoName+"",F=(t[3]||"")+"",V=t[0].reltime&&Ye(t);return{c(){n=_("div"),r=_("div"),V&&V.c(),i=E(),o=_("div"),s=P(t[2]),a=E(),l=_("div"),c=_("span"),u=P(D),d=E(),f=_("div"),m=P(R),g=E(),v=_("div"),y=P(B),b=E(),w=_("div"),x=P(F),k=E(),O=_("div"),A=_("span"),j=P(t[4]),N(r,"class","time svelte-1xc8zmp"),N(o,"class","idx svelte-1xc8zmp"),N(c,"class",h=p(t[0].source?"client":"server")+" svelte-1xc8zmp"),N(l,"class","src svelte-1xc8zmp"),N(f,"class","id svelte-1xc8zmp"),N(v,"class","name svelte-1xc8zmp"),N(w,"class","len svelte-1xc8zmp"),N(A,"class","svelte-1xc8zmp"),N(O,"class","json svelte-1xc8zmp"),N(n,"class","tr svelte-1xc8zmp"),H(n,"current",t[1]),H(n,"o",t[2]%2)},m(e,h){S(e,n,h),$(n,r),V&&V.m(r,null),$(n,i),$(n,o),$(o,s),$(n,a),$(n,l),$(l,c),$(c,u),$(n,d),$(n,f),$(f,m),$(n,g),$(n,v),$(v,y),$(n,b),$(n,w),$(w,x),$(n,k),$(n,O),$(O,A),$(A,j),T||(I=M(n,"click",t[5]),T=!0)},p(e,[t]){e[0].reltime?V?V.p(e,t):(V=Ye(e),V.c(),V.m(r,null)):V&&(V.d(1),V=null),4&t&&L(s,e[2]),1&t&&D!==(D=e[0].source?"CLIENT":"SERVER")&&L(u,D),1&t&&h!==(h=p(e[0].source?"client":"server")+" svelte-1xc8zmp")&&N(c,"class",h),1&t&&R!==(R=e[0].packetID+"")&&L(m,R),1&t&&B!==(B=e[0].protoName+"")&&L(y,B),8&t&&F!==(F=(e[3]||"")+"")&&L(x,F),16&t&&L(j,e[4]),2&t&&H(n,"current",e[1]),4&t&&H(n,"o",e[2]%2)},i:e,o:e,d(e){e&&C(n),V&&V.d(),T=!1,I()}}}function Ze(e,t,n){let r,i,{packet:o}=t,{current:s}=t,{idx:a}=t;return e.$$set=e=>{"packet"in e&&n(0,o=e.packet),"current"in e&&n(1,s=e.current),"idx"in e&&n(2,a=e.idx)},e.$$.update=()=>{1&e.$$.dirty&&n(4,r=JSON.stringify(o.object||"").substr(0,200)),1&e.$$.dirty&&o.packet&&n(3,i=o.packet.length)},[o,s,a,i,r,function(t){ae.call(this,e,t)}]}class et extends qe{constructor(e){super(),ze(this,e,Ze,Xe,a,{packet:0,current:1,idx:2})}}function tt(e,t=!!function(e){try{if("undefined"!=typeof window&&void 0!==window.localStorage)return window.localStorage[e]}catch(e){}}("debug")){if(t){const t=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return rt[Math.abs(t)%rt.length]}(e);return function(...n){console.log(`%c${e}`,`color:${t}`,...n)}}return nt}function nt(){}const rt=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function it(e,{delay:n=0,duration:r=400,easing:i=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}const{window:ot}=Me;function st(e){let t,n,r,i,a,l,c,u,h,d,f,m,g,v,y,b,w,x=e[1].closeButton&&at(e);var k=e[2];return k&&(l=J(k,{})),{c(){t=_("div"),n=_("div"),r=_("div"),x&&x.c(),i=E(),a=_("div"),l&&Be(l.$$.fragment),N(a,"class",c=p(e[1].classContent)+" svelte-n7cvum"),N(a,"style",e[9]),H(a,"content",!e[0]),N(r,"class",u=p(e[1].classWindow)+" svelte-n7cvum"),N(r,"role","dialog"),N(r,"aria-modal","true"),N(r,"aria-label",h=e[1].ariaLabelledBy?null:e[1].ariaLabel||null),N(r,"aria-labelledby",d=e[1].ariaLabelledBy||null),N(r,"style",e[8]),H(r,"window",!e[0]),N(n,"class",m=p(e[1].classWindowWrap)+" svelte-n7cvum"),N(n,"style",e[7]),H(n,"wrap",!e[0]),N(t,"class",g=p(e[1].classBg)+" svelte-n7cvum"),N(t,"style",e[6]),H(t,"bg",!e[0])},m(o,c){S(o,t,c),$(t,n),$(n,r),x&&x.m(r,null),$(r,i),$(r,a),l&&Fe(l,a,null),e[49](r),e[50](n),e[51](t),y=!0,b||(w=[M(r,"introstart",(function(){s(e[13])&&e[13].apply(this,arguments)})),M(r,"outrostart",(function(){s(e[14])&&e[14].apply(this,arguments)})),M(r,"introend",(function(){s(e[15])&&e[15].apply(this,arguments)})),M(r,"outroend",(function(){s(e[16])&&e[16].apply(this,arguments)})),M(t,"mousedown",e[20]),M(t,"mouseup",e[21])],b=!0)},p(o,s){if((e=o)[1].closeButton?x?(x.p(e,s),2&s[0]&&Ae(x,1)):(x=at(e),x.c(),Ae(x,1),x.m(r,i)):x&&(Oe(),Pe(x,1,1,(()=>{x=null})),_e()),k!==(k=e[2])){if(l){Oe();const e=l;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}k?(l=J(k,{}),Be(l.$$.fragment),Ae(l.$$.fragment,1),Fe(l,a,null)):l=null}(!y||2&s[0]&&c!==(c=p(e[1].classContent)+" svelte-n7cvum"))&&N(a,"class",c),(!y||512&s[0])&&N(a,"style",e[9]),(!y||3&s[0])&&H(a,"content",!e[0]),(!y||2&s[0]&&u!==(u=p(e[1].classWindow)+" svelte-n7cvum"))&&N(r,"class",u),(!y||2&s[0]&&h!==(h=e[1].ariaLabelledBy?null:e[1].ariaLabel||null))&&N(r,"aria-label",h),(!y||2&s[0]&&d!==(d=e[1].ariaLabelledBy||null))&&N(r,"aria-labelledby",d),(!y||256&s[0])&&N(r,"style",e[8]),(!y||3&s[0])&&H(r,"window",!e[0]),(!y||2&s[0]&&m!==(m=p(e[1].classWindowWrap)+" svelte-n7cvum"))&&N(n,"class",m),(!y||128&s[0])&&N(n,"style",e[7]),(!y||3&s[0])&&H(n,"wrap",!e[0]),(!y||2&s[0]&&g!==(g=p(e[1].classBg)+" svelte-n7cvum"))&&N(t,"class",g),(!y||64&s[0])&&N(t,"style",e[6]),(!y||3&s[0])&&H(t,"bg",!e[0])},i(n){y||(Ae(x),l&&Ae(l.$$.fragment,n),ge((()=>{f||(f=je(r,e[12],e[1].transitionWindowProps,!0)),f.run(1)})),ge((()=>{v||(v=je(t,e[11],e[1].transitionBgProps,!0)),v.run(1)})),y=!0)},o(n){Pe(x),l&&Pe(l.$$.fragment,n),f||(f=je(r,e[12],e[1].transitionWindowProps,!1)),f.run(0),v||(v=je(t,e[11],e[1].transitionBgProps,!1)),v.run(0),y=!1},d(n){n&&C(t),x&&x.d(),l&&Ve(l),e[49](null),n&&f&&f.end(),e[50](null),e[51](null),n&&v&&v.end(),b=!1,o(w)}}}function at(e){let t,n,r,i,o;const s=[ct,lt],a=[];function l(e,n){return 2&n[0]&&(t=null),null==t&&(t=!!e[17](e[1].closeButton)),t?0:1}return n=l(e,[-1,-1,-1]),r=a[n]=s[n](e),{c(){r.c(),i=j()},m(e,t){a[n].m(e,t),S(e,i,t),o=!0},p(e,t){let o=n;n=l(e,t),n===o?a[n].p(e,t):(Oe(),Pe(a[o],1,1,(()=>{a[o]=null})),_e(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),Ae(r,1),r.m(i.parentNode,i))},i(e){o||(Ae(r),o=!0)},o(e){Pe(r),o=!1},d(e){a[n].d(e),e&&C(i)}}}function lt(t){let n,r,i,o;return{c(){n=_("button"),N(n,"class",r=p(t[1].classCloseButton)+" svelte-n7cvum"),N(n,"aria-label","Close modal"),N(n,"style",t[10]),N(n,"type","button"),H(n,"close",!t[0])},m(e,r){S(e,n,r),i||(o=M(n,"click",t[18]),i=!0)},p(e,t){2&t[0]&&r!==(r=p(e[1].classCloseButton)+" svelte-n7cvum")&&N(n,"class",r),1024&t[0]&&N(n,"style",e[10]),3&t[0]&&H(n,"close",!e[0])},i:e,o:e,d(e){e&&C(n),i=!1,o()}}}function ct(e){let t,n,r;var i=e[1].closeButton;function o(e){return{props:{onClose:e[18]}}}return i&&(t=J(i,o(e))),{c(){t&&Be(t.$$.fragment),n=j()},m(e,i){t&&Fe(t,e,i),S(e,n,i),r=!0},p(e,r){if(i!==(i=e[1].closeButton)){if(t){Oe();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}i?(t=J(i,o(e)),Be(t.$$.fragment),Ae(t.$$.fragment,1),Fe(t,n.parentNode,n)):t=null}},i(e){r||(t&&Ae(t.$$.fragment,e),r=!0)},o(e){t&&Pe(t.$$.fragment,e),r=!1},d(e){e&&C(n),t&&Ve(t,e)}}}function ut(e){let t,n,r,i,o=e[2]&&st(e);const s=e[48].default,a=c(s,e,e[47],null);return{c(){o&&o.c(),t=E(),a&&a.c()},m(s,l){o&&o.m(s,l),S(s,t,l),a&&a.m(s,l),n=!0,r||(i=M(ot,"keydown",e[19]),r=!0)},p(e,r){e[2]?o?(o.p(e,r),4&r[0]&&Ae(o,1)):(o=st(e),o.c(),Ae(o,1),o.m(t.parentNode,t)):o&&(Oe(),Pe(o,1,1,(()=>{o=null})),_e()),a&&a.p&&(!n||65536&r[1])&&d(a,s,e,e[47],n?h(s,e[47],r,null):f(e[47]),null)},i(e){n||(Ae(o),Ae(a,e),n=!0)},o(e){Pe(o),Pe(a,e),n=!1},d(e){o&&o.d(e),e&&C(t),a&&a.d(e),r=!1,i()}}}function ht(e,t,n){let{$$slots:r={},$$scope:i}=t;const o=ie(),s=oe,a=e=>e.tabIndex>=0&&!e.hidden&&!e.disabled&&"none"!==e.style.display&&"hidden"!==e.type&&Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length);let{isTabbable:l=a}=t,{show:c=null}=t,{key:u="simple-modal"}=t,{ariaLabel:h=null}=t,{ariaLabelledBy:d=null}=t,{closeButton:f=!0}=t,{closeOnEsc:p=!0}=t,{closeOnOuterClick:m=!0}=t,{styleBg:g={}}=t,{styleWindowWrap:v={}}=t,{styleWindow:y={}}=t,{styleContent:b={}}=t,{styleCloseButton:w={}}=t,{classBg:$=null}=t,{classWindowWrap:x=null}=t,{classWindow:k=null}=t,{classContent:S=null}=t,{classCloseButton:C=null}=t,{unstyled:O=!1}=t,{setContext:_=s}=t,{transitionBg:A=it}=t,{transitionBgProps:P={duration:250}}=t,{transitionWindow:E=A}=t,{transitionWindowProps:j=P}=t,{disableFocusTrap:M=!1}=t;const T={ariaLabel:h,ariaLabelledBy:d,closeButton:f,closeOnEsc:p,closeOnOuterClick:m,styleBg:g,styleWindowWrap:v,styleWindow:y,styleContent:b,styleCloseButton:w,classBg:$,classWindowWrap:x,classWindow:k,classContent:S,classCloseButton:C,transitionBg:A,transitionBgProps:P,transitionWindow:E,transitionWindowProps:j,disableFocusTrap:M,isTabbable:l,unstyled:O};let N,I,D,R,L,B,F,V,z,q,H,W,U,J,K,G={...T},Q=null;const Y=e=>e?Object.keys(e).reduce(((t,n)=>`${t}; ${(e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${e[n]}`),""):"",X=e=>!!(e&&e.constructor&&e.call&&e.apply),Z=()=>{};let ee=Z,te=Z,se=Z,ae=Z;const le=(e,t={},r={},i={})=>{n(2,Q=function(e,t={}){return function(n){return new e({...n,props:{...t,...n.props}})}}(e,t)),n(1,G={...T,...r}),n(6,L=Y(Object.assign({},{width:window.innerWidth,height:window.innerHeight},G.styleBg))),n(7,B=Y(G.styleWindowWrap)),n(8,F=Y(G.styleWindow)),n(9,V=Y(G.styleContent)),n(10,z=Y(G.styleCloseButton)),n(11,q=G.transitionBg),n(12,H=G.transitionWindow),he(),n(13,ee=e=>{i.onOpen&&i.onOpen(e),o("open"),o("opening")}),n(14,te=e=>{i.onClose&&i.onClose(e),o("close"),o("closing")}),n(15,se=e=>{i.onOpened&&i.onOpened(e),o("opened")}),n(16,ae=e=>{i.onClosed&&i.onClosed(e),o("closed")})},ue=(e={})=>{Q&&(n(14,te=e.onClose||te),n(16,ae=e.onClosed||ae),n(2,Q=null),de())},he=()=>{R=window.scrollY,W=document.body.style.position,U=document.body.style.overflow,J=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${R}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},de=()=>{document.body.style.position=W||"",document.body.style.top="",document.body.style.overflow=U||"",document.body.style.width=J||"",window.scrollTo(0,R)};_(u,{open:le,close:ue});let fe=!1;return re((()=>{fe&&ue()})),ne((()=>{n(46,fe=!0)})),e.$$set=e=>{"isTabbable"in e&&n(22,l=e.isTabbable),"show"in e&&n(23,c=e.show),"key"in e&&n(24,u=e.key),"ariaLabel"in e&&n(25,h=e.ariaLabel),"ariaLabelledBy"in e&&n(26,d=e.ariaLabelledBy),"closeButton"in e&&n(27,f=e.closeButton),"closeOnEsc"in e&&n(28,p=e.closeOnEsc),"closeOnOuterClick"in e&&n(29,m=e.closeOnOuterClick),"styleBg"in e&&n(30,g=e.styleBg),"styleWindowWrap"in e&&n(31,v=e.styleWindowWrap),"styleWindow"in e&&n(32,y=e.styleWindow),"styleContent"in e&&n(33,b=e.styleContent),"styleCloseButton"in e&&n(34,w=e.styleCloseButton),"classBg"in e&&n(35,$=e.classBg),"classWindowWrap"in e&&n(36,x=e.classWindowWrap),"classWindow"in e&&n(37,k=e.classWindow),"classContent"in e&&n(38,S=e.classContent),"classCloseButton"in e&&n(39,C=e.classCloseButton),"unstyled"in e&&n(0,O=e.unstyled),"setContext"in e&&n(40,_=e.setContext),"transitionBg"in e&&n(41,A=e.transitionBg),"transitionBgProps"in e&&n(42,P=e.transitionBgProps),"transitionWindow"in e&&n(43,E=e.transitionWindow),"transitionWindowProps"in e&&n(44,j=e.transitionWindowProps),"disableFocusTrap"in e&&n(45,M=e.disableFocusTrap),"$$scope"in e&&n(47,i=e.$$scope)},e.$$.update=()=>{8388608&e.$$.dirty[0]|32768&e.$$.dirty[1]&&fe&&(X(c)?le(c):ue())},[O,G,Q,N,I,D,L,B,F,V,z,q,H,ee,te,se,ae,X,ue,e=>{if(G.closeOnEsc&&Q&&"Escape"===e.key&&(e.preventDefault(),ue()),Q&&"Tab"===e.key&&!G.disableFocusTrap){const t=D.querySelectorAll("*"),n=Array.from(t).filter(G.isTabbable).sort(((e,t)=>e.tabIndex-t.tabIndex));let r=n.indexOf(document.activeElement);-1===r&&e.shiftKey&&(r=0),r+=n.length+(e.shiftKey?-1:1),r%=n.length,n[r].focus(),e.preventDefault()}},e=>{!G.closeOnOuterClick||e.target!==N&&e.target!==I||(K=e.target)},e=>{G.closeOnOuterClick&&e.target===K&&(e.preventDefault(),ue())},l,c,u,h,d,f,p,m,g,v,y,b,w,$,x,k,S,C,_,A,P,E,j,M,fe,i,r,function(e){ce[e?"unshift":"push"]((()=>{D=e,n(5,D)}))},function(e){ce[e?"unshift":"push"]((()=>{I=e,n(4,I)}))},function(e){ce[e?"unshift":"push"]((()=>{N=e,n(3,N)}))}]}class dt extends qe{constructor(e){super(),ze(this,e,ht,ut,a,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}const ft={TREE:"tree",CODE:"code"},pt=Symbol("id"),mt=Symbol("expanded"),gt=Symbol("visible sections"),vt=Symbol("keys"),yt=Symbol("search:property"),bt=Symbol("search:value"),wt=Symbol("enforce string"),$t=Symbol("selection"),xt=Symbol("validation:error"),kt=1e3,St=100,Ct=[{start:0,end:St}],Ot=104857600,_t=1048576,At=10485760,Pt={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-content"},Et={...Pt,classWindow:"jse-modal-window jse-modal-window-sort"},jt={...Pt,classWindow:"jse-modal-window jse-modal-window-transform"},Mt="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",Tt="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",Nt="hover-insert-inside",It="hover-insert-after",Dt="hover-collection",Rt="valid",Lt="repairable",Bt="invalid",Ft=336,Vt=260,zt="NO",qt="SELF",Ht="NEXT_INSIDE";let Wt=0;function Ut(){return Wt++,Wt}var Jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Kt(e){var t={exports:{}};return e(t,t.exports),t.exports}function Gt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var Qt=Kt((function(e,t){!function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){return JSON.stringify(e)===JSON.stringify(t)}function r(e,t){return e===t}function i(e){return e.slice(0,e.length-1)}function o(e){return e[e.length-1]}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e.length<t.length)return!1;for(var i=0;i<t.length;i++)if(!n(e[i],t[i]))return!1;return!0}function a(e){return"object"===t(e)&&null!==e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){if(Array.isArray(e)){var t=e.slice();return Object.getOwnPropertySymbols(e).forEach((function(n){t[n]=e[n]})),t}if("object"===h(e)){var n=c({},e);return Object.getOwnPropertySymbols(e).forEach((function(t){n[t]=e[t]})),n}return e}function f(e,t,n){if(e[t]===n)return e;var r=d(e);return r[t]=n,r}function p(e,t){for(var n=e,r=0;r<t.length;)n=a(n)?n[t[r]]:void 0,r++;return n}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===t.length)return n;var i=t[0],o=m(e?e[i]:void 0,t.slice(1),n,r);if(!a(e)){if(r){var s="number"==typeof i?[]:{};return s[i]=o,s}throw new Error("Path does not exist")}return f(e,i,o)}function g(e,t,n){if(0===t.length)return n(e);if(!a(e))throw new Error("Path doesn't exist");var r=t[0];return f(e,r,g(e[r],t.slice(1),n))}function v(e,t){if(0===t.length)return e;if(!a(e))throw new Error("Path does not exist");if(1===t.length){var n=t[0];if(n in e){var r=d(e);return Array.isArray(r)?r.splice(n,1):delete r[n],r}return e}var i=t[0];return f(e,i,v(e[i],t.slice(1)))}function y(e,t,n){var r=t.slice(0,t.length-1),i=t[t.length-1];return g(e,r,(function(e){if(!Array.isArray(e))throw new TypeError("Array expected at path "+JSON.stringify(r));var t=d(e);return t.splice(i,0,n),t}))}function b(e,t){return void 0!==e&&(0===t.length||b(e[t[0]],t.slice(1)))}function w(e){var t=e.split("/");return t.shift(),t.map((function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}))}function $(e){return e.map((function(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function x(e,t,n){for(var r=e,i=0;i<t.length;i++){M(t[i]);var o=T(r,t[i]);if(n&&n.before){var s=n.before(r,o);void 0!==s&&(void 0!==s.json&&(r=s.json),void 0!==s.operation&&(o=s.operation))}var a=r,l=k[o.op];if(l)r=l(r,o);else{if("test"!==o.op)throw new Error("Unknown JSONPatch operation "+JSON.stringify(o.op));P(r,o)}if(n&&n.after){var c=n.after(r,o,a);void 0!==c&&(r=c)}}return r}var k={add:O,remove:C,replace:S,copy:_,move:A};function S(e,t){return m(e,t.path,t.value)}function C(e,t){return v(e,t.path)}function O(e,t){var n=t.path,r=t.value;return E(e,n)?y(e,n,r):m(e,n,r)}function _(e,t){var n=t.path,r=t.from,i=p(e,r);return E(e,n)?y(e,n,i):m(e,n,p(e,r))}function A(e,t){var n=t.path,r=t.from,i=p(e,r),o=v(e,r);return E(o,n)?y(o,n,i):m(o,n,i)}function P(e,t){var r=t.path,i=t.value;if(void 0===i)throw new Error('Test failed: no value provided (path: "'.concat($(r),'")'));if(!b(e,r))throw new Error('Test failed: path not found (path: "'.concat($(r),'")'));if(!n(p(e,r),i))throw new Error('Test failed, value differs (path: "'.concat($(r),'")'))}function E(e,t){if(0===t.length)return!1;var n=p(e,i(t));return Array.isArray(n)}function j(e,t){if("-"!==o(t))return t;var n=i(t),r=p(e,n);return n.concat(r.length)}function M(e){if(!["add","remove","replace","copy","move","test"].includes(e.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(e.op));if("string"!=typeof e.path)throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(e));if(("copy"===e.op||"move"===e.op)&&"string"!=typeof e.from)throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(e))}function T(e,t){return{op:t.op,path:j(e,w(t.path)),from:void 0!==t.from?w(t.from):null,value:t.value}}function N(e,t){var n=[];return x(e,t,{before:function(e,t){var r=I[t.op];r&&(n=r(e,t).concat(n))}}),n}var I={add:L,remove:R,replace:D,copy:B,move:F};function D(e,t){var n=t.path;return[{op:"replace",path:$(n),value:p(e,n)}]}function R(e,t){var n=t.path;return[{op:"add",path:$(n),value:p(e,n)}]}function L(e,t){var n=t.path,r=t.value;return E(e,n)||!b(e,n)?[{op:"remove",path:$(n)}]:D(e,{path:n,value:r})}function B(e,t){return L(e,{path:t.path,value:t.value})}function F(e,t){var n=t.path,r=t.from;if(n.length<r.length&&s(r,n))return[{op:"replace",path:$(n),value:e}];var i=[{op:"move",from:$(n),path:$(r)}];return!E(e,n)&&b(e,n)&&(i=i.concat(R(e,{path:n}))),i}e.compileJSONPointer=$,e.deleteIn=v,e.existsIn=b,e.getIn=p,e.immutableJSONPatch=x,e.insertAt=y,e.parseJSONPointer=w,e.revertJSONPatch=N,e.setIn=m,e.updateIn=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),Yt={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},Xt="a".charCodeAt();var Zt=/~/g,en=/\//g;function tn(e){return e.replace(Zt,"~0").replace(en,"~1")}var nn=function(e,t,n){var r={},i=0,o=0,s=0,a=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:l("",!0),pointers:r};function l(t,n){var r;c(),g(t,"value");var i=d();switch(i){case"t":h("rue"),r=!0;break;case"f":h("alse"),r=!1;break;case"n":h("ull"),r=null;break;case'"':r=u();break;case"[":r=function(e){c();var t=[],n=0;if("]"==d())return t;f();for(;;){var r=e+"/"+n;t.push(l(r)),c();var i=d();if("]"==i)break;","!=i&&w(),c(),n++}return t}(t);break;case"{":r=function(e){c();var t={};if("}"==d())return t;f();for(;;){var n=y();'"'!=d()&&w();var r=u(),i=e+"/"+tn(r);v(i,"key",n),g(i,"keyEnd"),c(),":"!=d()&&w(),c(),t[r]=l(i),c();var o=d();if("}"==o)break;","!=o&&w(),c()}return t}(t);break;default:f(),"-0123456789".indexOf(i)>=0?r=function(){var t="",n=!0;"-"==e[s]&&(t+=d());t+="0"==e[s]?d():m(),"."==e[s]&&(t+=d()+m(),n=!1);"e"!=e[s]&&"E"!=e[s]||(t+=d(),"+"!=e[s]&&"-"!=e[s]||(t+=d()),t+=m(),n=!1);var r=+t;return a&&n&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(t):r}():b()}return g(t,"valueEnd"),c(),n&&s<e.length&&b(),r}function c(){e:for(;s<e.length;){switch(e[s]){case" ":o++;break;case"\t":o+=4;break;case"\r":o=0;break;case"\n":o=0,i++;break;default:break e}s++}}function u(){for(var e,t="";'"'!=(e=d());)"\\"==e?(e=d())in Yt?t+=Yt[e]:"u"==e?t+=p():w():t+=e;return t}function h(e){for(var t=0;t<e.length;t++)d()!==e[t]&&w()}function d(){$();var t=e[s];return s++,o++,t}function f(){s--,o--}function p(){for(var e=4,t=0;e--;){t<<=4;var n=d().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-Xt+10:n>="0"&&n<="9"?t+=+n:w()}return String.fromCharCode(t)}function m(){for(var t="";e[s]>="0"&&e[s]<="9";)t+=d();if(t.length)return t;$(),b()}function g(e,t){v(e,t,y())}function v(e,t,n){r[e]=r[e]||{},r[e][t]=n}function y(){return{line:i,column:o,pos:s}}function b(){throw new SyntaxError("Unexpected token "+e[s]+" in JSON at position "+s)}function w(){f(),b()}function $(){if(s>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},rn=Kt((function(e,t){e.exports=function(){function e(t,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.message=t+" (char "+n+")",this.char=n,this.stack=(new Error).stack}(e.prototype=new Error).constructor=Error;var t={"'":!0,"‘":!0,"’":!0,"`":!0,"´":!0},n={'"':!0,"“":!0,"”":!0};function r(e){return i.test(e)}var i=/^[a-zA-Z_]$/,o=/^[0-9a-fA-F]$/;function s(e){return a.test(e)}var a=/^[0-9]$/;function l(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function c(e){return" "===e||" "<=e&&e<=" "||" "===e||" "===e||"　"===e}function u(e){return!0===t[e]}function h(e){return!0===n[e]}function d(e){return!0===t[e]?"'":!0===n[e]?'"':e}function f(e,t){return-1!==(t=e.lastIndexOf(t))?e.substring(0,t)+e.substring(t+1):e}function p(e,t){var n=e.length;if(!l(e[n-1]))return e+t;for(;l(e[n-1]);)n--;return e.substring(0,n)+t+e.substring(n)}var m=0,g=1,v=2,y=3,b=4,w=5,$=6,x={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},S={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},C={null:"null",true:"true",false:"false"},O={None:"null",True:"true",False:"false"},_="",A="",P=0,E="",j="",M=$;function T(){P++,E=_.charAt(P)}function N(){T(),"\\"===E&&T()}function I(){return M===m&&("["===j||"{"===j)||M===v||M===g||M===y}function D(){A+=j,M=$,j="",x[E]?(M=m,j=E,T()):function(){if(s(E)||"-"===E){if(M=g,"-"===E){if(j+=E,T(),!s(E))throw new e("Invalid number, digit expected",P)}else"0"===E&&(j+=E,T());for(;s(E);)j+=E,T();if("."===E){if(j+=E,T(),!s(E))throw new e("Invalid number, digit expected",P);for(;s(E);)j+=E,T()}if("e"===E||"E"===E){if(j+=E,T(),"+"!==E&&"-"!==E||(j+=E,T()),!s(E))throw new e("Invalid number, digit expected",P);for(;s(E);)j+=E,T()}}else"\\"===E&&'"'===_.charAt(P+1)?(T(),L(N)):L(T)}(),M===b&&(j=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+=c(r)?" ":r}return t}(j),D()),M===w&&(M=$,j="",D())}function R(){","===j&&(j="",M=$,D())}function L(i){if(!0===t[a=E]||!0===n[a]){var a=d(E),f=u(E)?u:h;for(j+='"',M=v,i();""!==E&&!f(E);)if("\\"===E)if(i(),void 0!==k[E])j+="\\"+E,i();else if("u"===E){j+="\\u",i();for(var p=0;p<4;p++){if(m=E,!o.test(m))throw new e("Invalid unicode character",P-j.length);j+=E,i()}}else{if("'"!==E)throw new e('Invalid escape character "\\'+E+'"',P);j+="'",i()}else S[E]?j+=S[E]:j+='"'===E?'\\"':E,i();if(d(E)!==a)throw new e("End of string expected",P-j.length);return j+='"',void i()}var m;!function(){if(r(E))for(M=y;r(E)||s(E)||"$"===E;)j+=E,T();else!function(){if(l(E)||c(E))for(M=b;l(E)||c(E);)j+=E,T();else!function(){if("/"!==E||"*"!==_[P+1])if("/"!==E||"/"!==_[P+1])!function(){for(M=$;""!==E;)j+=E,T();throw new e('Syntax error in part "'+j+'"',P-j.length)}();else for(M=w;""!==E&&"\n"!==E;)j+=E,T();else{for(M=w;""!==E&&("*"!==E||"*"===E&&"/"!==_[P+1]);)j+=E,T();"*"===E&&"/"===_[P+1]&&(j+=E,T(),j+=E,T())}}()}()}()}function B(){if(M!==m||"{"!==j)!function(){if(M!==m||"["!==j)!function(){if(M!==v)(M!==g?function(){if(M!==y)!function(){throw new e(""===j?"Unexpected end of json string":"Value expected",P-j.length)}();else if(C[j])D();else{if(O[j])return j=O[j],D();var t=j,n=A.length;if(j="",D(),M===m&&"("===j)return j="",D(),B(),M===m&&")"===j&&(j="",D(),M===m&&";"===j&&(j="",D()));for(A=function(e,t,n){return e.substring(0,n)+t+e.substring(n)}(A,'"'.concat(t),n);M===y||M===g;)D();A+='"'}}:D)();else for(D();M===m&&"+"===j;){var t;j="",D(),M===v&&(t=A.lastIndexOf('"'),A=A.substring(0,t)+j.substring(1),j="",D())}}();else if(D(),M!==m||"]"!==j){for(;;)if(B(),M===m&&","===j){if(D(),M===m&&"]"===j){A=f(A,",");break}if(""===j){A=f(A,",");break}}else{if(!I())break;A=p(A,",")}M===m&&"]"===j?D():A=p(A,"]")}else D()}();else if(D(),M!==m||"}"!==j){for(;;){if(M!==y&&M!==g||(M=v,j='"'.concat(j,'"')),M!==v)throw new e("Object key expected",P-j.length);if(D(),M===m&&":"===j)D();else{if(!I())throw new e("Colon expected",P-j.length);A=p(A,":")}if(B(),M===m&&","===j){if(D(),M===m&&"}"===j){A=f(A,",");break}if(""===j){A=f(A,",");break}}else{if(M!==v&&M!==g&&M!==y)break;A=p(A,",")}}M===m&&"}"===j?D():A=p(A,"}")}else D()}return function(t){A="",P=0,E=(_=t).charAt(0),j="",M=$,D();var n=M;if(B(),R(),""===j)return A;if(n===M&&I()){for(var r="";n===M&&I();)r+=A=p(A,","),A="",B(),R();return"[\n".concat(r).concat(A,"\n]")}throw new e("Unexpected characters",P-j.length)}}()}));function on(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function sn(e){return"object"==typeof e&&null!==e}function an(e){const t=window.document.createElement("div");return t.style.color=e,t.style.color.split(/\s+/).join("").toLowerCase()||null}function ln(e){return null===e?"null":void 0===e?"undefined":"number"==typeof e?"number":"string"==typeof e?"string":"boolean"==typeof e?"boolean":e instanceof RegExp?"regexp":Array.isArray(e)?"array":"object"}const cn=/^https?:\/\/\S+$/;function un(e){return"string"==typeof e&&cn.test(e)}function hn(e){if(""===e)return"";if("null"===e)return null;if("true"===e)return!0;if("false"===e)return!1;const t=Number(e);return isNaN(t)||isNaN(parseFloat(e))?e:t}function dn(e){return"string"==typeof e&&"string"!=typeof hn(e)}const fn=[];function pn(e,t=!1){const n={};if(!Array.isArray(e))throw new TypeError("Array expected");function r(e,i){(!Array.isArray(e)&&!on(e)||t&&i.length>0)&&(n[Qt.compileJSONPointer(i)]=!0),on(e)&&Object.keys(e).forEach((t=>{r(e[t],i.concat(t))}))}const i=Math.min(e.length,1e4);for(let t=0;t<i;t++){r(e[t],fn)}return Object.keys(n).sort().map(Qt.parseJSONPointer)}function mn(e,t,n){if(!(t<=e))for(let r=e;r<t;r++)n(r)}function gn(e,t){return e.length>t?e.slice(0,t):e}function vn(e){return{...e}}function yn(e){return Object.values(e)}function bn(e){try{return JSON.parse(e)}catch(t){return JSON.parse(rn(e))}}function wn(e){try{return bn(e)}catch(e){return}}function $n(e,t=JSON.parse){e=e.replace(kn,"");try{return t(e)}catch(e){}try{return t("["+e+"]")}catch(e){}try{return t("{"+e+"}")}catch(e){}throw new Error("Failed to parse partial JSON")}function xn(e){e=e.replace(kn,"");try{return rn(e)}catch(e){}try{const t=rn("["+e+"]");return t.substring(1,t.length-1)}catch(e){}try{const t=rn("{"+e+"}");return t.substring(1,t.length-1)}catch(e){}throw new Error("Failed to repair partial JSON")}const kn=/,\s*$/;function Sn(e,t){const n=An.exec(t);if(n){const r=parseInt(n[2],10),i=function(e,t,n=0,r=e.length){let i=0;for(let o=n;o<r;o++)e.charAt(o)===t&&i++;return i}(e,"\n",0,r),o=r-e.lastIndexOf("\n",r)-1;return{position:r,line:i,column:o,message:t.replace(An,(()=>`line ${i+1} column ${o+1}`))}}{const n=Pn.exec(t),r=n?parseInt(n[1],10):null,i=null!==r?r-1:null,o=En.exec(t),s=o?parseInt(o[1],10):null,a=null!==s?s-1:null,l=null!==i&&null!==a?function(e,t,n){let r=e.indexOf("\n"),i=1;for(;i<t&&-1!==r;)r=e.indexOf("\n",r+1),i++;return-1!==r?r+n+1:null}(e,i,a):null;return{position:l,line:i,column:a,message:t.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}}function Cn(e){return on(e)?void 0!==e.json?void 0!==e.text?'Content must contain either a property "json" or a property "text" but not both':null:void 0===e.text?'Content must contain either a property "json" or a property "text"':"string"!=typeof e.text?'Content "text" property must be string':null:"Content must be an object"}function On(e){return"string"==typeof e.text}function _n(e,t){return function(e,t=1/0){if(On(e))return e.text.length;const n=e.json;let r=0;function i(e){if(Array.isArray(e)){if(r+=e.length-1+2,r>t)return r;for(let n=0;n<e.length;n++){if(i(e[n]),r>t)return r}}else if(on(e)){const t=Object.keys(e);r+=2+t.length+(t.length-1);for(let n=0;n<t.length;n++){const o=t[n],s=e[o];r+=o.length+2,i(s)}}else r+="string"==typeof e?e.length+2:String(e).length}return i(n),r}(e,t)>t}const An=/(position|char) (\d+)/,Pn=/line (\d+)/,En=/column (\d+)/;var jn="object"==typeof global&&global&&global.Object===Object&&global,Mn="object"==typeof self&&self&&self.Object===Object&&self,Tn=jn||Mn||Function("return this")(),Nn=Tn.Symbol,In=Object.prototype,Dn=In.hasOwnProperty,Rn=In.toString,Ln=Nn?Nn.toStringTag:void 0;var Bn=Object.prototype.toString;var Fn=Nn?Nn.toStringTag:void 0;function Vn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Fn&&Fn in Object(e)?function(e){var t=Dn.call(e,Ln),n=e[Ln];try{e[Ln]=void 0;var r=!0}catch(e){}var i=Rn.call(e);return r&&(t?e[Ln]=n:delete e[Ln]),i}(e):function(e){return Bn.call(e)}(e)}function zn(e){return null!=e&&"object"==typeof e}function qn(e){return"symbol"==typeof e||zn(e)&&"[object Symbol]"==Vn(e)}function Hn(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Wn=Array.isArray,Un=Nn?Nn.prototype:void 0,Jn=Un?Un.toString:void 0;function Kn(e){if("string"==typeof e)return e;if(Wn(e))return Hn(e,Kn)+"";if(qn(e))return Jn?Jn.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var Gn=/\s/;var Qn=/^\s+/;function Yn(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Gn.test(e.charAt(t)););return t}(e)+1).replace(Qn,""):e}function Xn(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Zn=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,tr=/^0o[0-7]+$/i,nr=parseInt;function rr(e){if("number"==typeof e)return e;if(qn(e))return NaN;if(Xn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yn(e);var n=er.test(e);return n||tr.test(e)?nr(e.slice(2),n?2:8):Zn.test(e)?NaN:+e}var ir=1/0;function or(e){return e?(e=rr(e))===ir||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function sr(e){return e}function ar(e){if(!Xn(e))return!1;var t=Vn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var lr,cr=Tn["__core-js_shared__"],ur=(lr=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||""))?"Symbol(src)_1."+lr:"";var hr=Function.prototype.toString;function dr(e){if(null!=e){try{return hr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var fr=/^\[object .+?Constructor\]$/,pr=Function.prototype,mr=Object.prototype,gr=pr.toString,vr=mr.hasOwnProperty,yr=RegExp("^"+gr.call(vr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function br(e){return!(!Xn(e)||(t=e,ur&&ur in t))&&(ar(e)?yr:fr).test(dr(e));var t}function wr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return br(n)?n:void 0}var $r=wr(Tn,"WeakMap"),xr=Object.create,kr=function(){function e(){}return function(t){if(!Xn(t))return{};if(xr)return xr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Sr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Cr(){}var Or=Date.now;var _r,Ar,Pr,Er=function(){try{var e=wr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),jr=Er,Mr=jr?function(e,t){return jr(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:sr,Tr=(_r=Mr,Ar=0,Pr=0,function(){var e=Or(),t=16-(e-Pr);if(Pr=e,t>0){if(++Ar>=800)return arguments[0]}else Ar=0;return _r.apply(void 0,arguments)}),Nr=Tr;var Ir=/^(?:0|[1-9]\d*)$/;function Dr(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ir.test(e))&&e>-1&&e%1==0&&e<t}function Rr(e,t,n){"__proto__"==t&&jr?jr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Lr(e,t){return e===t||e!=e&&t!=t}var Br=Object.prototype.hasOwnProperty;function Fr(e,t,n){var r=e[t];Br.call(e,t)&&Lr(r,n)&&(void 0!==n||t in e)||Rr(e,t,n)}function Vr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Rr(n,a,l):Fr(n,a,l)}return n}var zr=Math.max;function qr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Hr(e){return null!=e&&qr(e.length)&&!ar(e)}function Wr(e,t,n){if(!Xn(n))return!1;var r=typeof t;return!!("number"==r?Hr(n)&&Dr(t,n.length):"string"==r&&t in n)&&Lr(n[t],e)}var Ur=Object.prototype;function Jr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ur)}function Kr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gr(e){return zn(e)&&"[object Arguments]"==Vn(e)}var Qr=Object.prototype,Yr=Qr.hasOwnProperty,Xr=Qr.propertyIsEnumerable,Zr=Gr(function(){return arguments}())?Gr:function(e){return zn(e)&&Yr.call(e,"callee")&&!Xr.call(e,"callee")},ei=Zr;var ti="object"==typeof exports&&exports&&!exports.nodeType&&exports,ni=ti&&"object"==typeof module&&module&&!module.nodeType&&module,ri=ni&&ni.exports===ti?Tn.Buffer:void 0,ii=(ri?ri.isBuffer:void 0)||function(){return!1},oi={};function si(e){return function(t){return e(t)}}oi["[object Float32Array]"]=oi["[object Float64Array]"]=oi["[object Int8Array]"]=oi["[object Int16Array]"]=oi["[object Int32Array]"]=oi["[object Uint8Array]"]=oi["[object Uint8ClampedArray]"]=oi["[object Uint16Array]"]=oi["[object Uint32Array]"]=!0,oi["[object Arguments]"]=oi["[object Array]"]=oi["[object ArrayBuffer]"]=oi["[object Boolean]"]=oi["[object DataView]"]=oi["[object Date]"]=oi["[object Error]"]=oi["[object Function]"]=oi["[object Map]"]=oi["[object Number]"]=oi["[object Object]"]=oi["[object RegExp]"]=oi["[object Set]"]=oi["[object String]"]=oi["[object WeakMap]"]=!1;var ai="object"==typeof exports&&exports&&!exports.nodeType&&exports,li=ai&&"object"==typeof module&&module&&!module.nodeType&&module,ci=li&&li.exports===ai&&jn.process,ui=function(){try{var e=li&&li.require&&li.require("util").types;return e||ci&&ci.binding&&ci.binding("util")}catch(e){}}(),hi=ui,di=hi&&hi.isTypedArray,fi=di?si(di):function(e){return zn(e)&&qr(e.length)&&!!oi[Vn(e)]},pi=Object.prototype.hasOwnProperty;function mi(e,t){var n=Wn(e),r=!n&&ei(e),i=!n&&!r&&ii(e),o=!n&&!r&&!i&&fi(e),s=n||r||i||o,a=s?Kr(e.length,String):[],l=a.length;for(var c in e)!t&&!pi.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Dr(c,l))||a.push(c);return a}function gi(e,t){return function(n){return e(t(n))}}var vi=gi(Object.keys,Object),yi=Object.prototype.hasOwnProperty;function bi(e){if(!Jr(e))return vi(e);var t=[];for(var n in Object(e))yi.call(e,n)&&"constructor"!=n&&t.push(n);return t}function wi(e){return Hr(e)?mi(e):bi(e)}var $i=Object.prototype.hasOwnProperty;function xi(e){if(!Xn(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Jr(e),n=[];for(var r in e)("constructor"!=r||!t&&$i.call(e,r))&&n.push(r);return n}function ki(e){return Hr(e)?mi(e,!0):xi(e)}var Si=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ci=/^\w*$/;function Oi(e,t){if(Wn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!qn(e))||(Ci.test(e)||!Si.test(e)||null!=t&&e in Object(t))}var _i=wr(Object,"create");var Ai=Object.prototype.hasOwnProperty;var Pi=Object.prototype.hasOwnProperty;function Ei(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ji(e,t){for(var n=e.length;n--;)if(Lr(e[n][0],t))return n;return-1}Ei.prototype.clear=function(){this.__data__=_i?_i(null):{},this.size=0},Ei.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ei.prototype.get=function(e){var t=this.__data__;if(_i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ai.call(t,e)?t[e]:void 0},Ei.prototype.has=function(e){var t=this.__data__;return _i?void 0!==t[e]:Pi.call(t,e)},Ei.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_i&&void 0===t?"__lodash_hash_undefined__":t,this};var Mi=Array.prototype.splice;function Ti(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ti.prototype.clear=function(){this.__data__=[],this.size=0},Ti.prototype.delete=function(e){var t=this.__data__,n=ji(t,e);return!(n<0)&&(n==t.length-1?t.pop():Mi.call(t,n,1),--this.size,!0)},Ti.prototype.get=function(e){var t=this.__data__,n=ji(t,e);return n<0?void 0:t[n][1]},Ti.prototype.has=function(e){return ji(this.__data__,e)>-1},Ti.prototype.set=function(e,t){var n=this.__data__,r=ji(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Ni=wr(Tn,"Map");function Ii(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Di(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Di.prototype.clear=function(){this.size=0,this.__data__={hash:new Ei,map:new(Ni||Ti),string:new Ei}},Di.prototype.delete=function(e){var t=Ii(this,e).delete(e);return this.size-=t?1:0,t},Di.prototype.get=function(e){return Ii(this,e).get(e)},Di.prototype.has=function(e){return Ii(this,e).has(e)},Di.prototype.set=function(e,t){var n=Ii(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ri(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ri.Cache||Di),n}Ri.Cache=Di;var Li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bi=/\\(\\)?/g,Fi=function(e){var t=Ri(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Li,(function(e,n,r,i){t.push(r?i.replace(Bi,"$1"):n||e)})),t})),Vi=Fi;function zi(e){return null==e?"":Kn(e)}function qi(e,t){return Wn(e)?e:Oi(e,t)?[e]:Vi(zi(e))}function Hi(e){if("string"==typeof e||qn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Wi(e,t){for(var n=0,r=(t=qi(t,e)).length;null!=e&&n<r;)e=e[Hi(t[n++])];return n&&n==r?e:void 0}function Ui(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Ji=Nn?Nn.isConcatSpreadable:void 0;function Ki(e){return Wn(e)||ei(e)||!!(Ji&&e&&e[Ji])}function Gi(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Ki),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Gi(a,t-1,n,r,i):Ui(i,a):r||(i[i.length]=a)}return i}var Qi=gi(Object.getPrototypeOf,Object);function Yi(e){var t=this.__data__=new Ti(e);this.size=t.size}Yi.prototype.clear=function(){this.__data__=new Ti,this.size=0},Yi.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yi.prototype.get=function(e){return this.__data__.get(e)},Yi.prototype.has=function(e){return this.__data__.has(e)},Yi.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ti){var r=n.__data__;if(!Ni||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Di(r)}return n.set(e,t),this.size=n.size,this};var Xi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zi=Xi&&"object"==typeof module&&module&&!module.nodeType&&module,eo=Zi&&Zi.exports===Xi?Tn.Buffer:void 0,to=eo?eo.allocUnsafe:void 0;function no(){return[]}var ro=Object.prototype.propertyIsEnumerable,io=Object.getOwnPropertySymbols,oo=io?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}(io(e),(function(t){return ro.call(e,t)})))}:no;var so=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ui(t,oo(e)),e=Qi(e);return t}:no;function ao(e,t,n){var r=t(e);return Wn(e)?r:Ui(r,n(e))}function lo(e){return ao(e,wi,oo)}function co(e){return ao(e,ki,so)}var uo=wr(Tn,"DataView"),ho=wr(Tn,"Promise"),fo=wr(Tn,"Set"),po="[object Map]",mo="[object Promise]",go="[object Set]",vo="[object WeakMap]",yo="[object DataView]",bo=dr(uo),wo=dr(Ni),$o=dr(ho),xo=dr(fo),ko=dr($r),So=Vn;(uo&&So(new uo(new ArrayBuffer(1)))!=yo||Ni&&So(new Ni)!=po||ho&&So(ho.resolve())!=mo||fo&&So(new fo)!=go||$r&&So(new $r)!=vo)&&(So=function(e){var t=Vn(e),n="[object Object]"==t?e.constructor:void 0,r=n?dr(n):"";if(r)switch(r){case bo:return yo;case wo:return po;case $o:return mo;case xo:return go;case ko:return vo}return t});var Co=So,Oo=Object.prototype.hasOwnProperty;var _o=Tn.Uint8Array;function Ao(e){var t=new e.constructor(e.byteLength);return new _o(t).set(new _o(e)),t}var Po=/\w*$/;var Eo=Nn?Nn.prototype:void 0,jo=Eo?Eo.valueOf:void 0;function Mo(e,t,n){var r,i,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return Ao(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var n=t?Ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?Ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,Po.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=e,jo?Object(jo.call(r)):{}}}var To=hi&&hi.isMap,No=To?si(To):function(e){return zn(e)&&"[object Map]"==Co(e)};var Io=hi&&hi.isSet,Do=Io?si(Io):function(e){return zn(e)&&"[object Set]"==Co(e)},Ro="[object Arguments]",Lo="[object Function]",Bo="[object Object]",Fo={};function Vo(e,t,n,r,i,o){var s,a=1&t,l=2&t,c=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!Xn(e))return e;var u=Wn(e);if(u){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Oo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,s)}else{var h=Co(e),d=h==Lo||"[object GeneratorFunction]"==h;if(ii(e))return function(e,t){if(t)return e.slice();var n=e.length,r=to?to(n):new e.constructor(n);return e.copy(r),r}(e,a);if(h==Bo||h==Ro||d&&!i){if(s=l||d?{}:function(e){return"function"!=typeof e.constructor||Jr(e)?{}:kr(Qi(e))}(e),!a)return l?function(e,t){return Vr(e,so(e),t)}(e,function(e,t){return e&&Vr(t,ki(t),e)}(s,e)):function(e,t){return Vr(e,oo(e),t)}(e,function(e,t){return e&&Vr(t,wi(t),e)}(s,e))}else{if(!Fo[h])return i?e:{};s=Mo(e,h,a)}}o||(o=new Yi);var f=o.get(e);if(f)return f;o.set(e,s),Do(e)?e.forEach((function(r){s.add(Vo(r,t,n,r,e,o))})):No(e)&&e.forEach((function(r,i){s.set(i,Vo(r,t,n,i,e,o))}));var p=u?void 0:(c?l?co:lo:l?ki:wi)(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(p||e,(function(r,i){p&&(r=e[i=r]),Fr(s,i,Vo(r,t,n,i,e,o))})),s}Fo[Ro]=Fo["[object Array]"]=Fo["[object ArrayBuffer]"]=Fo["[object DataView]"]=Fo["[object Boolean]"]=Fo["[object Date]"]=Fo["[object Float32Array]"]=Fo["[object Float64Array]"]=Fo["[object Int8Array]"]=Fo["[object Int16Array]"]=Fo["[object Int32Array]"]=Fo["[object Map]"]=Fo["[object Number]"]=Fo[Bo]=Fo["[object RegExp]"]=Fo["[object Set]"]=Fo["[object String]"]=Fo["[object Symbol]"]=Fo["[object Uint8Array]"]=Fo["[object Uint8ClampedArray]"]=Fo["[object Uint16Array]"]=Fo["[object Uint32Array]"]=!0,Fo["[object Error]"]=Fo[Lo]=Fo["[object WeakMap]"]=!1;function zo(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Di;++t<n;)this.add(e[t])}function qo(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}zo.prototype.add=zo.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zo.prototype.has=function(e){return this.__data__.has(e)};function Ho(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new zo:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!qo(t,(function(e,t){if(s=t,!f.has(s)&&(p===e||i(p,e,n,r,o)))return f.push(t);var s}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Wo(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Uo(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Jo=Nn?Nn.prototype:void 0,Ko=Jo?Jo.valueOf:void 0;var Go=Object.prototype.hasOwnProperty;var Qo="[object Arguments]",Yo="[object Array]",Xo="[object Object]",Zo=Object.prototype.hasOwnProperty;function es(e,t,n,r,i,o){var s=Wn(e),a=Wn(t),l=s?Yo:Co(e),c=a?Yo:Co(t),u=(l=l==Qo?Xo:l)==Xo,h=(c=c==Qo?Xo:c)==Xo,d=l==c;if(d&&ii(e)){if(!ii(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Yi),s||fi(e)?Ho(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new _o(e),new _o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Wo;case"[object Set]":var l=1&r;if(a||(a=Uo),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=Ho(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(Ko)return Ko.call(e)==Ko.call(t)}return!1}(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&Zo.call(e,"__wrapped__"),p=h&&Zo.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Yi),i(m,g,n,r,o)}}return!!d&&(o||(o=new Yi),function(e,t,n,r,i,o){var s=1&n,a=lo(e),l=a.length;if(l!=lo(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:Go.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o))}function ts(e,t,n,r,i){return e===t||(null==e||null==t||!zn(e)&&!zn(t)?e!=e&&t!=t:es(e,t,n,r,ts,i))}function ns(e){return e==e&&!Xn(e)}function rs(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function is(e){var t=function(e){for(var t=wi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ns(i)]}return t}(e);return 1==t.length&&t[0][2]?rs(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Yi;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?ts(u,c,3,r,h):d))return!1}}return!0}(n,e,t)}}function os(e,t){return null!=e&&t in Object(e)}function ss(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=qi(t,e)).length,o=!1;++r<i;){var s=Hi(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&qr(i)&&Dr(s,i)&&(Wn(e)||ei(e))}(e,t,os)}function as(e,t){return Oi(e)&&ns(t)?rs(Hi(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Wi(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?ss(n,e):ts(t,r,3)}}function ls(e){return Oi(e)?(t=Hi(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Wi(t,e)}}(e);var t}function cs(e){return"function"==typeof e?e:null==e?sr:"object"==typeof e?Wn(e)?as(e[0],e[1]):is(e):ls(e)}function us(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}var hs=us();function ds(e,t){return function(n,r){if(null==n)return n;if(!Hr(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}var fs=ds((function(e,t){return e&&hs(e,t,wi)})),ps=function(){return Tn.Date.now()},ms=Math.max,gs=Math.min;function vs(e,t,n){var r,i,o,s,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function p(e){return c=e,a=setTimeout(g,t),u?f(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=o}function g(){var e=ps();if(m(e))return v(e);a=setTimeout(g,function(e){var n=t-(e-l);return h?gs(n,o-(e-c)):n}(e))}function v(e){return a=void 0,d&&r?f(e):(r=i=void 0,s)}function y(){var e=ps(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return p(l);if(h)return clearTimeout(a),a=setTimeout(g,t),f(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=rr(t)||0,Xn(n)&&(u=!!n.leading,o=(h="maxWait"in n)?ms(rr(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},y.flush=function(){return void 0===a?s:v(ps())},y}function ys(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function bs(e){return"function"==typeof e?e:sr}function ws(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var $s=us(!0);var xs=ds((function(e,t){return e&&$s(e,t,wi)}),!0);function ks(e){return e&&e.length?e[0]:void 0}function Ss(e,t){var n=-1,r=Hr(e)?Array(e.length):[];return fs(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Cs(e){return(null==e?0:e.length)?function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,0,-1):[]}var Os=Object.prototype.hasOwnProperty;function _s(e){if(null==e)return!0;if(Hr(e)&&(Wn(e)||"string"==typeof e||"function"==typeof e.splice||ii(e)||fi(e)||ei(e)))return!e.length;var t=Co(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Jr(e))return!bi(e).length;for(var n in e)if(Os.call(e,n))return!1;return!0}function As(e,t){return ts(e,t)}function Ps(e,t){return e<t}function Es(e,t){return e&&e.length?function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!qn(s):n(s,a)))var a=s,l=o}return l}(e,cs(t),Ps):void 0}function js(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=qn(e),s=void 0!==t,a=null===t,l=t==t,c=qn(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function Ms(e,t,n){t=t.length?Hn(t,(function(e){return Wn(e)?function(t){return Wi(t,1===e.length?e[0]:e)}:e})):[sr];var r=-1;return t=Hn(t,si(cs)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ss(e,(function(e,n,i){return{criteria:Hn(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=js(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}var Ts=Math.ceil,Ns=Math.max;var Is,Ds=function(e,t,n){return n&&"number"!=typeof n&&Wr(e,t,n)&&(t=n=void 0),e=or(e),void 0===t?(t=e,e=0):t=or(t),function(e,t,n,r){for(var i=-1,o=Ns(Ts((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}(e,t,n=void 0===n?e<t?1:-1:or(n),Is)},Rs=Ds,Ls=function(e,t){return Nr(function(e,t,n){return t=zr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=zr(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Sr(e,this,a)}}(e,t,sr),e+"")}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Wr(e,t[0],t[1])?t=[]:n>2&&Wr(t[0],t[1],t[2])&&(t=[t[0]]),Ms(e,Gi(t,1),[])})),Bs=Ls;var Fs=4294967295,Vs=Math.min;function zs(e,t){if(e=function(e){var t=or(e),n=t%1;return t==t?n?t-n:t:0}(e),e<1||e>9007199254740991)return[];var n=Fs,r=Vs(e,Fs);t=bs(t),e-=Fs;for(var i=Kr(r,t);++n<e;)t(n);return i}var qs=0;function Hs(e){var t=++qs;return zi(e)+t}function Ws(e,t){const n=Qt.parseJSONPointer(t);for(let t=0;t<n.length;t++){const r=n[t];if(Us.exec(r)){const i=n.slice(0,t),o=Qt.getIn(e,i);Array.isArray(o)&&(n[t]=parseInt(r))}}return n}const Us=/^\d+$/;function Js(e){const t=Bs(e,(e=>e.start)),n=[t[0]];for(let e=0;e<t.length;e++){const r=n.length-1,i=n[r],o=t[e];o.start<=i.end?n[r]={start:Math.min(i.start,o.start),end:Math.max(i.end,o.end)}:n.push(o)}return n}function Ks(e,t){return e.some((e=>t>=e.start&&t<e.end))}function Gs(e){return Qs(e)+St}function Qs(e){return Math.floor(e/St)*St}function Ys(e,t,n,r,i=!1){const o=Array.isArray(e)?[]:{};return o[pt]=t&&t[pt]?t[pt]:Hs(),on(e)?(o[vt]=function(e,t){if(!t)return Object.keys(e);const n=t.filter((t=>void 0!==e[t])),r=new Set(n);return Object.keys(e).filter((e=>!r.has(e))).forEach((e=>n.push(e))),n}(e,t&&t[vt]),o[mt]=t&&!i?t[mt]:r(n),o[mt]&&Object.keys(e).forEach((s=>{const a=e[s],l=t&&t[s];o[s]=Ys(a,l,n.concat(s),r,i)}))):Array.isArray(e)?(o[mt]=t&&!i?t[mt]:r(n),o[gt]=t&&o[mt]&&t[gt]||Ct,o[mt]&&o[gt].forEach((({start:s,end:a})=>{mn(s,Math.min(e.length,a),(s=>{const a=e[s],l=t&&t[s];o[s]=Ys(a,l,n.concat(s),r,i)}))}))):t&&void 0!==t[wt]?o[wt]=t[wt]:dn(e)&&(o[wt]=!0),o}function Xs(e){if(Array.isArray(e)){const e=[];return e[pt]=Hs(),e[mt]=!1,e[gt]=Ct,e}if(on(e)){const t={};return t[pt]=Hs(),t[mt]=!1,t[vt]=Object.keys(e),t}const t={[pt]:Hs()};return dn(e)&&(t[wt]=!0),t}function Zs(e,t,n){t[gt].forEach((({start:t,end:r})=>{mn(t,Math.min(e.length,r),n)}))}function ea(e,t){e[vt].forEach((e=>t(e)))}function ta(e,t,n){let r=t;for(let t=0;t<n.length;t++){const i=n.slice(0,t),o=i.concat(mt);if(r=Qt.setIn(r,o,!0,!0),Array.isArray(Qt.getIn(r,i))){const e=n[t],o=i.concat(gt),s=Qt.getIn(r,o)||Ct;if(!Ks(s,e)){const t=Qs(e),n={start:t,end:Gs(t)},i=Js(s.concat(n));r=Qt.setIn(r,o,i)}}const s=Qt.getIn(e,i);r=Qt.updateIn(r,i,(e=>Ys(s,e,[],(()=>!1))))}return r}function na(e,t,n,r){const i=Qt.setIn(t,n.concat(mt),!0,!0);return Qt.updateIn(i,n,(t=>Ys(Qt.getIn(e,n),t,[],r,!0)))}function ra(e,t,n){const r=Qt.immutableJSONPatch(e,n),i=function(e,t,n){let r=t;function i(e,t,n){let r=t;return Qt.existsIn(e,n)&&!Qt.existsIn(r,n)&&(n.length>0&&(r=i(e,r,Cs(n))),r=Qt.setIn(r,n,Xs(Qt.getIn(e,n)))),r}return n.forEach((t=>{const n="string"==typeof t.from?Ws(e,t.from):null,o="string"==typeof t.path?Ws(e,t.path):null;"add"===t.op&&(r=i(e,r,Cs(o))),"copy"!==t.op&&"move"!==t.op||(r=i(e,r,n),r=i(e,r,Cs(o))),"remove"!==t.op&&"replace"!==t.op&&"test"!==t.op||(r=i(e,r,o))})),r}(e,t,n),o=Qt.immutableJSONPatch(i,n,{before:function(e,t){const{op:n,path:r,from:i}=t,o=Cs(r);let s=e,a=t;if(void 0!==t.value&&(a={...a,value:Xs(t.value)}),"add"===n||"copy"===n){const t=oa(e,o);if(t){const e=ys(r);t.includes(e)||(s=aa(s,o,e))}s=ia(s,r,1)}if("move"===n){const t=Cs(r),n=oa(s,t),o=ys(i),l=ys(r);if(As(Cs(i),Cs(r)))n&&(o!==l?(s=sa(s,t,l),s=function(e,t,n,r){return Qt.updateIn(e,t.concat([vt]),(e=>{const t=e.indexOf(n);if(-1===t)return e;const i=e.slice(0);return i.splice(t,1,r),i}))}(s,t,o,l)):(s=sa(s,t,l),s=aa(s,t,l)));else{const e=Cs(i);oa(s,e)&&(s=sa(s,e,o)),n&&(s=aa(s,t,l))}s=ia(s,i,-1),s=ia(s,r,1);const c=Qt.getIn(e,i);a={...a,value:c}}if("remove"===n){const e=Cs(r);if(oa(s,e)){s=sa(s,e,ys(r))}else s=ia(s,r,-1)}if("replace"===n){const e=Cs(r),t=oa(s,e);if(t){const n=ys(r);t.includes(n)||(s=aa(s,e,n))}}return{json:s,operation:a}},after:function(e,t,n){const{op:r,path:i}=t;let o=e;if("copy"===r&&Qt.existsIn(o,i.concat([pt]))&&(o=Qt.setIn(o,i.concat([pt]),Hs())),"replace"===r){const e=Qt.getIn(n,i.concat([wt]));"boolean"==typeof e&&(o=Qt.setIn(o,i.concat([wt]),e))}return o}});return{json:r,state:o}}function ia(e,t,n){const r=Cs(t).concat([gt]),i=Qt.getIn(e,r);if(!i)return e;const o=parseInt(ys(t),10),s=i.map((e=>({start:e.start>o?e.start+n:e.start,end:e.end>=o?e.end+n:e.end})));return Qt.setIn(e,r,s)}function oa(e,t){return Qt.getIn(e,t.concat([vt]))}function sa(e,t,n){return Qt.updateIn(e,t.concat([vt]),(e=>{const t=e.indexOf(n);if(-1===t)return e;const r=e.slice(0);return r.splice(t,1),r}))}function aa(e,t,n){return Qt.updateIn(e,t.concat([vt]),(e=>e.concat(n)))}function la(e,t,n=!1){const r=e.indexOf(t);return-1!==r?n?e.slice(r):e.slice(r+1):[]}function ca(e,t){const n=[];return function e(t,r,i){n.push(i),t&&r&&!0===r[mt]&&(Array.isArray(t)?Zs(t,r,(n=>{e(t[n],r[n],i.concat(n))})):ea(r,(n=>{e(t[n],r[n],i.concat(n))})))}(e,t,[]),n}const ua="inside",ha="after",da="key",fa="value";function pa(e,t,n=!0){const r=[];return function e(t,i,o){r.push({path:o,type:fa}),t&&i&&!0===i[mt]&&(n&&r.push({path:o,type:ua}),Array.isArray(t)?Zs(t,i,(s=>{const a=o.concat(s);e(t[s],i[s],a),n&&r.push({path:a,type:ha})})):ea(i,(s=>{const a=o.concat(s);r.push({path:a,type:da}),e(t[s],i[s],a),n&&r.push({path:a,type:ha})})))}(e,t,[]),r}function ma(e,t,n){const r=ca(e,t),i=r.map(Qt.compileJSONPointer).indexOf(Qt.compileJSONPointer(n));return-1!==i&&i<r.length-1?r[i+1]:null}const ga="after",va="inside",ya="key",ba="value",wa="multi";function $a(e){return e.type===va?e.focusPath:Cs(e.focusPath)}function xa(e){return e.paths?ks(e.paths):e.focusPath}function ka(e){return e.paths?ys(e.paths):e.focusPath}function Sa(e,t,n,r=!1,i=!1){const o=!i&&n.paths?ks(n.paths):n.focusPath,s=function(e,t,n){const r=ca(e,t),i=r.map(Qt.compileJSONPointer),o=Qt.compileJSONPointer(n),s=i.indexOf(o);return-1!==s&&s>0?r[s-1]:null}(e,t,o);if(null===s)return null;const a=s,l=s;if(r)return n.type===ga||n.type===va?Na(e,t,{type:wa,anchorPath:n.anchorPath,focusPath:n.anchorPath}):Na(e,t,{type:wa,anchorPath:n.anchorPath,focusPath:l});if(n.type===ya){const t=Cs(s),n=Qt.getIn(e,t);return Array.isArray(n)||_s(s)?{type:ba,anchorPath:a,focusPath:l}:{type:ya,anchorPath:a,focusPath:l}}return n.type===ba?{type:ba,anchorPath:a,focusPath:l}:n.type===ga||n.type===va?Na(e,t,{type:wa,anchorPath:o,focusPath:o}):Na(e,t,{type:wa,anchorPath:a,focusPath:l})}function Ca(e,t,n,r=!1,i=!1){const o=!i&&n.paths?ys(n.paths):n.focusPath,s=ma(e,t,o),a=s,l=s;if(null===s)return null;if(r){const r=ma(e,sn(Qt.getIn(e,o))?Qt.setIn(t,o.concat(mt),!1,!0):t,o);return null===r?null:n.type===ga?Na(e,t,{type:wa,anchorPath:r,focusPath:r}):n.type===va?Na(e,t,{type:wa,anchorPath:a,focusPath:l}):Na(e,t,{type:wa,anchorPath:n.anchorPath,focusPath:r})}if(n.type===ya){const t=Cs(s),n=Qt.getIn(e,t);return Array.isArray(n)?{type:ba,anchorPath:a,focusPath:l}:{type:ya,anchorPath:a,focusPath:l}}return n.type===ba?{type:ba,anchorPath:a,focusPath:l}:n.type===va?Na(e,t,{type:wa,anchorPath:a,focusPath:l}):Na(e,t,{type:wa,anchorPath:s,focusPath:s})}function Oa(e,t,n,r){const i=pa(e,t,r),o=i.findIndex((e=>As(e.path,n.focusPath)&&e.type===n.type));return{caret:-1!==o?i[o]:null,previous:-1!==o&&o>0?i[o-1]:null,next:-1!==o&&o<i.length-1?i[o+1]:null}}function _a(e,t){const n=ca(e,t);let r=0;for(;r<n.length-1&&n[r+1].length>n[r].length;)r++;const i=n[r];return 0===i.length||Array.isArray(Qt.getIn(e,Cs(i)))?{type:ba,anchorPath:i,focusPath:i}:{type:ya,anchorPath:i,focusPath:i}}function Aa(e,t,n){if(1===n.length){const t=ks(n);if("replace"===t.op||"move"===t.op){const n=Ws(e,t.path);return{type:ba,anchorPath:n,focusPath:n,edit:!1}}}if(!_s(n)&&n.every((e=>"move"===e.op))){const t=ks(n),r=n.slice(1);if(t.from!==t.path&&r.every((e=>e.from===e.path))){const n=Ws(e,t.path);return{type:ya,anchorPath:n,focusPath:n,edit:!1}}}const r=n.filter((e=>"test"!==e.op&&"remove"!==e.op&&("move"!==e.op||e.from!==e.path)&&"string"==typeof e.path)).map((t=>Ws(e,t.path)));return _s(r)?null:{type:wa,paths:r,anchorPath:ks(r),focusPath:ys(r),pathsMap:Pa(r)}}function Pa(e){const t={};return e.forEach((e=>{t[Qt.compileJSONPointer(e)]=!0})),t}function Ea(e){return e&&(e.type===ya||e.type===ba||e.type===wa&&1===e.paths.length)}function ja(e,t){return Ea(t)&&sn(Qt.getIn(e,t.focusPath))?t.focusPath:Cs(t.focusPath)}function Ma(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function Ta(e){return e&&e.edit?{...e,edit:!1}:e}function Na(e,t,n){const{type:r,anchorPath:i,focusPath:o,path:s,edit:a=!1,next:l=!1,nextInside:c=!1}=n;if(r===ya){let e={type:r,anchorPath:s,focusPath:s,edit:a};return l&&(e={...e,type:ba}),e}if(r===ba){let n={type:ba,anchorPath:s,focusPath:s,edit:a};return l&&(n=Ca(e,t,n)||n),c&&(n=function(e,t,n){const r=n.focusPath,i=Cs(r),o=[ys(r)],s=ma(Qt.getIn(e,i),Qt.getIn(t,i),o);return Na(e,t,s?{type:ba,path:i.concat(s)}:{type:ga,path:r})}(e,t,n)||n),n}if(r===ga)return{type:r,anchorPath:s,focusPath:s};if(r===va)return{type:r,anchorPath:s,focusPath:s};if(r===wa&&s){const e=[s];return{type:wa,anchorPath:s,focusPath:s,paths:e,pathsMap:Pa(e)}}if(i&&o){const n=function(e,t,n,r){if(As(n,r))return[n];{const i=function(e,t){let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;return e.slice(0,n)}(n,r);if(n.length===i.length||r.length===i.length)return[i];const o=n[i.length],s=r[i.length],a=Qt.getIn(e,i);if(on(a)){const e=oa(t,i),n=e.indexOf(o),r=e.indexOf(s);if(-1!==n&&-1!==r){const t=Math.min(n,r),o=Math.max(n,r),s=[];for(let n=t;n<=o;n++)s.push(i.concat(e[n]));return s}}if(Array.isArray(a)){const e=Math.min(o,s),t=Math.max(o,s),n=[];for(let r=e;r<=t;r++)n.push(i.concat(r));return n}}throw new Error("Failed to create selection")}(e,t,i,o),r=Ma(o,ys(n))||Ma(i,ks(n));return{type:wa,anchorPath:r?ks(n):ys(n),focusPath:r?ys(n):ks(n),paths:n,pathsMap:Pa(n)}}throw new TypeError(`Unknown type of selection ${JSON.stringify(n)}`)}function Ia(e,t,n=2){if(t.type===ya)return ys(t.focusPath);if(t.type===ba){const r=Qt.getIn(e,t.focusPath);return"string"==typeof r?r:JSON.stringify(r,null,n)}if(t.type===wa){if(_s(t.focusPath))return JSON.stringify(e,null,n);const r=$a(t),i=Qt.getIn(e,r);if(Array.isArray(i)){if(1===t.paths.length){const r=Qt.getIn(e,ks(t.paths));return JSON.stringify(r,null,n)}return t.paths.map((t=>{const r=Qt.getIn(e,t);return`${JSON.stringify(r,null,n)},`})).join("\n")}return t.paths.map((t=>{const r=ys(t),i=Qt.getIn(e,t);return`${JSON.stringify(r)}: ${JSON.stringify(i,null,n)},`})).join("\n")}return null}function Da(e,t){if(!t)return null;let n={};return(t.type===wa?t.paths:[t.focusPath]).forEach((r=>{const i=r.concat($t);if(!Qt.existsIn(n,i)){const t=Qt.getIn(e,i);n=Qt.setIn(n,i,Array.isArray(t)?[]:{},!0)}n=Qt.setIn(n,i,t,!0)})),n}function Ra(e){return!!e&&(e.type===ya||e.type===ba||(e.type===wa&&1===e.paths.length||void 0))}function La(e,t,n){var r;const i=null===(r=null==n?void 0:n[t])||void 0===r?void 0:r[$t];return!(!i||i.type!==ya||i.edit)&&As(i.focusPath,e.concat(t))}function Ba({escapeControlCharacters:e,escapeUnicodeCharacters:t}){return e?t?Fa:Va:t?za:qa}const Fa={escapeValue:e=>Ha(Ka(String(e))),unescapeValue:e=>Ga(Wa(e))},Va={escapeValue:e=>Ka(String(e)),unescapeValue:e=>Ga(e)},za={escapeValue:e=>Ha(String(e)),unescapeValue:e=>Wa(e)},qa={escapeValue:e=>String(e),unescapeValue:e=>e};function Ha(e){return e.replace(/[^\x20-\x7F]/g,(e=>"\b"===e||"\f"===e||"\n"===e||"\r"===e||"\t"===e?e:"\\u"+("000"+e.codePointAt(0).toString(16)).slice(-4)))}function Wa(e){return e.replace(/\\u[a-fA-F0-9]{4}/g,(e=>{try{return JSON.parse('"'+e+'"')}catch(t){return e}}))}const Ua={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},Ja={"\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"};function Ka(e){return e.replace(/[\b\f\n\r\t]/g,(e=>Ua[e]||e))}function Ga(e){return e.replace(/\\[bfnrt]/g,(e=>Ja[e]||e))}function Qa(e){return"string"!=typeof e?String(e):e.endsWith("\n")?e+"\n":e}function Ya(e,t){return Za(e,(e=>e.nodeName.toUpperCase()===t.toUpperCase()))}function Xa(e,t,n){return Za(e,(e=>function(e,t,n){return"function"==typeof e.getAttribute&&e.getAttribute(t)===n}(e,t,n)))}function Za(e,t){return!!el(e,t)}function el(e,t){let n=e;for(;n&&!t(n);)n=n.parentNode;return n||void 0}function tl(e){if(null==e.firstChild)return void e.focus();const t=document.createRange(),n=window.getSelection();t.setStart(e,1),t.collapse(!0),n.removeAllRanges(),n.addRange(t)}function nl(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView}function rl(e){return Za(nl(e).document.activeElement,(t=>t===e))}function il(e,t){return el(e,(e=>e.nodeName===t))}function ol(e){return Xa(e,"data-type","selectable-key")?ya:Xa(e,"data-type","selectable-value")?ba:Xa(e,"data-type","insert-selection-area-inside")?va:Xa(e,"data-type","insert-selection-area-after")?ga:wa}function sl(e){return encodeURIComponent(JSON.stringify(e))}function al(e){const t=el(e,(e=>e.hasAttribute("data-path")));return t?(n=t.getAttribute("data-path"),JSON.parse(decodeURIComponent(n))):null;var n}function ll({allElements:e,currentElement:t,direction:n,hasPrio:r=(()=>!0),margin:i=10}){const o=(s=e.filter((function(e){const t=e.getBoundingClientRect();return t.width>0&&t.height>0})),a=c,(Wn(s)?Hn:Ss)(s,cs(a)));var s,a;const l=c(t);function c(e){const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2,rect:t,element:e}}function u(e,t,n=1){const r=e.x-t.x,i=(e.y-t.y)*n;return Math.sqrt(r*r+i*i)}const h=e=>u(e,l),d=e=>u(e,l,10);if("Left"===n||"Right"===n){const e="Left"===n?o.filter((e=>{return t=l,e.rect.left+i<t.rect.left;var t})):o.filter((e=>{return t=l,e.rect.right>t.rect.right+i;var t})),t=Es(e.filter((e=>{return t=e,n=l,Math.abs(t.y-n.y)<i;var t,n})),h)||Es(e,d);return null==t?void 0:t.element}if("Up"===n||"Down"===n){const e="Up"===n?o.filter((e=>{return t=l,e.y+i<t.y;var t})):o.filter((e=>{return t=l,e.y>t.y+i;var t})),t=Es(e.filter((e=>r(e.element))),h)||Es(e,h);return null==t?void 0:t.element}}const cl="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function ul(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Command"),e.altKey&&t.push(cl?"Option":"Alt"),e.shiftKey&&t.push("Shift");const n=function(e){return dl[e]||""}(e.which);return hl[n]||t.push(n),t.join("+")}const hl={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},dl={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},{window:fl}=Me;function pl(e){let t,r,i,o,s;const a=[e[1]];var l=e[0];function c(e){let t={};for(let e=0;e<a.length;e+=1)t=n(t,a[e]);return{props:t}}return l&&(o=J(l,c())),{c(){t=_("div"),r=_("input"),i=E(),o&&Be(o.$$.fragment),N(r,"class","jse-hidden-input svelte-p9zniz"),N(t,"class","jse-absolute-popup-content svelte-p9zniz"),N(t,"style",e[7]())},m(n,a){S(n,t,a),$(t,r),e[10](r),$(t,i),o&&Fe(o,t,null),s=!0},p(e,n){const r=2&n?De(a,[Re(e[1])]):{};if(l!==(l=e[0])){if(o){Oe();const e=o;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}l?(o=J(l,c()),Be(o.$$.fragment),Ae(o.$$.fragment,1),Fe(o,t,null)):o=null}else l&&o.$set(r)},i(e){s||(o&&Ae(o.$$.fragment,e),s=!0)},o(e){o&&Pe(o.$$.fragment,e),s=!1},d(n){n&&C(t),e[10](null),o&&Ve(o)}}}function ml(e){let t,n,r,i,s,a=e[0]&&e[1]&&pl(e);const l=e[9].default,u=c(l,e,e[8],null);return{c(){t=_("div"),a&&a.c(),n=E(),u&&u.c(),N(t,"class","jse-absolute-popup svelte-p9zniz")},m(o,l){S(o,t,l),a&&a.m(t,null),e[11](t),S(o,n,l),u&&u.m(o,l),r=!0,i||(s=[M(fl,"mousedown",e[4],!0),M(fl,"keydown",e[5],!0),M(fl,"wheel",e[6],!0),M(t,"mousedown",gl),M(t,"keydown",e[5])],i=!0)},p(e,[n]){e[0]&&e[1]?a?(a.p(e,n),3&n&&Ae(a,1)):(a=pl(e),a.c(),Ae(a,1),a.m(t,null)):a&&(Oe(),Pe(a,1,1,(()=>{a=null})),_e()),u&&u.p&&(!r||256&n)&&d(u,l,e,e[8],r?h(l,e[8],n,null):f(e[8]),null)},i(e){r||(Ae(a),Ae(u,e),r=!0)},o(e){Pe(a),Pe(u,e),r=!1},d(r){r&&C(t),a&&a.d(),e[11](null),r&&C(n),u&&u.d(r),i=!1,o(s)}}}function gl(e){e.stopPropagation()}function vl(e,t,n){let{$$slots:r={},$$scope:i}=t;const o=tt("jsoneditor:AbsolutePopup");let s,a,l=null,c=null,u={};function h(){if(l){const e=u.onClose;n(0,l=null),n(1,c=null),u={},e&&e()}}function d(e){u&&u.closeOnOuterClick&&!Za(e.target,(e=>e===s))&&h()}function f(){a&&a.focus()}return oe("absolute-popup",{openAbsolutePopup:function(e,t,r){o("open...",r),n(0,l=e),n(1,c=t||{}),u=r||{},me().then(f)},closeAbsolutePopup:h}),e.$$set=e=>{"$$scope"in e&&n(8,i=e.$$scope)},[l,c,s,a,function(e){d(e)},function(e){"Escape"===ul(e)&&h()},function(e){d(e)},function(){const e=s.getBoundingClientRect(),{left:t,top:n,positionAbove:r,positionLeft:i}=function(){if(u.anchor){const{anchor:e,width:t=0,height:n=0,offsetTop:r=0,offsetLeft:i=0,position:o}=u,{left:s,top:a,bottom:l,right:c}=e.getBoundingClientRect(),h="top"===o||a+n>window.innerHeight&&a>n,d="left"===o||s+t>window.innerWidth&&s>t;return{left:d?c-i:s+i,top:h?a-r:l+r,positionAbove:h,positionLeft:d}}if("number"==typeof u.left&&"number"==typeof u.top){const{left:e,top:t,width:n=0,height:r=0}=u;return{left:e,top:t,positionAbove:t+r>window.innerHeight&&t>r,positionLeft:e+n>window.innerWidth&&e>n}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}();return(r?`bottom: ${e.top-n}px;`:`top: ${n-e.top}px;`)+(i?`right: ${e.left-t}px;`:`left: ${t-e.left}px;`)},i,r,function(e){ce[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},function(e){ce[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class yl extends qe{constructor(e){super(),ze(this,e,vl,ml,l,{})}}var bl={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},wl={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm256 88v96h96l-96-96z"]},$l={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},xl={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM160 112c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM112 448c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},kl={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},Sl={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},Cl={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},Ol={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},_l={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Al={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},Pl={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},El={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},jl={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Ml={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},Tl={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]},Nl={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},Il={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},Dl={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},Rl={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Ll={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Bl={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Fl={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},Vl={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},zl={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},ql={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},Hl={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},Wl={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},Ul={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]};function Jl(e,t=1e3){if(e<.9*t)return e.toFixed()+" B";const n=e/t;if(n<.9*t)return n.toFixed(1)+" KB";const r=n/t;if(r<.9*t)return r.toFixed(1)+" MB";const i=r/t;if(i<.9*t)return i.toFixed(1)+" GB";return(i/t).toFixed(1)+" TB"}const Kl=tt("jsoneditor:FocusTracker");function Gl({onMount:e,onDestroy:t,getWindow:n,hasFocus:r,onFocus:i,onBlur:o}){let s,a=!1;function l(){const e=r();e&&(clearTimeout(s),a||(Kl("focus"),i(),a=e))}function c(){a&&(clearTimeout(s),s=setTimeout((()=>{Kl("blur"),a=!1,o()})))}e((()=>{Kl("mount FocusTracker");const e=n();e&&(e.addEventListener("focusin",l,!0),e.addEventListener("focusout",c,!0))})),t((()=>{Kl("destroy FocusTracker");const e=n();e&&(e.removeEventListener("focusin",l,!0),e.removeEventListener("focusout",c,!0))}))}function Ql(t){let r,i=[t[0]],o={};for(let e=0;e<i.length;e+=1)o=n(o,i[e]);return{c(){r=A("path"),D(r,o)},m(e,t){S(e,r,t)},p(e,[t]){D(r,o=De(i,[1&t&&e[0]]))},i:e,o:e,d(e){e&&C(r)}}}function Yl(e,t,n){let{data:r={}}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class Xl extends qe{constructor(e){super(),ze(this,e,Yl,Ql,a,{data:0})}}function Zl(t){let r,i=[t[0]],o={};for(let e=0;e<i.length;e+=1)o=n(o,i[e]);return{c(){r=A("polygon"),D(r,o)},m(e,t){S(e,r,t)},p(e,[t]){D(r,o=De(i,[1&t&&e[0]]))},i:e,o:e,d(e){e&&C(r)}}}function ec(e,t,n){let{data:r={}}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class tc extends qe{constructor(e){super(),ze(this,e,ec,Zl,a,{data:0})}}function nc(t){let n;return{c(){n=A("g")},m(e,r){S(e,n,r),n.innerHTML=t[0]},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:e,o:e,d(e){e&&C(n)}}}function rc(e,t,n){let r,i=870711;let{data:o}=t;function s(e){if(!e||!e.raw)return null;let t=e.raw;const n={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,((e,t)=>{const r=(i+=1,`fa-${i.toString(16)}`);return n[t]=r,` id="${r}"`})),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((e,t,r,i)=>{const o=t||i;return o&&n[o]?`#${n[o]}`:e})),t}return e.$$set=e=>{"data"in e&&n(1,o=e.data)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=s(o))},[r,o]}class ic extends qe{constructor(e){super(),ze(this,e,rc,nc,a,{data:1})}}function oc(e){let t,n,r,i;const o=e[13].default,s=c(o,e,e[12],null);return{c(){t=A("svg"),s&&s.c(),N(t,"version","1.1"),N(t,"class",n="fa-icon "+e[0]+" svelte-1dof0an"),N(t,"x",e[8]),N(t,"y",e[9]),N(t,"width",e[1]),N(t,"height",e[2]),N(t,"aria-label",e[11]),N(t,"role",r=e[11]?"img":"presentation"),N(t,"viewBox",e[3]),N(t,"style",e[10]),H(t,"fa-spin",e[4]),H(t,"fa-pulse",e[6]),H(t,"fa-inverse",e[5]),H(t,"fa-flip-horizontal","horizontal"===e[7]),H(t,"fa-flip-vertical","vertical"===e[7])},m(e,n){S(e,t,n),s&&s.m(t,null),i=!0},p(e,[a]){s&&s.p&&(!i||4096&a)&&d(s,o,e,e[12],i?h(o,e[12],a,null):f(e[12]),null),(!i||1&a&&n!==(n="fa-icon "+e[0]+" svelte-1dof0an"))&&N(t,"class",n),(!i||256&a)&&N(t,"x",e[8]),(!i||512&a)&&N(t,"y",e[9]),(!i||2&a)&&N(t,"width",e[1]),(!i||4&a)&&N(t,"height",e[2]),(!i||2048&a)&&N(t,"aria-label",e[11]),(!i||2048&a&&r!==(r=e[11]?"img":"presentation"))&&N(t,"role",r),(!i||8&a)&&N(t,"viewBox",e[3]),(!i||1024&a)&&N(t,"style",e[10]),(!i||17&a)&&H(t,"fa-spin",e[4]),(!i||65&a)&&H(t,"fa-pulse",e[6]),(!i||33&a)&&H(t,"fa-inverse",e[5]),(!i||129&a)&&H(t,"fa-flip-horizontal","horizontal"===e[7]),(!i||129&a)&&H(t,"fa-flip-vertical","vertical"===e[7])},i(e){i||(Ae(s,e),i=!0)},o(e){Pe(s,e),i=!1},d(e){e&&C(t),s&&s.d(e)}}}function sc(e,t,n){let{$$slots:r={},$$scope:i}=t,{class:o}=t,{width:s}=t,{height:a}=t,{box:l}=t,{spin:c=!1}=t,{inverse:u=!1}=t,{pulse:h=!1}=t,{flip:d=null}=t,{x:f}=t,{y:p}=t,{style:m}=t,{label:g}=t;return e.$$set=e=>{"class"in e&&n(0,o=e.class),"width"in e&&n(1,s=e.width),"height"in e&&n(2,a=e.height),"box"in e&&n(3,l=e.box),"spin"in e&&n(4,c=e.spin),"inverse"in e&&n(5,u=e.inverse),"pulse"in e&&n(6,h=e.pulse),"flip"in e&&n(7,d=e.flip),"x"in e&&n(8,f=e.x),"y"in e&&n(9,p=e.y),"style"in e&&n(10,m=e.style),"label"in e&&n(11,g=e.label),"$$scope"in e&&n(12,i=e.$$scope)},[o,s,a,l,c,u,h,d,f,p,m,g,i,r]}class ac extends qe{constructor(e){super(),ze(this,e,sc,oc,a,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function lc(e,t,n){const r=e.slice();return r[24]=t[n],r}function cc(e,t,n){const r=e.slice();return r[27]=t[n],r}function uc(e){let t,n,r,i,o=e[6].paths&&hc(e),s=e[6].polygons&&fc(e),a=e[6].raw&&mc(e);return{c(){o&&o.c(),t=E(),s&&s.c(),n=E(),a&&a.c(),r=j()},m(e,l){o&&o.m(e,l),S(e,t,l),s&&s.m(e,l),S(e,n,l),a&&a.m(e,l),S(e,r,l),i=!0},p(e,i){e[6].paths?o?(o.p(e,i),64&i&&Ae(o,1)):(o=hc(e),o.c(),Ae(o,1),o.m(t.parentNode,t)):o&&(Oe(),Pe(o,1,1,(()=>{o=null})),_e()),e[6].polygons?s?(s.p(e,i),64&i&&Ae(s,1)):(s=fc(e),s.c(),Ae(s,1),s.m(n.parentNode,n)):s&&(Oe(),Pe(s,1,1,(()=>{s=null})),_e()),e[6].raw?a?(a.p(e,i),64&i&&Ae(a,1)):(a=mc(e),a.c(),Ae(a,1),a.m(r.parentNode,r)):a&&(Oe(),Pe(a,1,1,(()=>{a=null})),_e())},i(e){i||(Ae(o),Ae(s),Ae(a),i=!0)},o(e){Pe(o),Pe(s),Pe(a),i=!1},d(e){o&&o.d(e),e&&C(t),s&&s.d(e),e&&C(n),a&&a.d(e),e&&C(r)}}}function hc(e){let t,n,r=e[6].paths,i=[];for(let t=0;t<r.length;t+=1)i[t]=dc(cc(e,r,t));const o=e=>Pe(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=j()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);S(e,t,r),n=!0},p(e,n){if(64&n){let s;for(r=e[6].paths,s=0;s<r.length;s+=1){const o=cc(e,r,s);i[s]?(i[s].p(o,n),Ae(i[s],1)):(i[s]=dc(o),i[s].c(),Ae(i[s],1),i[s].m(t.parentNode,t))}for(Oe(),s=r.length;s<i.length;s+=1)o(s);_e()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Ae(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Pe(i[e]);n=!1},d(e){O(i,e),e&&C(t)}}}function dc(e){let t,n;return t=new Xl({props:{data:e[27]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.data=e[27]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function fc(e){let t,n,r=e[6].polygons,i=[];for(let t=0;t<r.length;t+=1)i[t]=pc(lc(e,r,t));const o=e=>Pe(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=j()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);S(e,t,r),n=!0},p(e,n){if(64&n){let s;for(r=e[6].polygons,s=0;s<r.length;s+=1){const o=lc(e,r,s);i[s]?(i[s].p(o,n),Ae(i[s],1)):(i[s]=pc(o),i[s].c(),Ae(i[s],1),i[s].m(t.parentNode,t))}for(Oe(),s=r.length;s<i.length;s+=1)o(s);_e()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Ae(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Pe(i[e]);n=!1},d(e){O(i,e),e&&C(t)}}}function pc(e){let t,n;return t=new tc({props:{data:e[24]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.data=e[24]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function mc(e){let t,n,r;function i(t){e[15](t)}let o={};return void 0!==e[6]&&(o.data=e[6]),t=new ic({props:o}),ce.push((()=>Le(t,"data",i,e[6]))),{c(){Be(t.$$.fragment)},m(e,n){Fe(t,e,n),r=!0},p(e,r){const i={};!n&&64&r&&(n=!0,i.data=e[6],ve((()=>n=!1))),t.$set(i)},i(e){r||(Ae(t.$$.fragment,e),r=!0)},o(e){Pe(t.$$.fragment,e),r=!1},d(e){Ve(t,e)}}}function gc(e){let t;const n=e[14].default,r=c(n,e,e[16],null),i=r||function(e){let t,n,r=e[6]&&uc(e);return{c(){r&&r.c(),t=j()},m(e,i){r&&r.m(e,i),S(e,t,i),n=!0},p(e,n){e[6]?r?(r.p(e,n),64&n&&Ae(r,1)):(r=uc(e),r.c(),Ae(r,1),r.m(t.parentNode,t)):r&&(Oe(),Pe(r,1,1,(()=>{r=null})),_e())},i(e){n||(Ae(r),n=!0)},o(e){Pe(r),n=!1},d(e){r&&r.d(e),e&&C(t)}}}(e);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,o){r?r.p&&(!t||65536&o)&&d(r,n,e,e[16],t?h(n,e[16],o,null):f(e[16]),null):i&&i.p&&(!t||64&o)&&i.p(e,t?o:-1)},i(e){t||(Ae(i,e),t=!0)},o(e){Pe(i,e),t=!1},d(e){i&&i.d(e)}}}function vc(e){let t,n;return t=new ac({props:{label:e[5],width:e[7],height:e[8],box:e[10],style:e[9],spin:e[1],flip:e[4],inverse:e[2],pulse:e[3],class:e[0],$$slots:{default:[gc]},$$scope:{ctx:e}}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.label=e[5]),128&n&&(r.width=e[7]),256&n&&(r.height=e[8]),1024&n&&(r.box=e[10]),512&n&&(r.style=e[9]),2&n&&(r.spin=e[1]),16&n&&(r.flip=e[4]),4&n&&(r.inverse=e[2]),8&n&&(r.pulse=e[3]),1&n&&(r.class=e[0]),65600&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function yc(e,t,n){let r,i,o,s,{$$slots:a={},$$scope:l}=t,{class:c=""}=t,{data:u}=t,{scale:h=1}=t,{spin:d=!1}=t,{inverse:f=!1}=t,{pulse:p=!1}=t,{flip:m=null}=t,{label:g=null}=t,v=null,{style:y=null}=t;function b(){let e=1;return void 0!==h&&(e=Number(h)),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*e}function w(){return v?Math.max(v.width,v.height)/16:1}return e.$$set=e=>{"class"in e&&n(0,c=e.class),"data"in e&&n(11,u=e.data),"scale"in e&&n(12,h=e.scale),"spin"in e&&n(1,d=e.spin),"inverse"in e&&n(2,f=e.inverse),"pulse"in e&&n(3,p=e.pulse),"flip"in e&&n(4,m=e.flip),"label"in e&&n(5,g=e.label),"style"in e&&n(13,y=e.style),"$$scope"in e&&n(16,l=e.$$scope)},e.$$.update=()=>{14336&e.$$.dirty&&(!function(){if(void 0===u)return;const e=function(e){if("iconName"in e&&"icon"in e){let t={},n=e.icon,r=e.iconName,i={width:n[0],height:n[1],paths:[{d:n[4]}]};return t[r]=i,t}return e}(u),[t]=Object.keys(e),r=e[t];r.paths||(r.paths=[]),r.d&&r.paths.push({d:r.d}),r.polygons||(r.polygons=[]),r.points&&r.polygons.push({points:r.points}),n(6,v=r)}(),n(7,r=v?v.width/w()*b():0),n(8,i=v?v.height/w()*b():0),n(9,o=function(){let e="";null!==y&&(e+=y);let t=b();if(1===t){if(0===e.length)return;return e}return""===e||e.endsWith(";")||(e+="; "),`${e}font-size: ${t}em`}()),n(10,s=v?`0 0 ${v.width} ${v.height}`:`0 0 ${r} ${i}`))},[c,d,f,p,m,g,v,r,i,o,s,u,h,y,a,function(e){v=e,n(6,v)},l]}class bc extends qe{constructor(e){super(),ze(this,e,yc,vc,a,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13})}}function wc(e,t,n){const r=e.slice();return r[8]=t[n],r}function $c(e){let t,n;return t=new bc({props:{data:e[1]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.data=e[1]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function xc(e){let t,n;return t=new bc({props:{data:e[8].icon}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.data=e[8].icon),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function kc(e){let t,n,r,i,s,a,l,c,u,h=e[8].text+"",d=e[8].icon&&xc(e);function f(){return e[6](e[8])}function p(){return e[7](e[8])}return{c(){t=_("button"),d&&d.c(),n=E(),r=P(h),i=E(),N(t,"type","button"),N(t,"class","jse-button jse-action jse-primary svelte-kvi5ls"),N(t,"title",s=e[8].title),t.disabled=a=e[8].disabled},m(e,o){S(e,t,o),d&&d.m(t,null),$(t,n),$(t,r),$(t,i),l=!0,c||(u=[M(t,"click",f),M(t,"mousedown",p)],c=!0)},p(i,o){(e=i)[8].icon?d?(d.p(e,o),8&o&&Ae(d,1)):(d=xc(e),d.c(),Ae(d,1),d.m(t,n)):d&&(Oe(),Pe(d,1,1,(()=>{d=null})),_e()),(!l||8&o)&&h!==(h=e[8].text+"")&&L(r,h),(!l||8&o&&s!==(s=e[8].title))&&N(t,"title",s),(!l||8&o&&a!==(a=e[8].disabled))&&(t.disabled=a)},i(e){l||(Ae(d),l=!0)},o(e){Pe(d),l=!1},d(e){e&&C(t),d&&d.d(),c=!1,o(u)}}}function Sc(e){let t,n,r,i,o,s,a,l,c,u,h=e[1]&&$c(e),d=e[3],f=[];for(let t=0;t<d.length;t+=1)f[t]=kc(wc(e,d,t));const p=e=>Pe(f[e],1,1,(()=>{f[e]=null}));return{c(){t=_("div"),n=_("div"),h&&h.c(),r=E(),i=P(e[2]),o=E(),s=_("div");for(let e=0;e<f.length;e+=1)f[e].c();N(n,"class","jse-text svelte-kvi5ls"),H(n,"jse-clickable",null!==e[4]),N(s,"class","jse-actions svelte-kvi5ls"),N(t,"class",a="jse-message jse-"+e[0]+" svelte-kvi5ls")},m(a,d){S(a,t,d),$(t,n),h&&h.m(n,null),$(n,r),$(n,i),$(t,o),$(t,s);for(let e=0;e<f.length;e+=1)f[e].m(s,null);l=!0,c||(u=M(n,"click",e[5]),c=!0)},p(e,[o]){if(e[1]?h?(h.p(e,o),2&o&&Ae(h,1)):(h=$c(e),h.c(),Ae(h,1),h.m(n,r)):h&&(Oe(),Pe(h,1,1,(()=>{h=null})),_e()),(!l||4&o)&&L(i,e[2]),(!l||16&o)&&H(n,"jse-clickable",null!==e[4]),8&o){let t;for(d=e[3],t=0;t<d.length;t+=1){const n=wc(e,d,t);f[t]?(f[t].p(n,o),Ae(f[t],1)):(f[t]=kc(n),f[t].c(),Ae(f[t],1),f[t].m(s,null))}for(Oe(),t=d.length;t<f.length;t+=1)p(t);_e()}(!l||1&o&&a!==(a="jse-message jse-"+e[0]+" svelte-kvi5ls"))&&N(t,"class",a)},i(e){if(!l){Ae(h);for(let e=0;e<d.length;e+=1)Ae(f[e]);l=!0}},o(e){Pe(h),f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)Pe(f[e]);l=!1},d(e){e&&C(t),h&&h.d(),O(f,e),c=!1,u()}}}function Cc(e,t,n){let{type:r="success"}=t,{icon:i}=t,{message:o}=t,{actions:s=[]}=t,{onClick:a}=t;return e.$$set=e=>{"type"in e&&n(0,r=e.type),"icon"in e&&n(1,i=e.icon),"message"in e&&n(2,o=e.message),"actions"in e&&n(3,s=e.actions),"onClick"in e&&n(4,a=e.onClick)},[r,i,o,s,a,function(){a&&a()},e=>e.onClick(),e=>e.onMouseDown()]}class Oc extends qe{constructor(e){super(),ze(this,e,Cc,Sc,l,{type:0,icon:1,message:2,actions:3,onClick:4})}}function _c(e){return e.map((e=>"number"==typeof e?"["+e+"]":"string"==typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+String(e)+'"]')).join("")}function Ac(e){return e.map((e=>{const t=String(e);return Pc.test(t)?`?.${t}`:`?.[${JSON.stringify(e)}]`})).join("")}const Pc=/^[A-z$_][A-z$_\d]*$/i;function Ec(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function jc(e){let t,n,r,i;const o=[Tc,Mc],s=[];function a(e,t){return e[2]||1===e[0].length?0:1}return n=a(e),r=s[n]=o[n](e),{c(){t=_("div"),r.c(),N(t,"class","jse-validation-errors-overview svelte-1oe8e8r")},m(e,r){S(e,t,r),s[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?s[n].p(e,i):(Oe(),Pe(s[l],1,1,(()=>{s[l]=null})),_e(),r=s[n],r?r.p(e,i):(r=s[n]=o[n](e),r.c()),Ae(r,1),r.m(t,null))},i(e){i||(Ae(r),i=!0)},o(e){Pe(r),i=!1},d(e){e&&C(t),s[n].d()}}}function Mc(e){let t,n,r,i,o,s,a,l,c,u,h,d,f,p,m=e[0].length+"";return o=new bc({props:{data:Ul}}),h=new bc({props:{data:Cl}}),{c(){t=_("table"),n=_("tbody"),r=_("tr"),i=_("td"),Be(o.$$.fragment),s=E(),a=_("td"),l=P(m),c=P(" validation errors\n              "),u=_("div"),Be(h.$$.fragment),N(i,"class","jse-validation-error-icon svelte-1oe8e8r"),N(u,"class","jse-validation-errors-expand svelte-1oe8e8r"),N(a,"class","svelte-1oe8e8r"),N(r,"class","jse-validation-error svelte-1oe8e8r"),N(t,"class","svelte-1oe8e8r")},m(m,g){S(m,t,g),$(t,n),$(n,r),$(r,i),Fe(o,i,null),$(r,s),$(r,a),$(a,l),$(a,c),$(a,u),Fe(h,u,null),d=!0,f||(p=M(r,"click",e[4]),f=!0)},p(e,t){(!d||1&t)&&m!==(m=e[0].length+"")&&L(l,m)},i(e){d||(Ae(o.$$.fragment,e),Ae(h.$$.fragment,e),d=!0)},o(e){Pe(o.$$.fragment,e),Pe(h.$$.fragment,e),d=!1},d(e){e&&C(t),Ve(o),Ve(h),f=!1,p()}}}function Tc(e){let t,n,r,i=e[0],o=[];for(let t=0;t<i.length;t+=1)o[t]=Ic(Ec(e,i,t));const s=e=>Pe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=_("table"),n=_("tbody");for(let e=0;e<o.length;e+=1)o[e].c();N(t,"class","svelte-1oe8e8r")},m(e,i){S(e,t,i),$(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);r=!0},p(e,t){if(11&t){let r;for(i=e[0],r=0;r<i.length;r+=1){const s=Ec(e,i,r);o[r]?(o[r].p(s,t),Ae(o[r],1)):(o[r]=Ic(s),o[r].c(),Ae(o[r],1),o[r].m(n,null))}for(Oe(),r=i.length;r<o.length;r+=1)s(r);_e()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)Ae(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Pe(o[e]);r=!1},d(e){e&&C(t),O(o,e)}}}function Nc(t){let n,r,i,o,s;return r=new bc({props:{data:Ll}}),{c(){n=_("button"),Be(r.$$.fragment),N(n,"type","button"),N(n,"class","jse-validation-errors-collapse svelte-1oe8e8r"),N(n,"title","Collapse validation errors")},m(e,a){S(e,n,a),Fe(r,n,null),i=!0,o||(s=M(n,"click",T(t[3])),o=!0)},p:e,i(e){i||(Ae(r.$$.fragment,e),i=!0)},o(e){Pe(r.$$.fragment,e),i=!1},d(e){e&&C(n),Ve(r),o=!1,s()}}}function Ic(e){let t,n,r,i,o,s,a,l,c,u,h,d,f,p,m,g=_c(e[6].path)+"",v=e[6].message+"";r=new bc({props:{data:Ul}});let y=0===e[8]&&e[0].length>1&&Nc(e);function b(){return e[5](e[6])}return{c(){t=_("tr"),n=_("td"),Be(r.$$.fragment),i=E(),o=_("td"),s=P(g),a=E(),l=_("td"),c=P(v),u=E(),h=_("td"),y&&y.c(),d=E(),N(n,"class","jse-validation-error-icon svelte-1oe8e8r"),N(o,"class","svelte-1oe8e8r"),N(l,"class","svelte-1oe8e8r"),N(h,"class","jse-validation-error-action svelte-1oe8e8r"),N(t,"class","jse-validation-error svelte-1oe8e8r")},m(e,g){S(e,t,g),$(t,n),Fe(r,n,null),$(t,i),$(t,o),$(o,s),$(t,a),$(t,l),$(l,c),$(t,u),$(t,h),y&&y.m(h,null),$(t,d),f=!0,p||(m=M(t,"click",b),p=!0)},p(t,n){e=t,(!f||1&n)&&g!==(g=_c(e[6].path)+"")&&L(s,g),(!f||1&n)&&v!==(v=e[6].message+"")&&L(c,v),0===e[8]&&e[0].length>1?y?(y.p(e,n),1&n&&Ae(y,1)):(y=Nc(e),y.c(),Ae(y,1),y.m(h,null)):y&&(Oe(),Pe(y,1,1,(()=>{y=null})),_e())},i(e){f||(Ae(r.$$.fragment,e),Ae(y),f=!0)},o(e){Pe(r.$$.fragment,e),Pe(y),f=!1},d(e){e&&C(t),Ve(r),y&&y.d(),p=!1,m()}}}function Dc(e){let t,n,r=!_s(e[0]),i=r&&jc(e);return{c(){i&&i.c(),t=j()},m(e,r){i&&i.m(e,r),S(e,t,r),n=!0},p(e,[n]){1&n&&(r=!_s(e[0])),r?i?(i.p(e,n),1&n&&Ae(i,1)):(i=jc(e),i.c(),Ae(i,1),i.m(t.parentNode,t)):i&&(Oe(),Pe(i,1,1,(()=>{i=null})),_e())},i(e){n||(Ae(i),n=!0)},o(e){Pe(i),n=!1},d(e){i&&i.d(e),e&&C(t)}}}function Rc(e,t,n){let{validationErrors:r}=t,{selectError:i}=t,o=!0;return e.$$set=e=>{"validationErrors"in e&&n(0,r=e.validationErrors),"selectError"in e&&n(1,i=e.selectError)},[r,i,o,function(){n(2,o=!1)},function(){n(2,o=!0)},e=>{setTimeout((()=>i(e)))}]}class Lc extends qe{constructor(e){super(),ze(this,e,Rc,Dc,l,{validationErrors:0,selectError:1})}}const Bc={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},Fc={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},Vc={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},zc={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]},qc=e=>({}),Hc=e=>({});function Wc(e,t,n){const r=e.slice();return r[3]=t[n],r}const Uc=e=>({}),Jc=e=>({});function Kc(e){let t,n,r,i,o,a,l,c,u=e[3].icon&&Yc(e),h=e[3].text&&Xc(e);return{c(){t=_("button"),u&&u.c(),n=E(),h&&h.c(),N(t,"type","button"),N(t,"class",r="jse-button "+e[3].className+" svelte-v4jelk"),N(t,"title",i=e[3].title),t.disabled=o=e[3].disabled||!1},m(r,i){S(r,t,i),u&&u.m(t,null),$(t,n),h&&h.m(t,null),a=!0,l||(c=M(t,"click",(function(){s(e[3].onClick)&&e[3].onClick.apply(this,arguments)})),l=!0)},p(s,l){(e=s)[3].icon?u?(u.p(e,l),1&l&&Ae(u,1)):(u=Yc(e),u.c(),Ae(u,1),u.m(t,n)):u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e()),e[3].text?h?h.p(e,l):(h=Xc(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(!a||1&l&&r!==(r="jse-button "+e[3].className+" svelte-v4jelk"))&&N(t,"class",r),(!a||1&l&&i!==(i=e[3].title))&&N(t,"title",i),(!a||1&l&&o!==(o=e[3].disabled||!1))&&(t.disabled=o)},i(e){a||(Ae(u),a=!0)},o(e){Pe(u),a=!1},d(e){e&&C(t),u&&u.d(),h&&h.d(),l=!1,c()}}}function Gc(t){let n;return{c(){n=_("div"),N(n,"class","jse-space svelte-v4jelk")},m(e,t){S(e,n,t)},p:e,i:e,o:e,d(e){e&&C(n)}}}function Qc(t){let n;return{c(){n=_("div"),N(n,"class","jse-separator svelte-v4jelk")},m(e,t){S(e,n,t)},p:e,i:e,o:e,d(e){e&&C(n)}}}function Yc(e){let t,n;return t=new bc({props:{data:e[3].icon}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.data=e[3].icon),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function Xc(e){let t,n=e[3].text+"";return{c(){t=P(n)},m(e,n){S(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&L(t,n)},d(e){e&&C(t)}}}function Zc(e){let t,n,r,i;const o=[Qc,Gc,Kc],s=[];function a(e,t){return!0===e[3].separator?0:!0===e[3].space?1:2}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=j()},m(e,n){s[t].m(e,n),S(e,r,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(Oe(),Pe(s[l],1,1,(()=>{s[l]=null})),_e(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){i||(Ae(n),i=!0)},o(e){Pe(n),i=!1},d(e){s[t].d(e),e&&C(r)}}}function eu(e){let t,n,r,i;const o=e[2].left,s=c(o,e,e[1],Jc);let a=e[0],l=[];for(let t=0;t<a.length;t+=1)l[t]=Zc(Wc(e,a,t));const u=e=>Pe(l[e],1,1,(()=>{l[e]=null})),p=e[2].right,m=c(p,e,e[1],Hc);return{c(){t=_("div"),s&&s.c(),n=E();for(let e=0;e<l.length;e+=1)l[e].c();r=E(),m&&m.c(),N(t,"class","jse-menu svelte-v4jelk")},m(e,o){S(e,t,o),s&&s.m(t,null),$(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);$(t,r),m&&m.m(t,null),i=!0},p(e,[n]){if(s&&s.p&&(!i||2&n)&&d(s,o,e,e[1],i?h(o,e[1],n,Uc):f(e[1]),Jc),1&n){let i;for(a=e[0],i=0;i<a.length;i+=1){const o=Wc(e,a,i);l[i]?(l[i].p(o,n),Ae(l[i],1)):(l[i]=Zc(o),l[i].c(),Ae(l[i],1),l[i].m(t,r))}for(Oe(),i=a.length;i<l.length;i+=1)u(i);_e()}m&&m.p&&(!i||2&n)&&d(m,p,e,e[1],i?h(p,e[1],n,qc):f(e[1]),Hc)},i(e){if(!i){Ae(s,e);for(let e=0;e<a.length;e+=1)Ae(l[e]);Ae(m,e),i=!0}},o(e){Pe(s,e),l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)Pe(l[e]);Pe(m,e),i=!1},d(e){e&&C(t),s&&s.d(e),O(l,e),m&&m.d(e)}}}function tu(e,t,n){let{$$slots:r={},$$scope:i}=t,{items:o=[]}=t;return e.$$set=e=>{"items"in e&&n(0,o=e.items),"$$scope"in e&&n(1,i=e.$$scope)},[o,i,r]}class nu extends qe{constructor(e){super(),ze(this,e,tu,eu,l,{items:0})}}function ru(t){let n;return{c(){n=_("div"),n.innerHTML='<a href="https://codemirror.net" target="_blank" rel="noopener noreferrer" title="Code mode is powered by CodeMirror" class="svelte-1yyupsl">powered by CodeMirror</a>',N(n,"slot","right"),N(n,"class","jse-powered-by svelte-1yyupsl")},m(e,t){S(e,n,t)},p:e,d(e){e&&C(n)}}}function iu(e){let t,n;return t=new nu({props:{items:e[0],$$slots:{right:[ru]},$$scope:{ctx:e}}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.items=e[0]),131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function ou(e,t,n){let r,i,{readOnly:o=!1}=t,{onFormat:s}=t,{onCompact:a}=t,{onSort:l}=t,{onTransform:c}=t,{onToggleSearch:u}=t,{onUndo:h}=t,{onRedo:d}=t,{canUndo:f}=t,{canRedo:p}=t,{canFormat:m}=t,{canCompact:g}=t,{canSort:v}=t,{canTransform:y}=t,{onRenderMenu:b=Cr}=t;return e.$$set=e=>{"readOnly"in e&&n(1,o=e.readOnly),"onFormat"in e&&n(2,s=e.onFormat),"onCompact"in e&&n(3,a=e.onCompact),"onSort"in e&&n(4,l=e.onSort),"onTransform"in e&&n(5,c=e.onTransform),"onToggleSearch"in e&&n(6,u=e.onToggleSearch),"onUndo"in e&&n(7,h=e.onUndo),"onRedo"in e&&n(8,d=e.onRedo),"canUndo"in e&&n(9,f=e.canUndo),"canRedo"in e&&n(10,p=e.canRedo),"canFormat"in e&&n(11,m=e.canFormat),"canCompact"in e&&n(12,g=e.canCompact),"canSort"in e&&n(13,v=e.canSort),"canTransform"in e&&n(14,y=e.canTransform),"onRenderMenu"in e&&n(15,b=e.onRenderMenu)},e.$$.update=()=>{32766&e.$$.dirty&&n(16,r=o?[{space:!0}]:[{icon:Vc,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:s,disabled:o||!m},{icon:zc,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:a,disabled:o||!g},{separator:!0},{icon:Rl,title:"Sort",className:"jse-sort",onClick:l,disabled:o||!v},{icon:_l,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:c,disabled:o||!y},{icon:Fl,title:"Search (Ctrl+F)",className:"jse-search",onClick:u},{separator:!0},{icon:Ml,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:h,disabled:!f},{icon:jl,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:d,disabled:!p},{space:!0}]),98304&e.$$.dirty&&n(0,i=b("code",r)||r)},[i,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,r]}class su extends qe{constructor(e){super(),ze(this,e,ou,iu,l,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15})}}class au{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),cu.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),cu.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new du(this),i=new du(e);for(let e=t,o=t;;){if(r.next(e),i.next(e),e=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(e=1){return new du(this,e)}iterRange(e,t=this.length){return new fu(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new pu(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new lu(e):cu.from(lu.split(e,[])):au.empty}}class lu extends au{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((t?n:s)>=e)return new mu(r,s,n,o);r=s+1,n++}}decompose(e,t,n,r){let i=e<=0&&t>=this.length?this:new lu(hu(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=uu(i.text,e.text.slice(),0,i.length);if(t.length<=32)n.push(new lu(t,e.length+i.length));else{let e=t.length>>1;n.push(new lu(t.slice(0,e)),new lu(t.slice(e)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof lu))return super.replace(e,t,n);let r=uu(this.text,uu(n.text,hu(this.text,0,e)),t),i=this.length+n.length-(t-e);return r.length<=32?new lu(r,i):cu.from(lu.split(r,[]),i)}sliceString(e,t=this.length,n="\n"){let r="";for(let i=0,o=0;i<=t&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let i of e)n.push(i),r+=i.length+1,32==n.length&&(t.push(new lu(n,r)),n=[],r=-1);return r>-1&&t.push(new lu(n,r)),t}}class cu extends au{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,r);r=s+1,n=a+1}}decompose(e,t,n,r){for(let i=0,o=0;o<=t&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e<=a&&t>=o){let i=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!i?n.push(s):s.decompose(e-o,t-o,n,i)}o=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],s=i+o.length;if(e>=i&&t<=s){let a=o.replace(e-i,t-i,n),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[r]=a,new cu(i,this.length-(t-e)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let r="";for(let i=0,o=0;i<this.children.length&&o<=t;i++){let s=this.children[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,n)),o=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof cu))return 0;let n=0,[r,i,o,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,i+=t){if(r==o||i==s)return n;let a=this.children[r],l=e.children[i];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new lu(n,t)}let r=Math.max(32,n>>5),i=r<<1,o=r>>1,s=[],a=0,l=-1,c=[];function u(e){let t;if(e.lines>i&&e instanceof cu)for(let t of e.children)u(t);else e.lines>o&&(a>o||!a)?(h(),s.push(e)):e instanceof lu&&a&&(t=c[c.length-1])instanceof lu&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new lu(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&h(),a+=e.lines,l+=e.length+1,c.push(e))}function h(){0!=a&&(s.push(1==c.length?c[0]:cu.from(c,l)),l=-1,a=c.length=0)}for(let t of e)u(t);return h(),1==s.length?s[0]:new cu(s,t)}}function uu(e,t,n=0,r=1e9){for(let i=0,o=0,s=!0;o<e.length&&i<=r;o++){let a=e[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function hu(e,t,n){return uu(e,[""],t,n)}au.empty=new lu([""],0);class du{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof lu?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof lu?r.text.length:r.children.length;if(o==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof lu){let i=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=r.children[o+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof lu?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class fu{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new du(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class pu{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(au.prototype[Symbol.iterator]=function(){return this.iter()},du.prototype[Symbol.iterator]=fu.prototype[Symbol.iterator]=pu.prototype[Symbol.iterator]=function(){return this});class mu{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}let gu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<gu.length;e++)gu[e]+=gu[e-1];function vu(e){for(let t=1;t<gu.length;t+=2)if(gu[t]>e)return gu[t-1]<=e;return!1}function yu(e){return e>=127462&&e<=127487}function bu(e,t,n=!0,r=!0){return(n?wu:$u)(e,t,r)}function wu(e,t,n){if(t==e.length)return t;t&&xu(e.charCodeAt(t))&&ku(e.charCodeAt(t-1))&&t--;let r=Su(e,t);for(t+=Ou(r);t<e.length;){let i=Su(e,t);if(8205==r||8205==i||n&&vu(i))t+=Ou(i),r=i;else{if(!yu(i))break;{let n=0,r=t-2;for(;r>=0&&yu(Su(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function $u(e,t,n){for(;t>0;){let r=wu(e,t-2,n);if(r<t)return r;t--}return 0}function xu(e){return e>=56320&&e<57344}function ku(e){return e>=55296&&e<56320}function Su(e,t){let n=e.charCodeAt(t);if(!ku(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return xu(r)?r-56320+(n-55296<<10)+65536:n}function Cu(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Ou(e){return e<65536?1:2}const _u=/\r\n?|\n/;var Au=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Au||(Au={}));class Pu{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(e,t=!1){Tu(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new Pu(e)}composeDesc(e){return this.empty?e:e.empty?this:Iu(this,e)}mapDesc(e,t=!1){return e.empty?this:Nu(this,e,t)}mapPos(e,t=-1,n=Au.Simple){let r=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],l=r+s;if(a<0){if(l>e)return i+(e-r);i+=s}else{if(n!=Au.Simple&&l>=e&&(n==Au.TrackDel&&r<e&&l>e||n==Au.TrackBefore&&r<e||n==Au.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?i:i+a;i+=a}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&i>=e)return!(r<e&&i>t)||"cover";r=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Pu(e)}static create(e){return new Pu(e)}}class Eu extends Pu{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Tu(this,((t,n,r,i,o)=>e=e.replace(r,r+(n-t),o)),!1),e}mapDesc(e,t=!1){return Nu(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,i=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s>=0){t[r]=s,t[r+1]=o;let a=r>>1;for(;n.length<a;)n.push(au.empty);n.push(o?e.slice(i,i+o):au.empty)}i+=o}return new Eu(t,n)}compose(e){return this.empty?e:e.empty?this:Iu(this,e,!0)}map(e,t=!1){return e.empty?this:Nu(this,e,t,!0)}iterChanges(e,t=!1){Tu(this,e,t)}get desc(){return Pu.create(this.sections)}filter(e){let t=[],n=[],r=[],i=new Du(this);e:for(let o=0,s=0;;){let a=o==e.length?1e9:e[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-s);ju(r,e,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;ju(t,e,o),o>0&&Mu(n,t,i.text),i.forward(e),s+=e}let l=e[o++];for(;s<l;){if(i.done)break e;let e=Math.min(i.len,l-s);ju(t,e,-1),ju(r,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),s+=e}}return{changes:new Eu(t,n),filtered:Pu.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],i=[],o=0,s=null;function a(e=!1){if(!e&&!r.length)return;o<t&&ju(r,t-o,-1);let n=new Eu(r,i);s=s?s.compose(n.map(s)):n,r=[],i=[],o=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Eu){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let u=c?"string"==typeof c?au.of(c.split(n||_u)):c:au.empty,h=u.length;if(e==s&&0==h)return;e<o&&a(),e>o&&ju(r,e-o,-1),ju(r,s-e,h),Mu(i,r,u),o=s}}(e),a(!s),s}static empty(e){return new Eu(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let i=e[r];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;n.length<r;)n.push(au.empty);n[r]=au.of(i.slice(1)),t.push(i[0],n[r].length)}}}return new Eu(t,n)}static createSet(e,t){return new Eu(e,t)}}function ju(e,t,n,r=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function Mu(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(au.empty);e.push(n)}}function Tu(e,t,n){let r=e.inserted;for(let i=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,h=au.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,o,u,h),i=c,o=u}}}function Nu(e,t,n,r=!1){let i=[],o=r?[]:null,s=new Du(e),a=new Du(t);for(let e=-1;;)if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);ju(i,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let t=a.len;for(ju(i,a.ins,-1);t;){let n=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=n&&(ju(i,0,s.ins),o&&Mu(o,i,s.text),e=s.i),s.forward(n),t-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?Eu.createSet(i,o):Pu.create(i);throw new Error("Mismatched change set lengths")}{let t=0,n=s.len;for(;n;)if(-1==a.ins){let e=Math.min(n,a.len);t+=e,n-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}ju(i,t,e<s.i?s.ins:0),o&&e<s.i&&Mu(o,i,s.text),e=s.i,s.forward(s.len-n)}}}function Iu(e,t,n=!1){let r=[],i=n?[]:null,o=new Du(e),s=new Du(t);for(let e=!1;;){if(o.done&&s.done)return i?Eu.createSet(r,i):Pu.create(r);if(0==o.ins)ju(r,o.len,0,e),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(o.len2,s.len),n=r.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;ju(r,t,n,e),i&&n&&Mu(i,r,s.text)}else-1==s.ins?(ju(r,o.off?0:o.len,t,e),i&&Mu(i,r,o.textBit(t))):(ju(r,o.off?0:o.len,s.off?0:s.ins,e),i&&!s.off&&Mu(i,r,s.text));e=(o.ins>t||s.ins>=0&&s.len>t)&&(e||r.length>n),o.forward2(t),s.forward(t)}}else ju(r,0,s.ins,e),i&&Mu(i,r,s.text),s.next()}}class Du{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?au.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?au.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ru{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Ru(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Lu.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Lu.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Lu.range(e.anchor,e.head)}static create(e,t,n){return new Ru(e,t,n)}}class Lu{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Lu.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Lu([this.main],0)}addRange(e,t=!0){return Lu.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Lu.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Lu(e.ranges.map((e=>Ru.fromJSON(e))),e.main)}static single(e,t=e){return new Lu([Lu.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let i=e[r];if(i.empty?i.from<=n:i.from<n)return Lu.normalized(e.slice(),t);n=i.to}return new Lu(e,t)}static cursor(e,t=0,n,r){return Ru.create(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=r?r:33554431)<<5)}static range(e,t,n){let r=(null!=n?n:33554431)<<5;return t<e?Ru.create(t,e,24|r):Ru.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],i=e[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let o=i.from,s=Math.max(r.to,i.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?Lu.range(s,o):Lu.range(o,s))}}return new Lu(e,t)}}function Bu(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let Fu=0;class Vu{constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=Fu++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}static define(e={}){return new Vu(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:zu),!!e.static,e.enables)}of(e){return new qu([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new qu(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new qu(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function zu(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class qu{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=Fu++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,i=this.id,o=e[i]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&c.push(e[n.id]);return{create:e=>(e.values[o]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||Wu(e,c)){let t=n(e);if(s?!Hu(t,e.values[o],r):!r(t,e.values[o]))return e.values[o]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[i];if(null!=l){let i=sh(t,l);if(this.dependencies.every((n=>n instanceof Vu?t.facet(n)===e.facet(n):!(n instanceof Ku)||t.field(n,!1)==e.field(n,!1)))||(s?Hu(a=n(e),i,r):r(a=n(e),i)))return e.values[o]=i,0}else a=n(e);return e.values[o]=a,1}}}}function Hu(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Wu(e,t){let n=!1;for(let r of t)1&oh(e,r)&&(n=!0);return n}function Uu(e,t,n){let r=n.map((t=>e[t.id])),i=n.map((e=>e.type)),o=r.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<r.length;t++){let o=sh(e,r[t]);if(2==i[t])for(let e of o)n.push(e);else n.push(o)}return t.combine(n)}return{create(e){for(let t of r)oh(e,t);return e.values[s]=a(e),1},update(e,n){if(!Wu(e,o))return 0;let r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure(e,i){let o=Wu(e,r),l=i.config.facets[t.id],c=i.facet(t);if(l&&!o&&zu(n,l))return e.values[s]=c,0;let u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}const Ju=Vu.define({static:!0});class Ku{constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(e){let t=new Ku(Fu++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ju).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],i=this.updateF(r,n);return this.compareF(r,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,Ju.of({field:this,create:e})]}get extension(){return this}}const Gu=4,Qu=3,Yu=2,Xu=1;function Zu(e){return t=>new th(t,e)}const eh={highest:Zu(0),high:Zu(Xu),default:Zu(Yu),low:Zu(Qu),lowest:Zu(Gu)};class th{constructor(e,t){this.inner=e,this.prec=t}}class nh{of(e){return new rh(this,e)}reconfigure(e){return nh.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class rh{constructor(e,t){this.compartment=e,this.inner=t}}class ih{constructor(e,t,n,r,i,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],i=Object.create(null),o=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],i=new Map;function o(e,s){let a=i.get(e);if(null!=a){if(a<=s)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof rh&&n.delete(e.compartment)}if(i.set(e,s),Array.isArray(e))for(let t of e)o(t,s);else if(e instanceof rh){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),o(r,s)}else if(e instanceof th)o(e.inner,e.prec);else if(e instanceof Ku)r[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof qu)r[s].push(e),e.facet.extensions&&o(e.facet.extensions,Yu);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(t,s)}}return o(e,Yu),r.reduce(((e,t)=>e.concat(t)))}(e,t,o))n instanceof Ku?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[];for(let e of r)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in i){let t=i[e],r=t[0].facet,o=c&&c[e]||[];if(t.every((e=>0==e.type)))if(s[r.id]=a.length<<1|1,zu(o,t))a.push(n.facet(r));else{let e=r.combine(t.map((e=>e.value)));a.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[r.id]=l.length<<1,l.push((e=>Uu(e,r,t)))}}let u=l.map((e=>e(s)));return new ih(e,o,u,s,a,i)}}function oh(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function sh(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const ah=Vu.define(),lh=Vu.define({combine:e=>e.some((e=>e)),static:!0}),ch=Vu.define({combine:e=>e.length?e[0]:void 0,static:!0}),uh=Vu.define(),hh=Vu.define(),dh=Vu.define(),fh=Vu.define({combine:e=>!!e.length&&e[0]});class ph{constructor(e,t){this.type=e,this.value=t}static define(){return new mh}}class mh{of(e){return new ph(this,e)}}class gh{constructor(e){this.map=e}of(e){return new vh(this,e)}}class vh{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new vh(this.type,t)}is(e){return this.type==e}static define(e={}){return new gh(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}vh.reconfigure=vh.define(),vh.appendConfig=vh.define();class yh{constructor(e,t,n,r,i,o){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&Bu(n,t.newLength),i.some((e=>e.type==yh.time))||(this.annotations=i.concat(yh.time.of(Date.now())))}static create(e,t,n,r,i,o){return new yh(e,t,n,r,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(yh.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function bh(e,t){let n=[];for(let r=0,i=0;;){let o,s;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else{if(!(i<t.length))return n;o=t[i++],s=t[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function wh(e,t,n){var r;let i,o,s;return n?(i=t.changes,o=Eu.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:vh.mapEffects(e.effects,i).concat(vh.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function $h(e,t,n){let r=t.selection,i=Sh(t.annotations);return t.userEvent&&(i=i.concat(yh.userEvent.of(t.userEvent))),{changes:t.changes instanceof Eu?t.changes:Eu.of(t.changes||[],n,e.facet(ch)),selection:r&&(r instanceof Lu?r:Lu.single(r.anchor,r.head)),effects:Sh(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function xh(e,t,n){let r=$h(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let o=!!t[i].sequential;r=wh(r,$h(e,t[i],o?r.changes.newLength:e.doc.length),o)}let i=yh.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(dh),r=e;for(let i=n.length-1;i>=0;i--){let o=n[i](e);o&&Object.keys(o).length&&(r=wh(r,$h(t,o,e.changes.newLength),!0))}return r==e?e:yh.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(uh)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:bh(n,t))}if(!0!==n){let r,i;if(!1===n)i=e.changes.invertedDesc,r=Eu.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=yh.create(t,r,e.selection&&e.selection.map(i),vh.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let r=t.facet(hh);for(let n=r.length-1;n>=0;n--){let i=r[n](e);e=i instanceof yh?i:Array.isArray(i)&&1==i.length&&i[0]instanceof yh?i[0]:xh(t,Sh(i),!1)}return e}(i):i)}yh.time=ph.define(),yh.userEvent=ph.define(),yh.addToHistory=ph.define(),yh.remote=ph.define();const kh=[];function Sh(e){return null==e?kh:Array.isArray(e)?e:[e]}var Ch=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Ch||(Ch={}));const Oh=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let _h;try{_h=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function Ah(e){return t=>{if(!/\S/.test(t))return Ch.Space;if(function(e){if(_h)return _h.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Oh.test(n)))return!0}return!1}(t))return Ch.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Ch.Word;return Ch.Other}}class Ph{constructor(e,t,n,r,i,o){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)oh(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return oh(this,n),sh(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return xh(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:i}=n;for(let t of e.effects)t.is(nh.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((e,t)=>i.set(t,e))),n=null),i.set(t.value.compartment,t.value.extension)):t.is(vh.reconfigure)?(n=null,r=t.value):t.is(vh.appendConfig)&&(n=null,r=Sh(r).concat(t.value));if(n)t=e.startState.values.slice();else{n=ih.resolve(r,i,this),t=new Ph(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new Ph(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Lu.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=Sh(n.effects);for(let n=1;n<t.ranges.length;n++){let s=e(t.ranges[n]),a=this.changes(s.changes),l=a.map(r);for(let e=0;e<n;e++)i[e]=i[e].map(l);let c=r.mapDesc(a,!0);i.push(s.range.map(c)),r=r.compose(l),o=vh.mapEffects(o,l).concat(vh.mapEffects(Sh(s.effects),c))}return{changes:r,selection:Lu.create(i,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Eu?e:Eu.of(e,this.doc.length,this.facet(Ph.lineSeparator))}toText(e){return au.of(e.split(this.facet(Ph.lineSeparator)||_u))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(oh(this,t),sh(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof Ku&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let i=n[t],o=e[t];r.push(i.init((e=>i.spec.fromJSON(o,e))))}return Ph.create({doc:e.doc,selection:Lu.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=ih.resolve(e.extensions||[],new Map),n=e.doc instanceof au?e.doc:au.of((e.doc||"").split(t.staticFacet(Ph.lineSeparator)||_u)),r=e.selection?e.selection instanceof Lu?e.selection:Lu.single(e.selection.anchor,e.selection.head):Lu.single(0);return Bu(r,n.length),t.staticFacet(lh)||(r=r.asSingle()),new Ph(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Ph.tabSize)}get lineBreak(){return this.facet(Ph.lineSeparator)||"\n"}get readOnly(){return this.facet(fh)}phrase(e,...t){for(let t of this.facet(Ph.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,n=-1){let r=[];for(let i of this.facet(ah))for(let o of i(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return Ah(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),i=this.charCategorizer(e),o=e-n,s=e-n;for(;o>0;){let e=bu(t,o,!1);if(i(t.slice(e,o))!=Ch.Word)break;o=e}for(;s<r;){let e=bu(t,s);if(i(t.slice(s,e))!=Ch.Word)break;s=e}return o==s?null:Lu.range(o+n,s+n)}}function Eh(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let i=t[e],o=r[e];if(void 0===o)r[e]=i;else if(o===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](o,i)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}Ph.allowMultipleSelections=lh,Ph.tabSize=Vu.define({combine:e=>e.length?e[0]:4}),Ph.lineSeparator=ch,Ph.readOnly=fh,Ph.phrases=Vu.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),Ph.languageData=ah,Ph.changeFilter=uh,Ph.transactionFilter=hh,Ph.transactionExtender=dh,nh.reconfigure=vh.define();class jh{eq(e){return this==e}range(e,t=e){return Mh.create(e,t,this)}}jh.prototype.startSide=jh.prototype.endSide=0,jh.prototype.point=!1,jh.prototype.mapMode=Au.TrackDel;class Mh{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Mh(e,t,n)}}function Th(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Nh{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],h=this.from[a]+e,d=this.to[a]+e;if(h==d){let e=t.mapPos(h,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(h,u.endSide),c<l))continue}else if(l=t.mapPos(h,u.startSide),c=t.mapPos(d,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(o<0&&(o=l),u.point&&(s=Math.max(s,c-l)),n.push(u),r.push(l-o),i.push(c-o))}return{mapped:n.length?new Nh(r,i,n,s):null,pos:o}}}class Ih{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new Ih(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=e,o=e.filter;if(0==t.length&&!o)return this;if(n&&(t=t.slice().sort(Th)),this.isEmpty)return t.length?Ih.of(t):this;let s=new Lh(this,null,-1).goto(0),a=0,l=[],c=new Dh;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||i<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(Mh.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Ih.empty:this.nextLayer.update({add:l,filter:o,filterFrom:r,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=e.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),n.push(e.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,e);i&&(r=Math.max(r,i.maxPoint),t.push(i),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new Ih(n,t,i||Ih.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Bh.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Bh.from(e).goto(t)}static compare(e,t,n,r,i=-1){let o=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),a=Rh(o,s,n),l=new Vh(o,a,i),c=new Vh(s,a,i);n.iterGaps(((e,t,n)=>zh(l,e,c,t,n,r))),n.empty&&0==n.length&&zh(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let i=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),o=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=Rh(i,o),a=new Vh(i,s,0).goto(n),l=new Vh(o,s,0).goto(n);for(;;){if(a.to!=l.to||!qh(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,n,r,i=-1){let o=new Vh(e,null,i).goto(t),s=t,a=o.openStart;for(;;){let e=Math.min(o.to,n);if(o.point){let n=o.activeForPoint(o.to),i=o.pointFrom<t?n.length+1:Math.min(n.length,a);r.point(s,e,o.point,n,i,o.pointRank),a=Math.min(o.openEnd(e),n.length)}else e>s&&(r.span(s,e,o.active,a),a=o.openEnd(e));if(o.to>n)return a+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(e,t=!1){let n=new Dh;for(let r of e instanceof Mh?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(Th(t,r)>0)return e.slice().sort(Th);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}}Ih.empty=new Ih([],[],null,-1),Ih.empty.nextLayer=Ih.empty;class Dh{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Nh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Dh)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Ih.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Ih.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Rh(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let i=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let o=r.get(e.chunk[t]);null==o||(n?n.mapPos(o):o)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(o,o+e.chunk[t].length))||i.add(e.chunk[t])}return i}class Lh{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Bh{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let i=0;i<e.length;i++)for(let o=e[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new Lh(o,t,n,i));return 1==r.length?r[0]:new Bh(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Fh(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Fh(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Fh(this.heap,0)}}}function Fh(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class Vh{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bh.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Hh(this.active,e),Hh(this.activeTo,e),Hh(this.activeRank,e),this.minActive=Uh(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=i;)t++;Wh(this.active,t,n),Wh(this.activeTo,t,r),Wh(this.activeRank,t,i),e&&Wh(e,t,this.cursor.from),this.minActive=Uh(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Hh(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function zh(e,t,n,r,i,o){e.goto(t),n.goto(r);let s=r+i,a=r,l=r-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,r=t<0?e.to+l:n.to,i=Math.min(r,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&qh(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||o.comparePoint(a,i,e.point,n.point):i>a&&!qh(e.active,n.active)&&o.compareRange(a,i,e.active,n.active),r>s)break;a=r,t<=0&&e.next(),t>=0&&n.next()}}function qh(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Hh(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function Wh(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function Uh(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Jh(e,t,n=e.length){let r=0;for(let i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=bu(e,i));return r}function Kh(e,t,n,r){for(let r=0,i=0;;){if(i>=t)return r;if(r==e.length)break;i+=9==e.charCodeAt(r)?n-i%n:1,r=bu(e,r)}return!0===r?-1:e.length}const Gh="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Qh="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Yh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Xh{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,o,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return o.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))i(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,o);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&o.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)i(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=Yh[Gh]||1;return Yh[Gh]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[Qh]||new ed(e)).mount(Array.isArray(t)?t:[t])}}let Zh=null;class ed{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Zh)return e.adoptedStyleSheets=[Zh.sheet].concat(e.adoptedStyleSheets),e[Qh]=Zh;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Zh=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Qh]=this}mount(e){let t=this.sheet,n=0,r=0;for(let i=0;i<e.length;i++){let o=e[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),t)for(let e=0;e<o.rules.length;e++)t.insertRule(o.rules[e],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}var td={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rd="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);"undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);for(var id="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),od="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),sd=id||rd&&+rd[1]<57,ad=0;ad<10;ad++)td[48+ad]=td[96+ad]=String(ad);for(ad=1;ad<=24;ad++)td[ad+111]="F"+ad;for(ad=65;ad<=90;ad++)td[ad]=String.fromCharCode(ad+32),nd[ad]=String.fromCharCode(ad);for(var ld in td)nd.hasOwnProperty(ld)||(nd[ld]=td[ld]);function cd(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function ud(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function hd(e,t){if(!t.anchorNode)return!1;try{return ud(e,t.anchorNode)}catch(e){return!1}}function dd(e){return 3==e.nodeType?Sd(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function fd(e,t,n,r){return!!n&&(md(e,t,n,r,-1)||md(e,t,n,r,1))}function pd(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function md(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:gd(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=pd(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?gd(e):0}}}function gd(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const vd={left:0,right:0,top:0,bottom:0};function yd(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function bd(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class wd{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let $d,xd=null;function kd(e){if(e.setActive)return e.setActive();if(xd)return e.focus(xd);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==xd?{get preventScroll(){return xd={preventScroll:!0},!0}}:void 0),!xd){xd=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],i=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function Sd(e,t,n=t){let r=$d||($d=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Cd(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function Od(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class _d{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new _d(e.parentNode,pd(e),t)}static after(e,t){return new _d(e.parentNode,pd(e)+1,t)}}const Ad=[];class Pd{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,n=this.dom,r=null;for(let i of this.children){if(i.dirty){if(!i.dom&&(t=r?r.nextSibling:n.firstChild)){let e=Pd.get(t);(!e||!e.parent&&e.canReuseDOM(i))&&i.reuseDOM(t)}i.sync(e),i.dirty=0}if(t=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&t!=i.dom&&(e.written=!0),i.dom.parentNode==n)for(;t&&t!=i.dom;)t=Ed(t);else n.insertBefore(i.dom,t);r=i.dom}for(t=r?r.nextSibling:n.firstChild,t&&e&&e.node==n&&(e.written=!0);t;)t=Ed(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==gd(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Pd.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,i=-1,o=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=a,i=l),l>t&&n.dom.parentNode==this.dom){o=a,s=c;break}c=u,l=u+n.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Ad){this.markDirty();for(let n=e;n<t;n++){let e=this.children[n];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new jd(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,r,i,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}function Ed(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Pd.prototype.breakAfter=0;class jd{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Md(e,t,n,r,i,o,s,a,l){let{children:c}=e,u=c.length?c[t]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(t==r&&u&&!s&&!d&&o.length<2&&u.merge(n,i,o.length?h:null,0==n,a,l))){if(r<c.length){let e=c[r];e&&i<e.length?(t==r&&(e=e.split(i),i=0),!d&&h&&e.merge(0,i,h,!0,0,l)?o[o.length-1]=e:(i&&e.merge(0,i,null,!1,0,l),o.push(e))):(null==e?void 0:e.breakAfter)&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else{if(!c[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function Td(e,t,n,r,i,o){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),h=t-n;for(let e of r)h+=e.length;e.length+=h,Md(e,c,u,a,l,r,0,i,o)}let Nd="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Id="undefined"!=typeof document?document:{documentElement:{style:{}}};const Dd=/Edge\/(\d+)/.exec(Nd.userAgent),Rd=/MSIE \d/.test(Nd.userAgent),Ld=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nd.userAgent),Bd=!!(Rd||Ld||Dd),Fd=!Bd&&/gecko\/(\d+)/i.test(Nd.userAgent),Vd=!Bd&&/Chrome\/(\d+)/.exec(Nd.userAgent),zd="webkitFontSmoothing"in Id.documentElement.style,qd=!Bd&&/Apple Computer/.test(Nd.vendor),Hd=qd&&(/Mobile\/\w+/.test(Nd.userAgent)||Nd.maxTouchPoints>2);var Wd={mac:Hd||/Mac/.test(Nd.platform),windows:/Win/.test(Nd.platform),linux:/Linux|X11/.test(Nd.platform),ie:Bd,ie_version:Rd?Id.documentMode||6:Ld?+Ld[1]:Dd?+Dd[1]:0,gecko:Fd,gecko_version:Fd?+(/Firefox\/(\d+)/.exec(Nd.userAgent)||[0,0])[1]:0,chrome:!!Vd,chrome_version:Vd?+Vd[1]:0,ios:Hd,android:/Android\b/.test(Nd.userAgent),webkit:zd,safari:qd,webkit_version:zd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Id.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Ud extends Pd{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return(!n||n instanceof Ud&&!(this.length-(t-e)+n.length>256))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ud(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new _d(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Kd(this.dom,e,t)}}class Jd extends Pd{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(Od(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,r,i,o){return(!n||!(!(n instanceof Jd&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&o<=0))&&(Td(this,e,t,n?n.children:[],i-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,i=0;for(let o of this.children){let s=n+o.length;s>e&&t.push(n<e?o.split(e-n):o),r<0&&n>=e&&(r=i),n=s,i++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Jd(this.mark,t,o)}domAtPos(e){return ef(this,e)}coordsAt(e,t){return nf(this,e,t)}}function Kd(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let i=t,o=t,s=0;0==t&&n<0||t==r&&n>=0?Wd.chrome||Wd.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=Sd(e,i,o).getClientRects();if(!a.length)return vd;let l=a[(s?s<0:n>=0)?0:a.length-1];return Wd.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?yd(l,s<0):l||null}class Gd extends Pd{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||Gd)(e,t,n)}split(e){let t=Gd.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof Gd&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&o<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Gd&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return au.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):au.empty}domAtPos(e){return 0==e?_d.before(this.dom):_d.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),r=null;if(!n.length)return vd;for(let t=e>0?n.length-1:0;r=n[t],!(e>0?0==t:t==n.length-1||r.top<r.bottom);t+=e>0?-1:1);return this.length?r:yd(r,this.side>0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Qd extends Gd{domAtPos(e){let{topView:t,text:n}=this.widget;return t?Yd(e,0,t,n,((e,t)=>e.domAtPos(t)),(e=>new _d(n,Math.min(e,n.nodeValue.length)))):new _d(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:r}=this.widget;return n?Xd(e,t,n,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:r}=this.widget;return n?Yd(e,t,n,r,((e,t,n)=>e.coordsAt(t,n)),((e,t)=>Kd(r,e,t))):Kd(r,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Yd(e,t,n,r,i,o){if(n instanceof Jd){for(let s=n.dom.firstChild;s;s=s.nextSibling){let n=Pd.get(s);if(!n)return o(e,t);let a=ud(s,r),l=n.length+(a?r.nodeValue.length:0);if(e<l||e==l&&n.getSide()<=0)return a?Yd(e,t,n,r,i,o):i(n,e,t);e-=l}return i(n,n.length,-1)}return n.dom==r?o(e,t):i(n,e,t)}function Xd(e,t,n,r){if(n instanceof Jd)for(let i of n.children){let n=0,o=ud(i.dom,r);if(ud(i.dom,e))return n+(o?Xd(e,t,i,r):i.localPosFromDOM(e,t));n+=o?r.nodeValue.length:i.length}else if(n.dom==r)return Math.min(t,r.nodeValue.length);return n.localPosFromDOM(e,t)}class Zd extends Pd{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Zd&&e.side==this.side}split(){return new Zd(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return _d.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),n=function(e,t){let n=e.parent,r=n?n.children.indexOf(e):-1;for(;n&&r>=0;)if(t<0?r>0:r<n.children.length){let e=n.children[r+t];if(e instanceof Ud){let n=e.coordsAt(t<0?e.length:0,t);if(n)return n}r+=t}else{if(!(n instanceof Jd&&n.parent)){let e=n.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}get overrideDOMText(){return au.empty}}function ef(e,t){let n=e.dom,{children:r}=e,i=0;for(let e=0;i<r.length;i++){let o=r[i],s=e+o.length;if(!(s==e&&o.getSide()<=0)){if(t>e&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-e);if(t<=e)break;e=s}}for(let e=i;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=i;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new _d(n,0)}function tf(e,t,n){let r,{children:i}=e;n>0&&t instanceof Jd&&i.length&&(r=i[i.length-1])instanceof Jd&&r.mark.eq(t.mark)?tf(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function nf(e,t,n){let r=null,i=-1,o=null,s=-1;!function e(t,n){for(let a=0,l=0;a<t.children.length&&l<=n;a++){let c=t.children[a],u=l+c.length;u>=n&&(c.children.length?e(c,n-l):!o&&(u>n||l==u&&c.getSide()>0)?(o=c,s=n-l):(l<n||l==u&&c.getSide()<0)&&(r=c,i=n-l)),l=u}}(e,t);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=dd(t);return n[n.length-1]||null}(e)}function rf(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function of(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i of n)if(-1==r.indexOf(i)||e[i]!==t[i])return!1;return!0}function sf(e,t,n){let r=null;if(t)for(let i in t)n&&i in n||e.removeAttribute(r=i);if(n)for(let i in n)t&&t[i]==n[i]||e.setAttribute(r=i,n[i]);return!!r}Ud.prototype.children=Gd.prototype.children=Zd.prototype.children=Ad;class af{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var lf=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(lf||(lf={}));class cf extends jh{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new uf(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new df(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:i,end:o}=ff(e,r);t=(i?r?-3e8:-1:5e8)-1,n=1+(o?r?2e8:1:-6e8)}return new df(e,t,n,r,e.widget||null,!0)}static line(e){return new hf(e)}static set(e,t=!1){return Ih.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}cf.none=Ih.empty;class uf extends cf{constructor(e){let{start:t,end:n}=ff(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof uf&&this.tagName==e.tagName&&this.class==e.class&&of(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}uf.prototype.point=!1;class hf extends cf{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof hf&&of(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}hf.prototype.mapMode=Au.TrackBefore,hf.prototype.point=!0;class df extends cf{constructor(e,t,n,r,i,o){super(t,n,i,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Au.TrackBefore:Au.TrackAfter:Au.TrackDel}get type(){return this.startSide<this.endSide?lf.WidgetRange:this.startSide<=0?lf.WidgetBefore:lf.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof df&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function ff(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function pf(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}df.prototype.point=!0;class mf extends Pd{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,i,o){if(n){if(!(n instanceof mf))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Td(this,e,t,n?n.children:[],i,o),!0}split(e){let t=new mf;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){of(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){tf(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=rf(t,this.attrs||{})),n&&(this.attrs=rf({class:n},this.attrs||{}))}domAtPos(e){return ef(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(Od(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(sf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&Pd.get(n)instanceof Jd;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(t=Pd.get(n))||void 0===t?void 0:t.isEditable)||Wd.ios&&this.children.some((e=>e instanceof Ud))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Ud)||/[^ -~]/.test(t.text))return null;let n=dd(t.dom);if(1!=n.length)return null;e+=n[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return nf(this,e,t)}become(e){return!1}get type(){return lf.Text}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let i=e.children[n],o=r+i.length;if(o>=t){if(i instanceof mf)return i;if(o>t)break}r=o+i.breakAfter}return null}}class gf extends Pd{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof gf&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&o<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?_d.before(this.dom):_d.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new gf(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return Ad}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):au.empty}domBoundsAround(){return null}become(e){return e instanceof gf&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class vf{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof gf&&e.type==lf.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new mf),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(yf(new Zd(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(yf(new Ud(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof df){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof df)if(n.block){let{type:e}=n;e!=lf.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new gf(n.widget||new bf("div"),s,e))}else{let o=Gd.create(n.widget||new bf("span"),s,s?0:n.startSide),a=this.atCursorPos&&!o.isEditable&&i<=r.length&&(e<t||n.startSide>0),l=!o.isEditable&&(e<t||i>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(r),a&&(c.append(yf(new Zd(1),r),i),i=r.length+Math.max(0,i-r.length)),c.append(yf(o,r),i),this.atCursorPos=l,this.pendingBuffer=l?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,r,i){let o=new vf(e,t,n,i);return o.openEnd=Ih.spans(r,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function yf(e,t){for(let n of t)e=new Jd(n,[e],e.length);return e}class bf extends af{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const wf=Vu.define(),$f=Vu.define(),xf=Vu.define(),kf=Vu.define(),Sf=Vu.define(),Cf=Vu.define(),Of=Vu.define({combine:e=>e.some((e=>e))}),_f=Vu.define({combine:e=>e.some((e=>e))});class Af{constructor(e,t="nearest",n="nearest",r=5,i=5){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=i}map(e){return e.empty?this:new Af(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Pf=vh.define({map:(e,t)=>e.map(t)});function Ef(e,t,n){let r=e.facet(kf);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const jf=Vu.define({combine:e=>!e.length||e[0]});let Mf=0;const Tf=Vu.define();class Nf{constructor(e,t,n,r){this.id=e,this.create=t,this.domEventHandlers=n,this.extension=r(this)}static define(e,t){const{eventHandlers:n,provide:r,decorations:i}=t||{};return new Nf(Mf++,e,n,(e=>{let t=[Tf.of(e)];return i&&t.push(Lf.of((t=>{let n=t.plugin(e);return n?i(n):cf.none}))),r&&t.push(r(e)),t}))}static fromClass(e,t){return Nf.define((t=>new e(t)),t)}}class If{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Ef(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ef(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Ef(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Df=Vu.define(),Rf=Vu.define(),Lf=Vu.define(),Bf=Vu.define(),Ff=Vu.define(),Vf=Vu.define();class zf{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new zf(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,i=0,o=0,s=0;;r++){let a=r==e.length?null:e[r],l=o-s,c=a?a.fromB:1e9;for(;i<t.length&&t[i]<c;){let e=t[i],r=t[i+1],o=Math.max(s,e),a=Math.min(c,r);if(o<=a&&new zf(o+l,a+l,o,a).addToSet(n),r>c)break;i+=2}if(!a)return n;new zf(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class qf{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Eu.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,i)=>r.push(new zf(e,t,n,i)))),this.changedRanges=r;let i=e.hasFocus;i!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=i,this.flags|=1)}static create(e,t,n){return new qf(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Hf=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Hf||(Hf={}));const Wf=Hf.LTR,Uf=Hf.RTL;function Jf(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const Kf=Jf("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Gf=Jf("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Qf=Object.create(null),Yf=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);Qf[t]=n,Qf[n]=-t}const Xf=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Zf{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?Uf:Wf}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,r){let i=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<t:s.to>t:e[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}const ep=[];function tp(e){return[new Zf(0,e,0)]}let np="";function rp(e,t,n,r,i){var o;let s=r.head-e.from,a=-1;if(0==s){if(!i||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),a=0)}else if(s==e.length){if(i)return null;let e=t[t.length-1];e.level!=n&&(s=e.side(!0,n),a=t.length-1)}a<0&&(a=Zf.find(t,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));let l=t[a];s==l.side(i,n)&&(l=t[a+=i?1:-1],s=l.side(!i,n));let c=i==(l.dir==n),u=bu(e.text,s,c);if(np=e.text.slice(Math.min(s,u),Math.max(s,u)),u!=l.side(i,n))return Lu.cursor(u+e.from,c?-1:1,l.level);let h=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return h||l.level==n?h&&h.level<l.level?Lu.cursor(h.side(!i,n)+e.from,i?1:-1,h.level):Lu.cursor(u+e.from,i?-1:1,l.level):Lu.cursor(i?e.to:e.from,i?-1:1,n)}const ip="￿";class op{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ph.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ip}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r),this.readNode(r);let e=r.nextSibling;if(e==t)break;let i=Pd.get(r),o=Pd.get(e);(i&&o?i.breakAfter:(i?i.breakAfter:sp(r))||sp(e)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=e}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,o=-1,s=1;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(i=r.exec(t))&&(o=i.index,s=i[0].length),this.append(t.slice(n,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=o+s}}readNode(e){if(e.cmIgnore)return;let t=Pd.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function sp(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class ap{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class lp extends Pd{constructor(e){super(),this.view=e,this.compositionDeco=cf.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new mf],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new zf(0,0,0,e.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=cf.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let n=up(e);if(!n)return cf.none;let{from:r,to:i,node:o,text:s}=n,a=t.mapPos(r,1),l=Math.max(a,t.mapPos(i,-1)),{state:c}=e,u=3==o.nodeType?o.nodeValue:new op([],c).readRange(o.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),ip)==u)l=a+u.length;else{if(c.doc.sliceString(Math.max(0,l-u.length),l,ip)!=u)return cf.none;a=l-u.length}else if(c.doc.sliceString(a,l,ip)!=u)return cf.none;let h=Pd.get(o);h instanceof Qd?h=h.widget.topView:h&&(h.parent=null);return cf.set(cf.replace({widget:new hp(o,s,h),inclusive:!0}).range(a,l))}(this.view,e.changes)),(Wd.ie||Wd.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=function(e,t,n){let r=new fp;return Ih.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=zf.extendWithRanges(t,n),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Wd.chrome||Wd.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof gf&&e.widget instanceof cp&&r.push(e.dom);n.updateGaps(r)}updateChildren(e,t){let n=this.childCursor(t);for(let t=e.length-1;;t--){let r=t>=0?e[t]:null;if(!r)break;let{fromA:i,toA:o,fromB:s,toB:a}=r,{content:l,breakAtStart:c,openStart:u,openEnd:h}=vf.build(this.view.state.doc,s,a,this.decorations,this.dynamicDecorationMap),{i:d,off:f}=n.findPos(o,1),{i:p,off:m}=n.findPos(i,-1);Md(this,p,m,d,f,l,c,u,h)}}updateSelection(e=!1,t=!1){if(!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection())return;let n=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,i=this.domAtPos(r.anchor),o=r.empty?i:this.domAtPos(r.head);if(Wd.gecko&&r.empty&&(1==(s=i).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>i.node.insertBefore(e,i.node.childNodes[i.offset]||null))),i=o=new _d(e,0),n=!0}var s;let a=this.view.observer.selectionRange;!n&&a.focusNode&&fd(i.node,i.offset,a.anchorNode,a.anchorOffset)&&fd(o.node,o.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{Wd.android&&Wd.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=cd(this.view.root);if(e)if(r.empty){if(Wd.gecko){let e=(t=i.node,n=i.offset,1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=dp(i.node,i.offset,1==e?1:-1);t&&(i=new _d(t,1==e?0:t.nodeValue.length))}}e.collapse(i.node,i.offset),null!=r.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=r.bidiLevel)}else if(e.extend){e.collapse(i.node,i.offset);try{e.extend(o.node,o.offset)}catch(e){}}else{let t=document.createRange();r.anchor>r.head&&([i,o]=[o,i]),t.setEnd(o.node,o.offset),t.setStart(i.node,i.offset),e.removeAllRanges(),e.addRange(t)}else;var t,n})),this.view.observer.setSelectionRange(i,o)),this.impreciseAnchor=i.precise?null:new _d(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new _d(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,n=cd(e.root),{anchorNode:r,anchorOffset:i}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let o=mf.find(this,t.head);if(!o)return;let s=o.posAtStart;if(t.head==s||t.head==s+o.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,i)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||hd(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let e=Pd.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof mf)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,r=this.children.length-1;;r--){let i=this.children[r],o=n-i.breakAfter-i.length;if(e>o||e==o&&i.type!=lf.WidgetBefore&&i.type!=lf.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==lf.WidgetBefore&&t>-2))return i.coordsAt(e-o,t);n=o}}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Hf.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],u=e+c.length;if(u>r)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),o){let t=c.dom.lastChild,r=t?dd(t):[];if(r.length){let t=r[r.length-1],o=a?t.right-n.left:n.right-t.left;o>s&&(s=o,this.minWidth=i,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Hf.RTL:Hf.LTR}measureTextSize(){for(let e of this.children)if(e instanceof mf){let t=e.measureTextSize();if(t)return t}let e,t,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=dd(n.firstChild)[0];e=n.getBoundingClientRect().height,t=r?r.width/27:7,n.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new jd(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){let r=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(cf.replace({widget:new cp(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return cf.set(e)}updateDeco(){let e=this.view.state.facet(Lf).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let i=0,o=0,s=0,a=0;for(let e of this.view.state.facet(Ff).map((e=>e(this.view))))if(e){let{left:t,right:n,top:r,bottom:l}=e;null!=t&&(i=Math.max(i,t)),null!=n&&(o=Math.max(o,n)),null!=r&&(s=Math.max(s,r)),null!=l&&(a=Math.max(a,l))}let l={left:r.left-i,top:r.top-s,right:r.right+o,bottom:r.bottom+a};!function(e,t,n,r,i,o,s,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e;u;)if(1==u.nodeType){let e,h=u==l.body;if(h)e=bd(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();e={left:t.left,right:t.left+u.clientWidth,top:t.top,bottom:t.top+u.clientHeight}}let d=0,f=0;if("nearest"==i)t.top<e.top?(f=-(e.top-t.top+s),n>0&&t.bottom>e.bottom+f&&(f=t.bottom-e.bottom+f+s)):t.bottom>e.bottom&&(f=t.bottom-e.bottom+s,n<0&&t.top-f<e.top&&(f=-(e.top+f-t.top+s)));else{let r=t.bottom-t.top,o=e.bottom-e.top;f=("center"==i&&r<=o?t.top+r/2-o/2:"start"==i||"center"==i&&n<0?t.top-s:t.bottom-o+s)-e.top}if("nearest"==r?t.left<e.left?(d=-(e.left-t.left+o),n>0&&t.right>e.right+d&&(d=t.right-e.right+d+o)):t.right>e.right&&(d=t.right-e.right+o,n<0&&t.left<e.left+d&&(d=-(e.left+d-t.left+o))):d=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-o:t.right-(e.right-e.left)+o)-e.left,d||f)if(h)c.scrollBy(d,f);else{let e=0,n=0;if(f){let e=u.scrollTop;u.scrollTop+=f,n=u.scrollTop-e}if(d){let t=u.scrollLeft;u.scrollLeft+=d,e=u.scrollLeft-t}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-d)<1&&(r="nearest"),n&&Math.abs(n-f)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Hf.LTR)}}class cp extends af{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function up(e){let t=e.observer.selectionRange,n=t.focusNode&&dp(t.focusNode,t.focusOffset,0);if(!n)return null;let r=e.docView.nearest(n);if(!r)return null;if(r instanceof mf){let e=n;for(;e.parentNode!=r.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!Pd.get(t);)t=t.previousSibling;let i=t?Pd.get(t).posAtEnd:r.posAtStart;return{from:i,to:i,node:e,text:n}}{for(;;){let{parent:e}=r;if(!e)return null;if(e instanceof mf)break;r=e}let e=r.posAtStart;return{from:e,to:e+r.length,node:r.dom,text:n}}}class hp extends af{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Qd}}function dp(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=gd(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}class fp{constructor(){this.changes=[]}compareRange(e,t){pf(e,t,this.changes)}comparePoint(e,t){pf(e,t,this.changes)}}function pp(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function mp(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function gp(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function vp(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function yp(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function bp(e,t,n){let r,i,o,s,a,l,c,u,h=!1;for(let d=e.firstChild;d;d=d.nextSibling){let e=dd(d);for(let f=0;f<e.length;f++){let p=e[f];i&&gp(i,p)&&(p=vp(yp(p,i.bottom),i.top));let m=pp(t,p),g=mp(n,p);if(0==m&&0==g)return 3==d.nodeType?wp(d,t,n):bp(d,t,n);(!r||s>g||s==g&&o>m)&&(r=d,i=p,o=m,s=g,h=!m||(m>0?f<e.length-1:f>0)),0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(a=d,c=p):n<p.top&&(!u||u.top>p.top)&&(l=d,u=p):c&&gp(c,p)?c=yp(c,p.bottom):u&&gp(u,p)&&(u=vp(u,p.top))}}if(c&&c.bottom>=n?(r=a,i=c):u&&u.top<=n&&(r=l,i=u),!r)return{node:e,offset:0};let d=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?wp(r,d,n):h&&"false"!=r.contentEditable?bp(r,d,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function wp(e,t,n){let r=e.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let r=Sd(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<o){let n=t>=(c.left+c.right)/2,r=n;if(Wd.chrome||Wd.gecko){Sd(e,a).getBoundingClientRect().left==c.right&&(r=!n)}if(u<=0)return{node:e,offset:a+(r?1:0)};i=a+(r?1:0),o=u}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function $p(e,{x:t,y:n},r,i=-1){var o;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,u=n-l;if(u<0)return 0;if(u>c)return e.state.doc.length;for(let t=e.defaultLineHeight/2,n=!1;s=e.elementAtHeight(u),s.type!=lf.Text;)for(;u=i>0?s.bottom+t:s.top-t,!(u>=0&&u<=c);){if(n)return r?null:0;n=!0,i=-i}n=l+u;let h=s.from;if(h<e.viewport.from)return 0==e.viewport.from?0:r?null:xp(e,a,s,t,n);if(h>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:r?null:xp(e,a,s,t,n);let d=e.dom.ownerDocument,f=e.root.elementFromPoint?e.root:d,p=f.elementFromPoint(t,n);p&&!e.contentDOM.contains(p)&&(p=null),p||(t=Math.max(a.left+1,Math.min(a.right-1,t)),p=f.elementFromPoint(t,n),p&&!e.contentDOM.contains(p)&&(p=null));let m,g=-1;if(p&&0!=(null===(o=e.docView.nearest(p))||void 0===o?void 0:o.isEditable))if(d.caretPositionFromPoint){let e=d.caretPositionFromPoint(t,n);e&&({offsetNode:m,offset:g}=e)}else if(d.caretRangeFromPoint){let r=d.caretRangeFromPoint(t,n);r&&(({startContainer:m,startOffset:g}=r),(!e.contentDOM.contains(m)||Wd.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Sd(e,r-1,r).getBoundingClientRect().left>n}(m,g,t)||Wd.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let r=1==e.nodeType?e.getBoundingClientRect():Sd(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(m,g,t))&&(m=void 0))}if(!m||!e.docView.dom.contains(m)){let r=mf.find(e.docView,h);if(!r)return u>s.top+s.height/2?s.to:s.from;({node:m,offset:g}=bp(r.dom,t,n))}return e.docView.posFromDOM(m,g)}function xp(e,t,n,r,i){let o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){o+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+Kh(s,o,e.state.tabSize)}function kp(e,t,n,r){let i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let a=t,l=null;;){let t=rp(i,o,s,a,n),c=np;if(!t){if(i.number==(n?e.state.doc.lines:1))return a;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),t=Lu.cursor(n?i.from:i.to)}if(l){if(!l(c))return a}else{if(!r)return t;l=r(c)}a=t}}function Sp(e,t,n){let r=e.state.facet(Bf).map((t=>t(e)));for(;;){let e=!1;for(let i of r)i.between(n.from-1,n.from+1,((r,i,o)=>{n.from>r&&n.from<i&&(n=t.head>n.from?Lu.cursor(r,1):Lu.cursor(i,-1),e=!0)}));if(!e)return n}}class Cp{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let t=(t,n)=>{this.ignoreDuringComposition(n)||"keydown"==n.type&&this.keydown(e,n)||(this.mustFlushObserver(n)&&e.observer.forceFlush(),this.runCustomHandlers(n.type,e,n)?n.preventDefault():t(e,n))};for(let n in Mp){let r=Mp[n];e.contentDOM.addEventListener(n,(n=>{jp(e,n)&&t(r,n)}),Tp[n]),this.registeredEvents.push(n)}e.scrollDOM.addEventListener("mousedown",(n=>{n.target==e.scrollDOM&&t(Mp.mousedown,n)})),Wd.chrome&&102==Wd.chrome_version&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,Wd.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var n;let r;this.customHandlers=[];for(let i of t)if(r=null===(n=i.update(e).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:i.value,handlers:r});for(let t in r)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{jp(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}}runCustomHandlers(e,t,n){for(let r of this.customHandlers){let i=r.handlers[e];if(i)try{if(i.call(r.plugin,n,t)||n.defaultPrevented)return!0}catch(e){Ef(t.state,e)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let r=n.handlers.scroll;if(r)try{r.call(n.plugin,t,e)}catch(t){Ef(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(Wd.android&&Wd.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return!(!Wd.ios||t.synthetic||t.altKey||t.metaKey||!((n=Op.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||_p.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey))&&(this.pendingIOSKey=n||t,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Cd(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Wd.safari&&!Wd.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Op=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],_p="dthko",Ap=[16,17,18,20,91,92,224,225];function Pp(e){return.7*e+8}class Ep{constructor(e,t,n,r){this.view=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(e.contentDOM);let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ph.allowMultipleSelections)&&function(e,t){let n=e.state.facet(wf);return n.length?n[0](t):Wd.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let n=e.state.facet($f);return n.length?n[0](t):Wd.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=cd(e.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Wp(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){var t;if(0==e.buttons)return this.destroy();if(!1!==this.dragging)return;this.select(this.lastEvent=e);let n=0,r=0,i=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=i.left?n=-Pp(i.left-e.clientX):e.clientX>=i.right&&(n=Pp(e.clientX-i.right)),e.clientY<=i.top?r=-Pp(i.top-e.clientY):e.clientY>=i.bottom&&(r=Pp(e.clientY-i.bottom)),this.setScrollSpeed(n,r)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function jp(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Pd.get(r))&&n.ignoreEvent(t))return!1;return!0}const Mp=Object.create(null),Tp=Object.create(null),Np=Wd.ie&&Wd.ie_version<15||Wd.ios&&Wd.webkit_version<604;function Ip(e,t){let n,{state:r}=e,i=1,o=r.toText(t),s=o.lines==r.selection.ranges.length;if(null!=Jp&&r.selection.ranges.every((e=>e.empty))&&Jp==o.toString()){let e=-1;n=r.changeByRange((n=>{let a=r.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=r.toText((s?o.line(i++).text:t)+r.lineBreak);return{changes:{from:a.from,insert:l},range:Lu.cursor(n.from+l.length)}}))}else n=s?r.changeByRange((e=>{let t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Lu.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Dp(e,t,n,r){if(1==r)return Lu.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return Lu.cursor(t);0==o?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=bu(i.text,o,!1):a=bu(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let e=bu(i.text,s,!1);if(r(i.text.slice(e,s))!=l)break;s=e}for(;a<i.length;){let e=bu(i.text,a);if(r(i.text.slice(a,e))!=l)break;a=e}return Lu.range(s+i.from,a+i.from)}(e.state,t,n);{let n=mf.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),i=n?n.posAtStart:r.from,o=n?n.posAtEnd:r.to;return o<e.state.doc.length&&o==r.to&&o++,Lu.range(i,o)}}Mp.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Ap.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},Mp.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Mp.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Tp.touchstart=Tp.touchmove={passive:!0},Mp.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of e.state.facet(xf))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=Fp(e,t),r=Wp(t),i=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get(t,o,s){let a=Fp(e,t),l=Dp(e,a.pos,a.bias,r);if(n.pos!=a.pos&&!o){let t=Dp(e,n.pos,n.bias,r),i=Math.min(t.from,l.from),o=Math.max(t.to,l.to);l=i<l.from?Lu.range(i,o):Lu.range(o,i)}return o?i.replaceRange(i.main.extend(l.from,l.to)):s&&i.ranges.length>1&&i.ranges.some((e=>e.eq(l)))?function(e,t){for(let n=0;;n++)if(e.ranges[n].eq(t))return Lu.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}(i,l):s?i.addRange(l):Lu.create([l])}}}(e,t)),n){let r=e.root.activeElement!=e.contentDOM;r&&e.observer.ignore((()=>kd(e.contentDOM))),e.inputState.startMouseSelection(new Ep(e,t,n,r))}};let Rp=(e,t)=>e>=t.top&&e<=t.bottom,Lp=(e,t,n)=>Rp(t,n)&&e>=n.left&&e<=n.right;function Bp(e,t,n,r){let i=mf.find(e.docView,t);if(!i)return 1;let o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Lp(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&Lp(n,r,a)?1:s&&Rp(r,s)?-1:1}function Fp(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Bp(e,n,t.clientX,t.clientY)}}const Vp=Wd.ie&&Wd.ie_version<=11;let zp=null,qp=0,Hp=0;function Wp(e){if(!Vp)return e.detail;let t=zp,n=Hp;return zp=e,Hp=Date.now(),qp=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(qp+1)%3:1}function Up(e,t,n,r){if(!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:o}=e.inputState,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}Mp.dragstart=(e,t)=>{let{selection:{main:n}}=e.state,{mouseSelection:r}=e.inputState;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},Mp.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();let r=Array(n.length),i=0,o=()=>{++i==n.length&&Up(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=o,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])}}else Up(e,t,t.dataTransfer.getData("Text"),!0)},Mp.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let n=Np?null:t.clipboardData;n?(Ip(e,n.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Ip(e,n.value)}),50)}(e)};let Jp=null;function Kp(e){setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}Mp.copy=Mp.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let i=-1;for(let{from:r}of e.selection.ranges){let o=e.doc.lineAt(r);o.number>i&&(t.push(o.text),n.push({from:o.from,to:Math.min(e.doc.length,o.to+1)})),i=o.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}(e.state);if(!n&&!i)return;Jp=i?n:null;let o=Np?null:t.clipboardData;o?(t.preventDefault(),o.clearData(),o.setData("text/plain",n)):function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})},Mp.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Kp(e)},Mp.blur=e=>{e.observer.clearSelectionRange(),Kp(e)},Mp.compositionstart=Mp.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},Mp.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,Wd.chrome&&Wd.android&&e.observer.flushSoon(),setTimeout((()=>{e.inputState.composing<0&&e.docView.compositionDeco.size&&e.update([])}),50)},Mp.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Mp.beforeinput=(e,t)=>{var n;let r;if(Wd.chrome&&Wd.android&&(r=Op.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const Gp=["pre-wrap","normal","pre-line","break-spaces"];class Qp{constructor(e){this.lineWrapping=e,this.doc=au.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Gp.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,i){let o=Gp.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.lineLength=r,s){this.heightSamples={};for(let e=0;e<i.length;e++){let t=i[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class Yp{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Xp{constructor(e,t,n,r,i){this.from=e,this.length=t,this.top=n,this.height=r,this.type=i}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Xp(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Zp=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Zp||(Zp={}));const em=.001;class tm{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>em&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return tm.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let i=this;for(let o=r.length-1;o>=0;o--){let{fromA:s,toA:a,fromB:l,toB:c}=r[o],u=i.lineAt(s,Zp.ByPosNoHeight,t,0,0),h=u.to>=a?u:i.lineAt(a,Zp.ByPosNoHeight,t,0,0);for(c+=h.to-a,a=h.to;o>0&&u.from<=r[o-1].toA;)s=r[o-1].fromA,l=r[o-1].fromB,o--,s<u.from&&(u=i.lineAt(s,Zp.ByPosNoHeight,t,0,0));l+=u.from-s,s=u.from;let d=am.build(n,e,l,c);i=i.replace(s,a,d)}return i.updateHeight(n,0)}static empty(){return new rm(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,i=0;for(;;)if(t==n)if(r>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,i-=t.size}}else if(r<i){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(i+=t.size)}let o=0;return null==e[t-1]?(o=1,t--):null==e[t]&&(o=1,n++),new om(tm.of(e.slice(0,t)),o,tm.of(e.slice(n)))}}tm.prototype.size=1;class nm extends tm{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,r){return new Xp(r,this.length,n,this.height,this.type)}lineAt(e,t,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(e,t,n,r,i,o){e<=i+this.length&&t>=i&&o(this.blockAt(0,n,r,i))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class rm extends nm{constructor(e,t){super(e,t,lf.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof rm||r instanceof im&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof im?r=new rm(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):tm.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class im extends tm{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}blockAt(e,t,n,r){let{firstLine:i,lastLine:o,lineHeight:s}=this.lines(t,r),a=Math.max(0,Math.min(o-i,Math.floor((e-n)/s))),{from:l,length:c}=t.line(i+a);return new Xp(l,c,n+s*a,s,lf.Text)}lineAt(e,t,n,r,i){if(t==Zp.ByHeight)return this.blockAt(e,n,r,i);if(t==Zp.ByPosNoHeight){let{from:t,to:r}=n.lineAt(e);return new Xp(t,r-t,0,0,lf.Text)}let{firstLine:o,lineHeight:s}=this.lines(n,i),{from:a,length:l,number:c}=n.lineAt(e);return new Xp(a,l,r+s*(c-o),s,lf.Text)}forEachLine(e,t,n,r,i,o){let{firstLine:s,lineHeight:a}=this.lines(n,i);for(let l=Math.max(e,i),c=Math.min(i+this.length,t);l<=c;){let t=n.lineAt(l);l==e&&(r+=a*(t.number-s)),o(new Xp(t.from,t.length,r,a,lf.Text)),r+=a,l=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof im?n[n.length-1]=new im(e.length+r):n.push(null,new im(r-1))}if(e>0){let t=n[0];t instanceof im?n[0]=new im(e+t.length):n.unshift(new im(e-1),null)}return tm.of(n)}decomposeLeft(e,t){t.push(new im(e-1),null)}decomposeRight(e,t){t.push(null,new im(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let i=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],o=Math.max(t,r.from),s=-1,a=e.heightChanged;for(r.from>t&&n.push(new im(r.from-t-1).updateHeight(e,t));o<=i&&r.more;){let t=e.doc.lineAt(o).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==s?s=i:Math.abs(i-s)>=em&&(s=-2);let a=new rm(t,i);a.outdated=!1,n.push(a),o+=t+1}o<=i&&n.push(null,new im(i-o).updateHeight(e,o));let l=tm.of(n);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=em||Math.abs(s-this.lines(e.doc,t).lineHeight)>=em,l}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class om extends tm{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}lineAt(e,t,n,r,i){let o=r+this.left.height,s=i+this.left.length+this.break,a=t==Zp.ByHeight?e<o:e<s,l=a?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==Zp.ByPosNoHeight?Zp.ByPosNoHeight:Zp.ByPos;return a?l.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,r,i).join(l)}forEachLine(e,t,n,r,i,o){let s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,i,o),t>=a&&this.right.forEachLine(e,t,n,s,a,o);else{let l=this.lineAt(a,Zp.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,o)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let i=[];e>0&&this.decomposeLeft(e,i);let o=i.length;for(let e of n)i.push(e);if(e>0&&sm(i,o-1),t<this.length){let e=i.length;this.decomposeRight(t,i),sm(i,e)}return tm.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?tm.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:i,right:o}=this,s=t+i.length+this.break,a=null;return r&&r.from<=t+i.length&&r.more?a=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(e,s,n,r):o.updateHeight(e,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function sm(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof im&&(r=e[t+1])instanceof im&&e.splice(t-1,3,new im(n.length+1+r.length))}class am{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof rm?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new rm(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let i=t-e;n.block?this.addBlock(new nm(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new rm(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new im(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof rm)return e;let t=new rm(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=lf.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=lf.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof rm||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new rm(0,-1));let n=e;for(let e of this.nodes)e instanceof rm&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let i=new am(n,e);return Ih.spans(t,n,r,i,0),i.finish(n)}}class lm{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&pf(e,t,this.changes,5)}}function cm(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();o=Math.max(o,r.left),s=Math.min(s,r.right),a=Math.max(a,r.top),l=t==e.parentNode?r.bottom:Math.min(l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function um(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class hm{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(e){return cf.replace({widget:new dm(this.size,e)}).range(this.from,this.to)}}class dm extends af{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class fm{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=ym,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Hf.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Rf).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new Qp(t),this.stateDeco=e.facet(Lf).filter((e=>"function"!=typeof e)),this.heightMap=tm.empty().applyChanges(this.stateDeco,au.empty,this.heightOracle.setDoc(e.doc),[new zf(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=cf.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new pm(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?ym:new bm(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:wm(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Lf).filter((e=>"function"!=typeof e));let r=e.changedRanges,i=zf.extendWithRanges(r,function(e,t,n){let r=new lm;return Ih.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:Eu.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=o&&(e.flags|=2);let s=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let a=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(_f)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Hf.RTL:Hf.LTR;let o=this.heightOracle.mustRefreshForWrapping(i),s=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,l=0,c=parseInt(n.paddingTop)||0,u=parseInt(n.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==u||(this.paddingTop=c,this.paddingBottom=u,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let h=(this.printing?um:cm)(t,this.paddingTop),d=h.top-this.pixelViewport.top,f=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(s=!0)),!this.inView&&!this.scrollTarget)return 0;let m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,a|=8),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(o=!0),o||r.lineWrapping&&Math.abs(m-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:s}=e.docView.measureTextSize();o=n>0&&r.refresh(i,n,s,m/s,t),o&&(e.docView.minWidth=0,a|=8)}d>0&&f>0?l=Math.max(d,f):d<0&&f<0&&(l=Math.min(d,f)),r.heightChanged=!1;for(let n of this.viewports){let i=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(o?tm.empty().applyChanges(this.stateDeco,au.empty,this.heightOracle,[new zf(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Yp(n.from,i))}r.heightChanged&&(a|=2)}let g=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return g&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||g)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.state.doc,{visibleTop:o,visibleBottom:s}=this,a=new pm(r.lineAt(o-1e3*n,Zp.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),Zp.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(e,Zp.ByPos,i,0,0);n="center"==t.y?(s.top+s.bottom)/2-o/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-o,a=new pm(r.lineAt(n-500,Zp.ByHeight,i,0,0).from,r.lineAt(n+o+500,Zp.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new pm(this.heightMap.lineAt(n,Zp.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Zp.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Zp.ByPos,this.state.doc,0,0),{bottom:i}=this.heightMap.lineAt(t,Zp.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==e||r<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=s+Math.max(10,Math.min(n,250)))&&r>o-2e3&&i<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new hm(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,o=r<<1;if(this.defaultTextDirection!=Hf.LTR&&!n)return[];let s=[],a=(r,o,l,c)=>{if(o-r<i)return;let u=this.state.selection.main,h=[u.from];u.empty||h.push(u.to);for(let e of h)if(e>r&&e<o)return a(r,e-10,l,c),void a(e+10,o,l,c);let d=function(e,t){for(let n of e)if(t(n))return n;return}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<i&&Math.abs(e.to-o)<i&&!h.some((t=>e.from<t&&e.to>t))));if(!d){if(o<l.to&&t&&n&&t.visibleRanges.some((e=>e.from<=o&&e.to>=o))){let e=t.moveToLineBoundary(Lu.cursor(o),!1,!0).head;e>r&&(o=e)}d=new hm(r,o,this.gapSize(l,r,o,c))}s.push(d)};for(let e of this.viewportLines){if(e.length<o)continue;let t=mm(e.from,e.to,this.stateDeco);if(t.total<o)continue;let i,s,l=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,o,a=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=l){let r=vm(t,l),i=((this.visibleBottom-this.visibleTop)/2+a)/e.height;n=r-i,o=r+i}else n=(this.visibleTop-e.top-a)/e.height,o=(this.visibleBottom-e.top+a)/e.height;i=gm(t,n),s=gm(t,o)}else{let e,n,o=t.total*this.heightOracle.charWidth,a=r*this.heightOracle.charWidth;if(null!=l){let r=vm(t,l),i=((this.pixelViewport.right-this.pixelViewport.left)/2+a)/o;e=r-i,n=r+i}else e=(this.pixelViewport.left-a)/o,n=(this.pixelViewport.right+a)/o;i=gm(t,e),s=gm(t,n)}i>e.from&&a(e.from,i,e,t),s<e.to&&a(s,e.to,e,t)}return s}gapSize(e,t,n,r){let i=vm(r,n)-vm(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(e){hm.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=cf.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Ih.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||wm(this.heightMap.lineAt(e,Zp.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return wm(this.heightMap.lineAt(this.scaler.fromDOM(e),Zp.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return wm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class pm{constructor(e,t){this.from=e,this.to=t}}function mm(e,t,n){let r=[],i=e,o=0;return Ih.spans(n,e,t,{span(){},point(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function gm({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:i}=t[e],o=i-n;if(r<=o)return n+r;r-=o}}function vm(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}const ym={toDOM:e=>e,fromDOM:e=>e,scale:1};class bm{constructor(e,t,n){let r=0,i=0,o=0;this.viewports=n.map((({from:n,to:i})=>{let o=t.lineAt(n,Zp.ByPos,e,0,0).top,s=t.lineAt(i,Zp.ByPos,e,0,0).bottom;return r+=s-o,{from:n,to:i,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=o+(e.top-i)*this.scale,o=e.domBottom=e.domTop+(e.bottom-e.top),i=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}function wm(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Xp(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((e=>wm(e,t))):e.type)}const $m=Vu.define({combine:e=>e.join(" ")}),xm=Vu.define({combine:e=>e.indexOf(!0)>-1}),km=Xh.newName(),Sm=Xh.newName(),Cm=Xh.newName(),Om={"&light":"."+Sm,"&dark":"."+Cm};function _m(e,t,n){return new Xh(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const Am=_m("."+km,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Om);class Pm{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:i,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=i||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=e.observer.selectionRange;n&&(t.push(new ap(n,r)),i==n&&o==r||t.push(new ap(i,o)));return t}(e),n=new op(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?Lu.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=i&&i.node==t.focusNode&&i.offset==t.focusOffset||!ud(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!ud(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);this.newSel=Lu.single(r,n)}}}function Em(e,t){let n,{newSel:r}=t,i=e.state.selection.main;if(t.bounds){let{from:r,to:o}=t.bounds,s=i.from,a=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Wd.android&&t.text.length<o-r)&&(s=i.to,a="end");let l=function(e,t,n,r){let i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){n-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.length<t.length){o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o}else if(a<o){o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}(e.state.doc.sliceString(r,o,ip),t.text,s-r,a);l&&(Wd.chrome&&13==e.inputState.lastKeyCode&&l.toB==l.from+2&&t.text.slice(l.from,l.toB)==ip+ip&&l.toB--,n={from:r+l.from,to:r+l.toA,insert:au.of(t.text.slice(l.from,l.toB).split(ip))})}else!r||e.hasFocus&&e.state.facet(jf)&&!r.main.eq(i)||(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(Wd.mac||Wd.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())?(r&&2==n.insert.length&&(r=Lu.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:au.of([" "])}):Wd.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=Lu.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:au.of([" "])}),n){let t=e.state;if(Wd.ios&&e.inputState.flushIOSKey(e))return!0;if(Wd.android&&(n.from==i.from&&n.to==i.to&&1==n.insert.length&&2==n.insert.lines&&Cd(e.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&0==n.insert.length&&Cd(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&0==n.insert.length&&Cd(e.contentDOM,"Delete",46)))return!0;let o,s=n.insert.toString();if(e.state.facet(Cf).some((t=>t(e,n.from,n.to,s))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&e.inputState.composing<0){let r=i.from<n.from?t.sliceDoc(i.from,n.from):"",s=i.to>n.to?t.sliceDoc(n.to,i.to):"";o=t.replaceSelection(e.state.toText(r+n.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let s=t.changes(n),a=r&&!t.selection.main.eq(r.main)&&r.main.to<=s.newLength?r.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let r=e.state.sliceDoc(n.from,n.to),l=up(e)||e.state.doc.lineAt(i.head),c=i.to-n.to,u=i.to-i.from;o=t.changeByRange((o=>{if(o.from==i.from&&o.to==i.to)return{changes:s,range:a||o.map(s)};let h=o.to-c,d=h-r.length;if(o.to-o.from!=u||e.state.sliceDoc(d,h)!=r||l&&o.to>=l.from&&o.from<=l.to)return{range:o};let f=t.changes({from:d,to:h,insert:n.insert}),p=o.to-i.to;return{changes:f,range:a?Lu.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):o.map(f)}}))}else o={changes:s,selection:a&&t.selection.replaceRange(a)}}let a="input.type";return e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(o,{scrollIntoView:!0,userEvent:a}),!0}if(r&&!r.main.eq(i)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}const jm={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Mm=Wd.ie&&Wd.ie_version<=11;class Tm{constructor(e){this.view=e,this.active=!1,this.selectionRange=new wd,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Wd.ie&&Wd.ie_version<=11||Wd.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Mm&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver((()=>this.view.requestMeasure())),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(jf)?n.root.activeElement!=this.dom:!hd(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(Wd.ie&&Wd.ie_version<=11||Wd.android&&Wd.chrome)&&!n.state.selection.main.empty&&r.focusNode&&fd(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Wd.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);fd(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]);return{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this.view)||cd(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=hd(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(;;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=gd(n))}else{if(n==e)return!0;r=pd(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,jm),Mm&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Mm&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),!this.flush()&&e.force&&Cd(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&hd(this.dom,this.selectionRange);return e<0&&!r?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Pm(this.view,e,t,n))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let n=this.view.state,r=Em(this.view,t);return this.view.state==n&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let n=Nm(t,e.previousSibling||e.target.previousSibling,-1),r=Nm(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect(),null===(r=this.resizeContent)||void 0===r||r.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Nm(e,t,n){for(;t;){let r=Pd.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}class Im{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new fm(e.state||Ph.create(e)),this.plugins=this.state.facet(Tf).map((e=>new If(e)));for(let e of this.plugins)e.update(this);this.observer=new Tm(this),this.inputState=new Cp(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new lp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof yh?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,i=this.state;for(let t of e){if(t.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=t.state}if(this.destroyed)return void(this.viewState.state=i);let o=this.observer.delayedAndroidKey,s=null;if(o?(this.observer.clearDelayedAndroidKey(),s=this.observer.readChange(),(s&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(s=null)):this.observer.clear(),i.facet(Ph.phrases)!=this.state.facet(Ph.phrases))return this.setState(i);t=qf.create(this,i,e);let a=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(a&&(a=a.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;a=new Af(e.empty?e:Lu.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Pf)&&(a=e.value)}this.viewState.update(t,a),this.bidiCache=Lm.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(Vf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet($m)!=t.state.facet($m)&&(this.viewState.mustMeasureContent=!0),(n||r||a||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(Sf))e(t);s&&!Em(this,s)&&o.force&&Cd(this.contentDOM,o.key,o.keyCode)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new fm(e),this.plugins=e.facet(Tf).map((e=>new If(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new lp(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Tf),n=e.state.facet(Tf);if(t!=n){let r=[];for(let i of n){let n=t.indexOf(i);if(n<0)r.push(new If(i));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:n,scrollTop:r,clientHeight:i}=this.scrollDOM,o=r>n-i-4?n:r;try{for(let e=0;;e++){this.updateState=1;let n=this.viewport,r=this.viewState.lineBlockAtHeight(o),i=this.viewState.measure(this);if(!i&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];4&i||([this.measureRequests,s]=[s,this.measureRequests]);let a=s.map((e=>{try{return e.read(this)}catch(e){return Ef(this.state,e),Rm}})),l=qf.create(this,this.state,[]),c=!1,u=!1;l.flags|=i,t?t.flags|=i:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),c=this.docView.update(l));for(let e=0;e<s.length;e++)if(a[e]!=Rm)try{let t=s[e];t.write&&t.write(a[e],this)}catch(e){Ef(this.state,e)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0;else{let e=this.viewState.lineBlockAt(r.from).top-r.top;(e>1||e<-1)&&(this.scrollDOM.scrollTop+=e,u=!0)}if(c&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!u&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(Sf))e(t)}get themeClasses(){return km+" "+(this.state.facet(xm)?Cm:Sm)+" "+this.state.facet($m)}updateAttrs(){let e=Bm(this,Df,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(jf)?"true":"false",class:"cm-content",style:`${Wd.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Bm(this,Rf,t);let n=this.observer.ignore((()=>{let n=sf(this.contentDOM,this.contentAttrs,t),r=sf(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(Im.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(Vf),Xh.mount(this.root,this.styleModules.concat(Am).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Sp(this,e,kp(this,e,t,n))}moveByGroup(e,t){return Sp(this,e,kp(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return e=>{let t=r(e);return i==Ch.Space&&(i=t),i==t}}(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let i=e.state.doc.lineAt(t.head),o=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(i.from),s=e.posAtCoords({x:n==(r==Hf.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=s)return Lu.cursor(s,n?-1:1)}let s=mf.find(e.docView,t.head),a=s?n?s.posAtEnd:s.posAtStart:n?i.to:i.from;return Lu.cursor(a,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return Sp(this,e,function(e,t,n,r){let i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return Lu.cursor(i,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=o<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(i);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-t.from))),s=(o<0?t.top:t.bottom)+u}let h=l.left+a,d=null!=r?r:e.defaultLineHeight>>1;for(let n=0;;n+=10){let r=s+(d+n)*o,c=$p(e,{x:h,y:r},!1,o);if(r<l.top||r>l.bottom||(o<0?c<i:c>i))return Lu.cursor(c,t.assoc,void 0,a)}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),$p(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),i=this.bidiSpans(r);return yd(n,i[Zf.find(i,e-r.from,-1,t)].dir==Hf.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Of)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Dm)return tp(e.length);let t=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t)return n.order;let n=function(e,t){let n=e.length,r=t==Wf?1:2,i=t==Wf?2:1;if(!e||1==r&&!Xf.test(e))return tp(n);for(let t=0,i=r,s=r;t<n;t++){let n=(o=e.charCodeAt(t))<=247?Kf[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?Gf[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8203?256:64336<=o&&o<=65023?4:8204==o?256:1;512==n?n=i:8==n&&4==s&&(n=16),ep[t]=4==n?2:n,7&n&&(s=n),i=n}var o;for(let e=0,t=r,i=r;e<n;e++){let r=ep[e];if(128==r)e<n-1&&t==ep[e+1]&&24&t?r=ep[e]=t:ep[e]=256;else if(64==r){let r=e+1;for(;r<n&&64==ep[r];)r++;let o=e&&8==t||r<n&&8==ep[r]?1==i?1:8:256;for(let t=e;t<r;t++)ep[t]=o;e=r-1}else 8==r&&1==i&&(ep[e]=1);t=r,7&r&&(i=r)}for(let t,o,s,a=0,l=0,c=0;a<n;a++)if(o=Qf[t=e.charCodeAt(a)])if(o<0){for(let e=l-3;e>=0;e-=3)if(Yf[e+1]==-o){let t=Yf[e+2],n=2&t?r:4&t?1&t?i:r:0;n&&(ep[a]=ep[Yf[e]]=n),l=e;break}}else{if(189==Yf.length)break;Yf[l++]=a,Yf[l++]=t,Yf[l++]=c}else if(2==(s=ep[a])||1==s){let e=s==r;c=e?0:1;for(let t=l-3;t>=0;t-=3){let n=Yf[t+2];if(2&n)break;if(e)Yf[t+2]|=2;else{if(4&n)break;Yf[t+2]|=4}}}for(let e=0;e<n;e++)if(256==ep[e]){let t=e+1;for(;t<n&&256==ep[t];)t++;let i=1==(e?ep[e-1]:r),o=i==(1==(t<n?ep[t]:r))?i?1:2:r;for(let n=e;n<t;n++)ep[n]=o;e=t-1}let s=[];if(1==r)for(let e=0;e<n;){let t=e,r=1!=ep[e++];for(;e<n&&r==(1!=ep[e]);)e++;if(r)for(let n=e;n>t;){let e=n,r=2!=ep[--n];for(;n>t&&r==(2!=ep[n-1]);)n--;s.push(new Zf(n,e,r?2:1))}else s.push(new Zf(t,e,0))}else for(let e=0;e<n;){let t=e,r=2==ep[e++];for(;e<n&&r==(2==ep[e]);)e++;s.push(new Zf(t,e,r?1:2))}return s}(e.text,t);return this.bidiCache.push(new Lm(e.from,e.to,t,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Wd.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{kd(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Pf.of(new Af("number"==typeof e?Lu.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Nf.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=Xh.newName(),r=[$m.of(n),Vf.of(_m(`.${n}`,e))];return t&&t.dark&&r.push(xm.of(!0)),r}static baseTheme(e){return eh.lowest(Vf.of(_m("."+km,e,Om)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&Pd.get(n)||Pd.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}Im.styleModule=Vf,Im.inputHandler=Cf,Im.perLineTextDirection=Of,Im.exceptionSink=kf,Im.updateListener=Sf,Im.editable=jf,Im.mouseSelectionStyle=xf,Im.dragMovesSelection=$f,Im.clickAddsSelectionRange=wf,Im.decorations=Lf,Im.atomicRanges=Bf,Im.scrollMargins=Ff,Im.darkTheme=xm,Im.contentAttributes=Rf,Im.editorAttributes=Df,Im.lineWrapping=Im.contentAttributes.of({class:"cm-lineWrapping"}),Im.announce=vh.define();const Dm=4096,Rm={};class Lm{constructor(e,t,n,r){this.from=e,this.to=t,this.dir=n,this.order=r}static update(e,t){if(t.empty)return e;let n=[],r=e.length?e[e.length-1].dir:Hf.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let o=e[i];o.dir!=r||t.touchesRange(o.from,o.to)||n.push(new Lm(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return n}}function Bm(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let t=r[i],o="function"==typeof t?t(e):t;o&&rf(o,n)}return n}const Fm=Wd.mac?"mac":Wd.windows?"win":Wd.linux?"linux":"key";function Vm(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const zm=eh.default(Im.domEventHandlers({keydown:(e,t)=>Jm(Wm(t.state),e,t,"editor")})),qm=Vu.define({enables:zm}),Hm=new WeakMap;function Wm(e){let t=e.facet(qm),n=Hm.get(t);return n||Hm.set(t,n=function(e,t=Fm){let n=Object.create(null),r=Object.create(null),i=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=(e,r,o,s)=>{var a,l;let c=n[e]||(n[e]=Object.create(null)),u=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,i,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:i=!0}}return r&&(a="Alt-"+a),i&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<u.length;t++){let n=u.slice(0,t).join(" ");i(n,!0),c[n]||(c[n]={preventDefault:!0,run:[t=>{let r=Um={view:t,prefix:n,scope:e};return setTimeout((()=>{Um==r&&(Um=null)}),4e3),!0}]})}let h=u.join(" ");i(h,!1);let d=c[h]||(c[h]={preventDefault:!1,run:(null===(l=null===(a=c._any)||void 0===a?void 0:a.run)||void 0===l?void 0:l.slice())||[]});o&&d.run.push(o),s&&(d.preventDefault=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,run:[]});for(let t in e)e[t].run.push(r.any)}let i=r[t]||r.key;if(i)for(let t of e)o(t,i,r.run,r.preventDefault),r.shift&&o(t,"Shift-"+i,r.shift,r.preventDefault)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let Um=null;function Jm(e,t,n,r){let i=function(e){var t=!(sd&&(e.ctrlKey||e.altKey||e.metaKey)||od&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?nd:td)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=Ou(Su(i,0))==i.length&&" "!=i,s="",a=!1;Um&&Um.view==n&&Um.scope==r&&(s=Um.prefix+" ",(a=Ap.indexOf(t.keyCode)<0)&&(Um=null));let l,c,u=new Set,h=e=>{if(e){for(let r of e.run)if(!u.has(r)&&(u.add(r),r(n,t)))return!0;e.preventDefault&&(a=!0)}return!1},d=e[r];if(d){if(h(d[s+Vm(i,t,!o)]))return!0;if(o&&(t.altKey||t.metaKey||t.ctrlKey)&&(l=td[t.keyCode])&&l!=i){if(h(d[s+Vm(l,t,!0)]))return!0;if(t.shiftKey&&(c=nd[t.keyCode])!=i&&c!=l&&h(d[s+Vm(c,t,!1)]))return!0}else if(o&&t.shiftKey&&h(d[s+Vm(i,t,!0)]))return!0;if(h(d._any))return!0}return a}class Km{constructor(e,t,n,r,i){this.className=e,this.left=t,this.top=n,this.width=r,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=Gm(e);return[new Km(t,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==Hf.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=Gm(e),c=window.getComputedStyle(s.firstChild),u=a.left+parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)),h=a.right-parseInt(c.paddingRight),d=Ym(e,r),f=Ym(e,i),p=d.type==lf.Text?d:null,m=f.type==lf.Text?f:null;e.lineWrapping&&(p&&(p=Qm(e,r,p)),m&&(m=Qm(e,i,m)));if(p&&m&&p.from==m.from)return v(y(n.from,n.to,p));{let t=p?y(n.from,null,p):b(d,!1),r=m?y(null,n.to,m):b(f,!0),i=[];return(p||d).to<(m||f).from-1?i.push(g(u,t.bottom,h,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==lf.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),v(t).concat(i).concat(v(r))}function g(e,n,r,i){return new Km(t,e-l.left,n-l.top-.01,r-e,i-n+.01)}function v({top:e,bottom:t,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(g(n[i],e,n[i+1],t));return r}function y(t,n,r){let i=1e9,s=-1e9,a=[];function l(t,n,l,c,d){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);i=Math.min(f.top,p.top,i),s=Math.max(f.bottom,p.bottom,s),d==Hf.LTR?a.push(o&&n?u:f.left,o&&c?h:p.right):a.push(!o&&c?u:p.left,!o&&n?h:f.right)}let c=null!=t?t:r.from,d=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<d)for(let i=Math.max(r.from,c),o=Math.min(r.to,d);;){let r=e.state.doc.lineAt(i);for(let s of e.bidiSpans(r)){let e=s.from+r.from,a=s.to+r.from;if(e>=o)break;a>i&&l(Math.max(e,i),null==t&&e<=c,Math.min(a,o),null==n&&a>=d,s.dir)}if(i=r.to+1,i>=o)break}return 0==a.length&&l(c,null==t,d,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function b(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function Gm(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Hf.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function Qm(e,t,n){let r=Lu.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:lf.Text}}function Ym(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let e of n.type)if(e.to>t||e.to==t&&(e.to==n.to||e.type==lf.Text))return e;return n}class Xm{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Zm)!=e.state.facet(Zm)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Zm);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r}))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Zm=Vu.define();function eg(e){return[Nf.define((t=>new Xm(t,e))),Zm.of(e)]}const tg=!Wd.ios,ng=Vu.define({combine:e=>Eh(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function rg(e={}){return[ng.of(e),og,ag,cg,_f.of(!0)]}function ig(e){return e.startState.facet(ng)!=e.startState.facet(ng)}const og=eg({above:!0,markers(e){let{state:t}=e,n=t.facet(ng),r=[];for(let i of t.selection.ranges){let o=i==t.selection.main;if(i.empty?!o||tg:n.drawRangeCursor){let t=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:Lu.cursor(i.head,i.head>i.anchor?-1:1);for(let i of Km.forRange(e,t,n))r.push(i)}}return r},update(e,t){e.transactions.some((e=>e.scrollIntoView))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=ig(e);return n&&sg(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){sg(t.state,e)},class:"cm-cursorLayer"});function sg(e,t){t.style.animationDuration=e.facet(ng).cursorBlinkRate+"ms"}const ag=eg({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:Km.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||ig(e),class:"cm-selectionLayer"}),lg={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};tg&&(lg[".cm-line"].caretColor="transparent !important");const cg=eh.highest(Im.theme(lg)),ug=vh.define({map:(e,t)=>null==e?null:t.mapPos(e)}),hg=Ku.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(ug)?t.value:e),e))}),dg=Nf.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(hg);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(hg)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(hg),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(hg)!=e&&this.view.dispatch({effects:ug.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function fg(e,t,n,r,i){t.lastIndex=0;for(let o,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)i(a+o.index,o)}class pg{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:i,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,i)=>r(i,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,i)=>{let o=n(e,t,r);o&&i(r,r+e[0].length,o)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,i)=>i(r,r+e[0].length,n)}this.boundary=i,this.maxLength=o}createDeco(e){let t=new Dh,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}(e,this.maxLength))fg(e.state.doc,this.regexp,t,r,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,i,o,s)=>{s>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let i of e.visibleRanges){let o=Math.max(i.from,n),s=Math.min(i.to,r);if(s>o){let n=e.state.doc.lineAt(o),r=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(i.from,n.from),l=Math.min(i.to,r.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){a=o;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){l=s;break}}let c,u=[],h=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,h);else fg(e.state.doc,this.regexp,a,l,((t,n)=>this.addMatch(n,e,t,h)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const mg=null!=/x/.unicode?"gu":"g",gg=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",mg),vg={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yg=null;const bg=Vu.define({combine(e){let t=Eh(e,{render:null,specialChars:gg,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==yg&&"undefined"!=typeof document&&document.body){let t=document.body.style;yg=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return yg||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,mg)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,mg)),t}});function wg(e={}){return[bg.of(e),$g||($g=Nf.fromClass(class{constructor(e){this.view=e,this.decorations=cf.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(bg)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new pg({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,o=Su(t[0],0);if(9==o){let e=i.lineAt(r),t=n.state.tabSize,o=Jh(e.text,t,r-e.from);return cf.replace({widget:new kg((t-o%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=cf.replace({widget:new xg(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(bg);e.startState.facet(bg)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let $g=null;class xg extends af{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(vg[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class kg extends af{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const Sg=cf.line({class:"cm-activeLine"}),Cg=Nf.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(Sg.range(i.from)),t=i.from)}return cf.set(n)}},{decorations:e=>e.decorations}),Og=2e3;function _g(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>Og?-1:i==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Jh(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function Ag(e,t){let n=_g(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get(t,i,o){let s=_g(e,t);if(!s)return r;let a=function(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>Og||n.off>Og||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let t=r;t<=i;t++){let n=e.doc.line(t);n.length<=a&&o.push(Lu.range(n.from+s,n.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let t=r;t<=i;t++){let n=e.doc.line(t),r=Kh(n.text,s,e.tabSize,!0);if(r<0)o.push(Lu.cursor(n.to));else{let t=Kh(n.text,a,e.tabSize);o.push(Lu.range(n.from+r,n.from+t))}}}return o}(e.state,n,s);return a.length?o?Lu.create(a.concat(r.ranges)):Lu.create(a):r}}:null}function Pg(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Im.mouseSelectionStyle.of(((e,n)=>t(n)?Ag(e,n):null))}const Eg={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},jg={style:"cursor: crosshair"};function Mg(e={}){let[t,n]=Eg[e.key||"Alt"],r=Nf.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,Im.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?jg:null}))]}const Tg="-10000px";class Ng{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e){var t;let n=e.state.facet(this.facet),r=n.filter((e=>e));if(n===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let i=[];for(let t=0;t<r.length;t++){let n=r[t],o=-1;if(n){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==n.create&&(o=e)}if(o<0)i[t]=this.createTooltipView(n);else{let n=i[t]=this.tooltipViews[o];n.update&&n.update(e)}}}for(let e of this.tooltipViews)i.indexOf(e)<0&&(e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e));return this.input=n,this.tooltips=r,this.tooltipViews=i,!0}}function Ig(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const Dg=Vu.define({combine:e=>{var t,n,r;return{position:Wd.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Ig}}}),Rg=Nf.fromClass(class{constructor(e){this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(Dg);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Ng(e,Fg,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(Dg);if(r.position!=this.position){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Tg,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(e=t.destroy)||void 0===e||e.call(t);null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(Dg).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:n}=e,r=[];for(let i=0;i<this.manager.tooltips.length;i++){let o=this.manager.tooltips[i],s=this.manager.tooltipViews[i],{dom:a}=s,l=e.pos[i],c=e.size[i];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1){a.style.top=Tg;continue}let u=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=u?7:0,d=c.right-c.left,f=c.bottom-c.top,p=s.offset||Bg,m=this.view.textDirection==Hf.LTR,g=c.width>n.right-n.left?m?n.left:n.right-c.width:m?Math.min(l.left-(u?14:0)+p.x,n.right-d):Math.max(n.left,l.left-d+(u?14:0)-p.x),v=!!o.above;!o.strictSide&&(v?l.top-(c.bottom-c.top)-p.y<n.top:l.bottom+(c.bottom-c.top)+p.y>n.bottom)&&v==n.bottom-l.bottom>l.top-n.top&&(v=!v);let y=(v?l.top-n.top:n.bottom-l.bottom)-h;if(y<f&&!1!==s.resize){if(y<this.view.defaultLineHeight){a.style.top=Tg;continue}a.style.height=(f=y)+"px"}else a.style.height&&(a.style.height="");let b=v?l.top-f-h-p.y:l.bottom+h+p.y,w=g+d;if(!0!==s.overlap)for(let e of r)e.left<w&&e.right>g&&e.top<b+f&&e.bottom>b&&(b=v?e.top-f-2-h:e.bottom+h+2);"absolute"==this.position?(a.style.top=b-e.parent.top+"px",a.style.left=g-e.parent.left+"px"):(a.style.top=b+"px",a.style.left=g+"px"),u&&(u.style.left=l.left+(m?p.x:-p.x)-(g+14-7)+"px"),!0!==s.overlap&&r.push({left:g,top:b,right:w,bottom:b+f}),a.classList.toggle("cm-tooltip-above",v),a.classList.toggle("cm-tooltip-below",!v),s.positioned&&s.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Tg}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Lg=Im.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Bg={x:0,y:0},Fg=Vu.define({enables:[Rg,Lg]}),Vg=Vu.define();class zg{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Ng(e,Vg,(e=>this.createHostedView(e)))}static create(e){return new zg(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}}const qg=Fg.compute([Vg],(e=>{let t=e.facet(Vg).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:zg.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class Hg{constructor(e,t,n,r,i){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let n=this.view.coordsAtPos(t);if(null==n||e.y<n.top||e.y>n.bottom||e.x<n.left-this.view.defaultCharacterWidth||e.x>n.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((e=>e.from<=t&&e.to>=t)),i=r&&r.dir==Hf.RTL?-1:1,o=this.source(this.view,t,e.x<n.left?-i:i);if(null==o?void 0:o.then){let e=this.pending={pos:t};o.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>Ef(this.view.state,e,"hover tooltip")))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!Wg(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,i=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,o){let s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-i,i-t.bottom,t.left-r,r-t.right)<=o)return!0}return!1}(this.view,r,i,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Wg(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Wg(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function Ug(e,t={}){let n=vh.define(),r=Ku.define({create:()=>null,update(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){let t=r.changes.mapPos(e.pos,-1,Au.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);n.pos=t,null!=e.end&&(n.end=r.changes.mapPos(e.end)),e=n}for(let t of r.effects)t.is(n)&&(e=t.value),t.is(Jg)&&(e=null);return e},provide:e=>Vg.from(e)});return[r,Nf.define((i=>new Hg(i,e,r,n,t.hoverTime||300))),qg]}const Jg=vh.define(),Kg=Vu.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function Gg(e,t){let n=e.plugin(Qg),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const Qg=Nf.fromClass(class{constructor(e){this.input=e.state.facet(Zg),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Kg);this.top=new Yg(e,!0,t.topContainer),this.bottom=new Yg(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(Kg);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Yg(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Yg(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Zg);if(n!=this.input){let t=n.filter((e=>e)),r=[],i=[],o=[],s=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?i:o).push(t)}this.specs=t,this.panels=r,this.top.sync(i),this.bottom.sync(o);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Im.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class Yg{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Xg(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Xg(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Xg(e){let t=e.nextSibling;return e.remove(),t}const Zg=Vu.define({enables:Qg});class ev extends jh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ev.prototype.elementClass="",ev.prototype.toDOM=void 0,ev.prototype.mapMode=Au.TrackBefore,ev.prototype.startSide=ev.prototype.endSide=-1,ev.prototype.point=!0;const tv=Vu.define(),nv={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ih.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},rv=Vu.define();function iv(e){return[sv(),rv.of(Object.assign(Object.assign({},nv),e))]}const ov=Vu.define({combine:e=>e.some((e=>e))});function sv(e){let t=[av];return e&&!1===e.fixed&&t.push(ov.of(!0)),t}const av=Nf.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(rv).map((t=>new hv(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(ov),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ov)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Ih.iter(this.view.state.facet(tv),this.view.viewport.from),r=[],i=this.gutters.map((e=>new uv(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let n of e.type)if(n.type==lf.Text){t=n;break}}else t=e.type==lf.Text?e:void 0;if(t){r.length&&(r=[]),cv(n,r,e.from);for(let e of i)e.line(this.view,t,r)}}for(let e of i)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(rv),n=e.state.facet(rv),r=e.docChanged||e.heightChanged||e.viewportChanged||!Ih.eq(e.startState.facet(tv),e.state.facet(tv),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=t.indexOf(r);n<0?i.push(new hv(this.view,r)):(this.gutters[n].update(e),i.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),i.indexOf(e)<0&&e.destroy();for(let e of i)this.dom.appendChild(e.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Im.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==Hf.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))});function lv(e){return Array.isArray(e)?e:[e]}function cv(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class uv{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=Ih.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),cv(this.cursor,this.localMarkers,t.from);let r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);let o=this.gutter;if(0==r.length&&!o.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==o.elements.length){let n=new dv(e,t.height,s,r);o.elements.push(n),o.dom.appendChild(n.dom)}else o.elements[this.i].update(e,t.height,s,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class hv{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let i=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[n](e,i,r)&&r.preventDefault()}));this.markers=lv(t.markers(e)),t.initialSpacer&&(this.spacer=new dv(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=lv(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!Ih.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class dv{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,o=0;;){let s=o,a=i<t.length?t[i++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;o<s;){let e=this.markers[o++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const fv=Vu.define(),pv=Vu.define({combine:e=>Eh(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],i=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||i(e,t,n):i}return n}})});class mv extends ev{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function gv(e,t){return e.state.facet(pv).formatNumber(t,e.state)}const vv=rv.compute([pv],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(fv),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new mv(gv(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(pv)!=e.state.facet(pv),initialSpacer:e=>new mv(gv(e,bv(e.state.doc.lines))),updateSpacer(e,t){let n=gv(t.view,bv(t.view.state.doc.lines));return n==e.number?e:new mv(n)},domEventHandlers:e.facet(pv).domEventHandlers})));function yv(e={}){return[pv.of(e),sv(),vv]}function bv(e){let t=9;for(;t<e;)t=10*t+9;return t}const wv=new class extends ev{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},$v=tv.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(wv.range(i)))}return Ih.of(t)}));const xv=1024;let kv=0;class Sv{constructor(e,t){this.from=e,this.to=t}}class Cv{constructor(e={}){this.id=kv++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=_v.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}Cv.closedBy=new Cv({deserialize:e=>e.split(" ")}),Cv.openedBy=new Cv({deserialize:e=>e.split(" ")}),Cv.group=new Cv({deserialize:e=>e.split(" ")}),Cv.contextHash=new Cv({perNode:!0}),Cv.lookAhead=new Cv({perNode:!0}),Cv.mounted=new Cv({perNode:!0});const Ov=Object.create(null);class _v{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):Ov,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new _v(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Cv.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(Cv.group),r=-1;r<(n?n.length:0);r++){let i=t[r<0?e.name:n[r]];if(i)return i}}}}_v.none=new _v("",Object.create(null),0,8);class Av{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new _v(n.name,r,n.id,n.flags):n)}return new Av(t)}}const Pv=new WeakMap,Ev=new WeakMap;var jv;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(jv||(jv={}));class Mv{constructor(e,t,n,r,i){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(Cv.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new qv(this.topNode,e)}cursorAt(e,t=0,n=0){let r=Pv.get(this)||this.topNode,i=new qv(r);return i.moveTo(e,t),Pv.set(this,i._tree),i}get topNode(){return new Lv(this,0,0,null)}resolve(e,t=0){let n=Rv(Pv.get(this)||this.topNode,e,t,!1);return Pv.set(this,n),n}resolveInner(e,t=0){let n=Rv(Ev.get(this)||this.topNode,e,t,!0);return Ev.set(this,n),n}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e;for(let o=this.cursor((e.mode||0)|jv.IncludeAnonymous);;){let e=!1;if(o.from<=i&&o.to>=r&&(o.type.isAnonymous||!1!==t(o))){if(o.firstChild())continue;e=!0}for(;e&&n&&!o.type.isAnonymous&&n(o),!o.nextSibling();){if(!o.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Jv(_v.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new Mv(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new Mv(_v.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=xv,reused:o=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new Tv(n,n.length):n,l=r.types,c=0,u=0;function h(e,t,n,v,y){let{id:b,start:w,end:$,size:x}=a,k=u;for(;x<0;){if(a.next(),-1==x){let t=o[b];return n.push(t),void v.push(w-e)}if(-3==x)return void(c=b);if(-4==x)return void(u=b);throw new RangeError(`Unrecognized record size: ${x}`)}let S,C,O=l[b],_=w-e;if($-w<=i&&(C=m(a.pos-t,y))){let t=new Uint16Array(C.size-C.skip),n=a.pos-C.size,i=t.length;for(;a.pos>n;)i=g(C.start,t,i);S=new Nv(t,$-C.start,r),_=C.start-e}else{let e=a.pos-x;a.next();let t=[],n=[],r=b>=s?b:-1,o=0,l=$;for(;a.pos>e;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-i&&(f(t,n,w,o,a.end,l,r,k),o=t.length,l=a.end),a.next()):h(w,e,t,n,r);if(r>=0&&o>0&&o<t.length&&f(t,n,w,o,w,l,r,k),t.reverse(),n.reverse(),r>-1&&o>0){let e=d(O);S=Jv(O,t,n,0,t.length,0,$-w,e,e)}else S=p(O,t,n,$-w,k-$)}n.push(S),v.push(_)}function d(e){return(t,n,r)=>{let i,o,s=0,a=t.length-1;if(a>=0&&(i=t[a])instanceof Mv){if(!a&&i.type==e&&i.length==r)return i;(o=i.prop(Cv.lookAhead))&&(s=n[a]+i.length+o)}return p(e,t,n,r,s)}}function f(e,t,n,i,o,s,a,l){let c=[],u=[];for(;e.length>i;)c.push(e.pop()),u.push(t.pop()+n-o);e.push(p(r.types[a],c,u,s-o,l-s)),t.push(o-n)}function p(e,t,n,r,i=0,o){if(c){let e=[Cv.contextHash,c];o=o?[e].concat(o):[e]}if(i>25){let e=[Cv.lookAhead,i];o=o?[e].concat(o):[e]}return new Mv(e,t,n,r,o)}function m(e,t){let n=a.fork(),r=0,o=0,l=0,c=n.end-i,u={size:0,start:0,skip:0};e:for(let i=n.pos-e;n.pos>i;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=o,u.skip=l,l+=4,r+=4,n.next();continue}let a=n.pos-e;if(e<0||a<i||n.start<c)break;let h=n.id>=s?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;h+=4}else n.id>=s&&(h+=4);n.next()}o=d,r+=e,l+=h}return(t<0||r==e)&&(u.size=r,u.start=o,u.skip=l),u.size>4?u:void 0}function g(e,t,n){let{id:r,start:i,end:o,size:l}=a;if(a.next(),l>=0&&r<s){let s=n;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)n=g(e,t,n)}t[--n]=s,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let v=[],y=[];for(;a.pos>0;)h(e.start||0,e.bufferStart||0,v,y,-1);let b=null!==(t=e.length)&&void 0!==t?t:v.length?y[0]+v[0].length:0;return new Mv(l[e.topID],v.reverse(),y.reverse(),b)}(e)}}Mv.empty=new Mv(_v.none,[],[],0);class Tv{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Tv(this.buffer,this.index)}}class Nv{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return _v.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,t,n,r,i){let{buffer:o}=this,s=-1;for(let a=e;a!=t&&!(Iv(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(e,t,n){let r=this.buffer,i=new Uint16Array(t-e),o=0;for(let s=e,a=0;s<t;){i[a++]=r[s++],i[a++]=r[s++]-n;let t=i[a++]=r[s++]-n;i[a++]=r[s++]-e,o=Math.max(o,t)}return new Nv(i,o,this.set)}}function Iv(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function Dv(e,t){let n=e.childBefore(t);for(;n;){let t=n.lastChild;if(!t||t.to!=n.to)break;t.type.isError&&t.from==t.to?(e=n,n=t.prevSibling):n=t}return e}function Rv(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof Lv&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=r?0:jv.IgnoreOverlays;if(r)for(let r=e,s=r.parent;s;r=s,s=r.parent)r instanceof Lv&&r.index<0&&(null===(i=s.enter(t,n,o))||void 0===i?void 0:i.from)!=r.from&&(e=s);for(;;){let r=e.enter(t,n,o);if(!r)return e;e=r}}class Lv{constructor(e,t,n,r){this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+o.from;if(Iv(r,n,c,c+l.length))if(l instanceof Nv){if(i&jv.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,n-c,r);if(s>-1)return new zv(new Vv(o,l,e,c),null,s)}else if(i&jv.IncludeAnonymous||!l.type.isAnonymous||Hv(l)){let s;if(!(i&jv.IgnoreMounts)&&l.props&&(s=l.prop(Cv.mounted))&&!s.overlay)return new Lv(s.tree,c,e,o);let a=new Lv(l,c,e,o);return i&jv.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(i&jv.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&jv.IgnoreOverlays)&&(r=this._tree.prop(Cv.mounted))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new Lv(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new qv(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Rv(this,e,t,!1)}resolveInner(e,t=0){return Rv(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Dv(this,e)}getChild(e,t=null,n=null){let r=Bv(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return Bv(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Fv(this,e)}}function Bv(e,t,n,r){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function Fv(e,t,n=t.length-1){for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class Vv{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class zv{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new zv(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&jv.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new zv(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new zv(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new zv(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new qv(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let o=n.buffer[this.index+1];e.push(n.slice(r,i,o)),t.push(0)}return new Mv(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Rv(this,e,t,!1)}resolveInner(e,t=0){return Rv(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Dv(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let r=Bv(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return Bv(this,e,t,n)}get node(){return this}matchContext(e){return Fv(this,e)}}class qv{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Lv)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Lv?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&jv.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&jv.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&jv.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,i=e<0?-1:n._tree.children.length;r!=i;r+=e){let e=n._tree.children[r];if(this.mode&jv.IncludeAnonymous||e instanceof Nv||!e.type.isAnonymous||Hv(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(let e=n;e<this.stack.length;e++)t=new zv(this.buffer,t,this.stack[e]);return this.bufferNode=new zv(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return Fv(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Fv(this.node,e,r);let o=n[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Hv(e){return e.children.some((e=>e instanceof Nv||!e.type.isAnonymous||Hv(e)))}const Wv=new WeakMap;function Uv(e,t){if(!e.isAnonymous||t instanceof Nv||t.type!=e)return 1;let n=Wv.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Mv)){n=1;break}n+=Uv(e,r)}Wv.set(t,n)}return n}function Jv(e,t,n,r,i,o,s,a,l){let c=0;for(let n=r;n<i;n++)c+=Uv(e,t[n]);let u=Math.ceil(1.5*c/8),h=[],d=[];return function t(n,r,i,s,a){for(let c=i;c<s;){let i=c,f=r[c],p=Uv(e,n[c]);for(c++;c<s;c++){let t=Uv(e,n[c]);if(p+t>=u)break;p+=t}if(c==i+1){if(p>u){let e=n[i];t(e.children,e.positions,0,e.children.length,r[i]+a);continue}h.push(n[i])}else{let t=r[c-1]+n[c-1].length-f;h.push(Jv(e,n,r,i,c,f,t,null,l))}d.push(f+a-o)}}(t,n,r,i,0),(a||l)(h,d,s)}class Kv{constructor(e,t,n,r,i=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(i?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new Kv(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],i=1,o=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;o&&o.from<u;){let t=o;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new Kv(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&r.push(t),o.to>u)break;o=i<e.length?e[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class Gv{startParse(e,t,n){return"string"==typeof e&&(e=new Qv(e)),n=n?n.length?n.map((e=>new Sv(e.from,e.to))):[new Sv(0,0)]:[new Sv(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class Qv{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Cv({perNode:!0});let Yv=0;class Xv{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=Yv++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new Xv([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new ey;return t=>t.modified.indexOf(e)>-1?t:ey.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let Zv=0;class ey{constructor(){this.instances=[],this.id=Zv++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,i=n.modified,r.length==i.length&&r.every(((e,t)=>e==i[t])));var r,i}));if(n)return n;let r=[],i=new Xv(r,e,t);for(let e of t)e.instances.push(i);let o=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of o)r.push(ey.get(t,e));return i}}function ty(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],i=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new ry(r,i,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return ny.add(t)}const ny=new Cv;class ry{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function iy(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:i=null}=t||{};return{style:e=>{let t=i;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function oy(e,t,n,r=0,i=e.length){let o=new sy(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}ry.empty=new ry([],2,null);class sy{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,i){let{type:o,from:s,to:a}=e;if(s>=n||a<=t)return;o.isTop&&(i=this.highlighters.filter((e=>!e.scope||e.scope(o))));let l=r,c=function(e){let t=e.type.prop(ny);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||ry.empty,u=function(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}(i,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(e.from,l),c.opaque)return;let h=e.tree&&e.tree.prop(Cv.mounted);if(h&&h.overlay){let o=e.node.enter(h.overlay[0].from+s,1),c=this.highlighters.filter((e=>!e.scope||e.scope(h.tree.type))),u=e.firstChild();for(let d=0,f=s;;d++){let p=d<h.overlay.length?h.overlay[d]:null,m=p?p.from+s:a,g=Math.max(t,f),v=Math.min(n,m);if(g<v&&u)for(;e.from<v&&(this.highlightRange(e,g,v,r,i),this.startSpan(Math.min(v,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+s,f>t&&(this.highlightRange(o.cursor(),Math.max(t,p.from+s),Math.min(n,f),r,c),this.startSpan(f,l))}u&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}const ay=Xv.define,ly=ay(),cy=ay(),uy=ay(cy),hy=ay(cy),dy=ay(),fy=ay(dy),py=ay(dy),my=ay(),gy=ay(my),vy=ay(),yy=ay(),by=ay(),wy=ay(by),$y=ay(),xy={comment:ly,lineComment:ay(ly),blockComment:ay(ly),docComment:ay(ly),name:cy,variableName:ay(cy),typeName:uy,tagName:ay(uy),propertyName:hy,attributeName:ay(hy),className:ay(cy),labelName:ay(cy),namespace:ay(cy),macroName:ay(cy),literal:dy,string:fy,docString:ay(fy),character:ay(fy),attributeValue:ay(fy),number:py,integer:ay(py),float:ay(py),bool:ay(dy),regexp:ay(dy),escape:ay(dy),color:ay(dy),url:ay(dy),keyword:vy,self:ay(vy),null:ay(vy),atom:ay(vy),unit:ay(vy),modifier:ay(vy),operatorKeyword:ay(vy),controlKeyword:ay(vy),definitionKeyword:ay(vy),moduleKeyword:ay(vy),operator:yy,derefOperator:ay(yy),arithmeticOperator:ay(yy),logicOperator:ay(yy),bitwiseOperator:ay(yy),compareOperator:ay(yy),updateOperator:ay(yy),definitionOperator:ay(yy),typeOperator:ay(yy),controlOperator:ay(yy),punctuation:by,separator:ay(by),bracket:wy,angleBracket:ay(wy),squareBracket:ay(wy),paren:ay(wy),brace:ay(wy),content:my,heading:gy,heading1:ay(gy),heading2:ay(gy),heading3:ay(gy),heading4:ay(gy),heading5:ay(gy),heading6:ay(gy),contentSeparator:ay(my),list:ay(my),quote:ay(my),emphasis:ay(my),strong:ay(my),link:ay(my),monospace:ay(my),strikethrough:ay(my),inserted:ay(),deleted:ay(),changed:ay(),invalid:ay(),meta:$y,documentMeta:ay($y),annotation:ay($y),processingInstruction:ay($y),definition:Xv.defineModifier(),constant:Xv.defineModifier(),function:Xv.defineModifier(),standard:Xv.defineModifier(),local:Xv.defineModifier(),special:Xv.defineModifier()};var ky;iy([{tag:xy.link,class:"tok-link"},{tag:xy.heading,class:"tok-heading"},{tag:xy.emphasis,class:"tok-emphasis"},{tag:xy.strong,class:"tok-strong"},{tag:xy.keyword,class:"tok-keyword"},{tag:xy.atom,class:"tok-atom"},{tag:xy.bool,class:"tok-bool"},{tag:xy.url,class:"tok-url"},{tag:xy.labelName,class:"tok-labelName"},{tag:xy.inserted,class:"tok-inserted"},{tag:xy.deleted,class:"tok-deleted"},{tag:xy.literal,class:"tok-literal"},{tag:xy.string,class:"tok-string"},{tag:xy.number,class:"tok-number"},{tag:[xy.regexp,xy.escape,xy.special(xy.string)],class:"tok-string2"},{tag:xy.variableName,class:"tok-variableName"},{tag:xy.local(xy.variableName),class:"tok-variableName tok-local"},{tag:xy.definition(xy.variableName),class:"tok-variableName tok-definition"},{tag:xy.special(xy.variableName),class:"tok-variableName2"},{tag:xy.definition(xy.propertyName),class:"tok-propertyName tok-definition"},{tag:xy.typeName,class:"tok-typeName"},{tag:xy.namespace,class:"tok-namespace"},{tag:xy.className,class:"tok-className"},{tag:xy.macroName,class:"tok-macroName"},{tag:xy.propertyName,class:"tok-propertyName"},{tag:xy.operator,class:"tok-operator"},{tag:xy.comment,class:"tok-comment"},{tag:xy.meta,class:"tok-meta"},{tag:xy.invalid,class:"tok-invalid"},{tag:xy.punctuation,class:"tok-punctuation"}]);const Sy=new Cv;class Cy{constructor(e,t,n=[],r=""){this.data=e,this.name=r,Ph.prototype.hasOwnProperty("tree")||Object.defineProperty(Ph.prototype,"tree",{get(){return Ay(this)}}),this.parser=t,this.extension=[Ry.of(this),Ph.languageData.of(((e,t,n)=>e.facet(Oy(e,t,n))))].concat(n)}isActiveAt(e,t,n=-1){return Oy(e,t,n)==this.data}findRegions(e){let t=e.facet(Ry);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(Sy)==this.data)return void n.push({from:t,to:t+e.length});let i=e.prop(Cv.mounted);if(i){if(i.tree.prop(Sy)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(i.overlay){let e=n.length;if(r(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof Mv&&r(i,e.positions[n]+t)}};return r(Ay(e),0),n}get allowsNesting(){return!0}}function Oy(e,t,n){let r=e.facet(Ry);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let r=Ay(e).topNode;r;r=r.enter(t,n,jv.ExcludeBuffers))i=r.type.prop(Sy)||i;return i}Cy.setState=vh.define();class _y extends Cy{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=(n=e.languageData,Vu.define({combine:n?e=>e.concat(n):void 0}));var n;return new _y(t,e.parser.configure({props:[Sy.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new _y(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ay(e){let t=e.field(Cy.state,!1);return t?t.tree:Mv.empty}class Py{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Ey=null;class jy{constructor(e,t,n=[],r,i,o,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new jy(e,t,[],Mv.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Py(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Mv.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(Kv.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Kv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ey;Ey=this;try{return e()}finally{Ey=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=My(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,i)=>t.push({fromA:e,toA:n,fromB:r,toB:i}))),n=Kv.applyChanges(n,t),r=Mv.empty,i=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new jy(this.parser,t,n,r,i,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=My(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Gv{createParse(t,n,r){let i=r[0].from,o=r[r.length-1].to;return{parsedPos:i,advance(){let t=Ey;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new Mv(_v.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Ey}}function My(e,t,n){return Kv.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class Ty{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Ty(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=jy.create(e.facet(Ry).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Ty(n)}}Cy.state=Ku.define({create:Ty.init,update(e,t){for(let e of t.effects)if(e.is(Cy.setState))return e.value;return t.startState.facet(Ry)!=t.state.facet(Ry)?Ty.init(t.state):e.apply(t)}});let Ny=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Ny=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const Iy="undefined"!=typeof navigator&&(null===(ky=navigator.scheduling)||void 0===ky?void 0:ky.isInputPending)?()=>navigator.scheduling.isInputPending():null,Dy=Nf.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Cy.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Cy.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Ny(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(Cy.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Iy?Math.max(25,e.timeRemaining()-5):1e9),s=i.context.treeLen<r&&n.doc.length>r+1e3,a=i.context.work((()=>Iy&&Iy()||Date.now()>o),r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Cy.setState.of(new Ty(i.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>Ef(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ry=Vu.define({combine:e=>e.length?e[0]:null,enables:e=>[Cy.state,Dy,Im.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]});class Ly{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const By=Vu.define(),Fy=Vu.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Vy(e){let t=e.facet(Fy);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function zy(e,t){let n="",r=e.tabSize;if(9==e.facet(Fy).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(let e=0;e<t;e++)n+=" ";return n}function qy(e,t){e instanceof Ph&&(e=new Hy(e));for(let n of e.state.facet(By)){let r=n(e,t);if(void 0!==r)return r}let n=Ay(e.state);return n?function(e,t,n){return Jy(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,n,t):null}class Hy{constructor(e,t={}){this.state=e,this.options=t,this.unit=Vy(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.countColumn(n,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return Jh(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Wy=new Cv;function Uy(e){let t=e.type.prop(Wy);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(Cv.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>function(e,t,n,r,i){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let e=n.to;;){let i=t.childAfter(e);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<s?n:null;e=i.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?Ky:null}function Jy(e,t,n){for(;e;e=e.parent){let r=Uy(e);if(r)return r(Gy.create(n,t,e))}return null}function Ky(){return 0}class Gy extends Hy{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}static create(e,t,n){return new Gy(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(Qy(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Jy(e,this.pos,this.base):0}}function Qy(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function Yy({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const Xy=Vu.define(),Zy=new Cv;function eb(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function tb(e,t,n){for(let r of e.facet(Xy)){let i=r(e,t,n);if(i)return i}return function(e,t,n){let r=Ay(e);if(r.length<n)return null;let i=null;for(let o=r.resolveInner(n,1);o;o=o.parent){if(o.to<=n||o.from>n)continue;if(i&&o.from<t)break;let s=o.type.prop(Zy);if(s&&(o.to<r.length-50||r.length==e.doc.length||!eb(o))){let r=s(o,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(i=r)}}return i}(e,t,n)}function nb(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const rb=vh.define({map:nb}),ib=vh.define({map:nb});function ob(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const sb=Ku.define({create:()=>cf.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(rb)&&!lb(e,n.value.from,n.value.to)?e=e.update({add:[mb.range(n.value.from,n.value.to)]}):n.is(ib)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>Im.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(mb.range(r,i))}return cf.set(t,!0)}});function ab(e,t,n){var r;let i=null;return null===(r=e.field(sb,!1))||void 0===r||r.between(t,n,((e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})})),i}function lb(e,t,n){let r=!1;return e.between(t,t,((e,i)=>{e==t&&i==n&&(r=!0)})),r}function cb(e,t){return e.field(sb,!1)?t:t.concat(vh.appendConfig.of(pb()))}function ub(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return Im.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const hb=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of ob(e)){let n=tb(e.state,t.from,t.to);if(n)return e.dispatch({effects:cb(e.state,[rb.of(n),ub(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(sb,!1))return!1;let t=[];for(let n of ob(e)){let r=ab(e.state,n.from,n.to);r&&t.push(ib.of(r),ub(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),o=tb(t,i.from,i.to);o&&n.push(rb.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:cb(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(sb,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(ib.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],db={placeholderDOM:null,placeholderText:"…"},fb=Vu.define({combine:e=>Eh(e,db)});function pb(e){let t=[sb,bb];return e&&t.push(fb.of(e)),t}const mb=cf.replace({widget:new class extends af{toDOM(e){let{state:t}=e,n=t.facet(fb),r=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=ab(e.state,n.from,n.to);r&&e.dispatch({effects:ib.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),gb={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class vb extends ev{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function yb(e={}){let t=Object.assign(Object.assign({},gb),e),n=new vb(t,!0),r=new vb(t,!1),i=Nf.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(Ry)!=e.state.facet(Ry)||e.startState.field(sb,!1)!=e.state.field(sb,!1)||Ay(e.startState)!=Ay(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new Dh;for(let i of e.viewportLineBlocks){let o=ab(e.state,i.from,i.to)?r:tb(e.state,i.from,i.to)?n:null;o&&t.add(i.from,i.from,o)}return t.finish()}}),{domEventHandlers:o}=t;return[i,iv({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||Ih.empty},initialSpacer:()=>new vb(t,!1),domEventHandlers:Object.assign(Object.assign({},o),{click:(e,t,n)=>{if(o.click&&o.click(e,t,n))return!0;let r=ab(e.state,t.from,t.to);if(r)return e.dispatch({effects:ib.of(r)}),!0;let i=tb(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:rb.of(i)}),!0)}})}),pb()]}const bb=Im.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class wb{constructor(e,t){let n;function r(e){let t=Xh.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof Cy?e=>e.prop(Sy)==o.data:o?e=>e==o:void 0,this.style=iy(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:i}).style,this.module=n?new Xh(n):null,this.themeType=t.themeType}static define(e,t){return new wb(e,t||{})}}const $b=Vu.define(),xb=Vu.define({combine:e=>e.length?[e[0]]:null});function kb(e){let t=e.facet($b);return t.length?t:e.facet(xb)}function Sb(e,t){let n,r=[Ob];return e instanceof wb&&(e.module&&r.push(Im.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?r.push(xb.of(e)):n?r.push($b.computeN([Im.darkTheme],(t=>t.facet(Im.darkTheme)==("dark"==n)?[e]:[]))):r.push($b.of(e)),r}class Cb{constructor(e){this.markCache=Object.create(null),this.tree=Ay(e.state),this.decorations=this.buildDeco(e,kb(e.state))}update(e){let t=Ay(e.state),n=kb(e.state),r=n!=kb(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return cf.none;let n=new Dh;for(let{from:r,to:i}of e.visibleRanges)oy(this.tree,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=cf.mark({class:r})))}),r,i);return n.finish()}}const Ob=eh.high(Nf.fromClass(Cb,{decorations:e=>e.decorations})),_b=wb.define([{tag:xy.meta,color:"#404740"},{tag:xy.link,textDecoration:"underline"},{tag:xy.heading,textDecoration:"underline",fontWeight:"bold"},{tag:xy.emphasis,fontStyle:"italic"},{tag:xy.strong,fontWeight:"bold"},{tag:xy.strikethrough,textDecoration:"line-through"},{tag:xy.keyword,color:"#708"},{tag:[xy.atom,xy.bool,xy.url,xy.contentSeparator,xy.labelName],color:"#219"},{tag:[xy.literal,xy.inserted],color:"#164"},{tag:[xy.string,xy.deleted],color:"#a11"},{tag:[xy.regexp,xy.escape,xy.special(xy.string)],color:"#e40"},{tag:xy.definition(xy.variableName),color:"#00f"},{tag:xy.local(xy.variableName),color:"#30a"},{tag:[xy.typeName,xy.namespace],color:"#085"},{tag:xy.className,color:"#167"},{tag:[xy.special(xy.variableName),xy.macroName],color:"#256"},{tag:xy.definition(xy.propertyName),color:"#00c"},{tag:xy.comment,color:"#940"},{tag:xy.invalid,color:"#f00"}]),Ab=Im.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Pb="()[]{}",Eb=Vu.define({combine:e=>Eh(e,{afterCursor:!0,brackets:Pb,maxScanDistance:1e4,renderMatch:Tb})}),jb=cf.mark({class:"cm-matchingBracket"}),Mb=cf.mark({class:"cm-nonmatchingBracket"});function Tb(e){let t=[],n=e.matched?jb:Mb;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Nb=Ku.define({create:()=>cf.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(Eb);for(let e of t.state.selection.ranges){if(!e.empty)continue;let i=Lb(t.state,e.head,-1,r)||e.head>0&&Lb(t.state,e.head-1,1,r)||r.afterCursor&&(Lb(t.state,e.head,1,r)||e.head<t.state.doc.length&&Lb(t.state,e.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,t.state)))}return cf.set(n,!0)},provide:e=>Im.decorations.from(e)}),Ib=[Nb,Ab];function Db(e={}){return[Eb.of(e),Ib]}function Rb(e,t,n){let r=e.prop(t<0?Cv.openedBy:Cv.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function Lb(e,t,n,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||Pb,s=Ay(e),a=s.resolveInner(t,n);for(let r=a;r;r=r.parent){let i=Rb(r.type,n,o);if(i&&r.from<r.to)return Bb(e,t,n,r,i,o)}return function(e,t,n,r,i,o,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let e=0;!u.next().done&&e<=o;){let o=u.value;n<0&&(e+=o.length);let a=t+e*n;for(let e=n>0?0:o.length-1,t=n>0?o.length:-1;e!=t;e+=n){let t=s.indexOf(o[e]);if(!(t<0||r.resolveInner(a+e,1).type!=i))if(t%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};h--}}n>0&&(e+=o.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,i,o)}function Bb(e,t,n,r,i,o){let s=r.parent,a={from:r.from,to:r.to},l=0,c=null==s?void 0:s.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==l&&i.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Rb(c.type,n,o))l++;else if(Rb(c.type,-n,o)){if(0==l)return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1};l--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const Fb=Object.create(null),Vb=[_v.none],zb=[],qb=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])qb[e]=Wb(Fb,t);function Hb(e,t){zb.indexOf(e)>-1||(zb.push(e),console.warn(t))}function Wb(e,t){let n=null;for(let r of t.split(".")){let t=e[r]||xy[r];t?"function"==typeof t?n?n=t(n):Hb(r,`Modifier ${r} used at start of tag`):n?Hb(r,`Tag ${r} used as modifier`):n=t:Hb(r,`Unknown highlighting tag ${r}`)}if(!n)return 0;let r=t.replace(/ /g,"_"),i=_v.define({id:Vb.length,name:r,props:[ty({[r]:n})]});return Vb.push(i),i.id}function Ub(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(r(n.update(i)),!0)}}const Jb=Ub(Xb,0),Kb=Ub(Yb,0),Gb=Ub(((e,t)=>Yb(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to),o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=i.to:t.push({from:r.from,to:i.to})}return t}(t))),0);function Qb(e,t=e.selection.main.head){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function Yb(e,t,n=t.selection.ranges){let r=n.map((e=>Qb(t,e.from).block));if(!r.every((e=>e)))return null;let i=n.map(((e,n)=>function(e,{open:t,close:n},r,i){let o,s,a=e.sliceDoc(r-50,r),l=e.sliceDoc(i,i+50),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-c;if(a.slice(h-t.length,h)==t&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};i-r<=100?o=s=e.sliceDoc(r,i):(o=e.sliceDoc(r,r+50),s=e.sliceDoc(i-50,i));let d=/^\s*/.exec(o)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-n.length;return o.slice(d,d+t.length)==t&&s.slice(p,p+n.length)==n?{open:{pos:r+d+t.length,margin:/\s/.test(o.charAt(d+t.length))?1:0},close:{pos:i-f-n.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!i.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&i.some((e=>e))){let e=[];for(let t,n=0;n<i.length;n++)if(t=i[n]){let i=r[n],{open:o,close:s}=t;e.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:e}}return null}function Xb(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:e,to:o}of n){let n=r.length,s=1e9;for(let n=e;n<=o;){let a=t.doc.lineAt(n);if(a.from>i&&(e==o||o>a.from)){i=a.from;let e=Qb(t,n).line;if(!e)continue;let o=/^\s*/.exec(a.text)[0].length,l=o==a.length,c=a.text.slice(o,o+e.length)==e?o:-1;o<a.text.length&&o<s&&(s=o),r.push({line:a,comment:c,token:e,indent:o,empty:l,single:!1})}n=a.to+1}if(s<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=s);r.length==n+1&&(r[n].single=!0)}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:i,empty:o,single:s}of r)!s&&o||e.push({from:t.from+i,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:i}of r)if(n>=0){let r=t.from+n,o=r+i.length;" "==t.text[o-t.from]&&o++,e.push({from:r,to:o})}return{changes:e}}return null}const Zb=ph.define(),ew=ph.define(),tw=Vu.define(),nw=Vu.define({combine:e=>Eh(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const rw=Ku.define({create:()=>xw.empty,update(e,t){let n=t.state.facet(nw),r=t.annotation(Zb);if(r){let i=t.docChanged?Lu.single(function(e){let t=0;return e.iterChangedRanges(((e,n)=>t=n)),t}(t.changes)):void 0,o=fw.fromTransaction(t,i),s=r.side,a=0==s?e.undone:e.done;return a=o?pw(a,a.length,n.minDepth,o):vw(a,t.startState.selection),new xw(0==s?r.rest:a,0==s?a:r.rest)}let i=t.annotation(ew);if("full"!=i&&"before"!=i||(e=e.isolate()),!1===t.annotation(yh.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=fw.fromTransaction(t),s=t.annotation(yh.time),a=t.annotation(yh.userEvent);return o?e=e.addChanges(o,s,a,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=i&&"after"!=i||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new xw(e.done.map(fw.fromJSON),e.undone.map(fw.fromJSON))});function iw(e={}){return[rw,nw.of(e),Im.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?sw:"historyRedo"==e.inputType?aw:null;return!!n&&(e.preventDefault(),n(t))}})]}function ow(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(rw,!1);if(!i)return!1;let o=i.pop(e,n,t);return!!o&&(r(o),!0)}}const sw=ow(0,!1),aw=ow(1,!1),lw=ow(0,!0),cw=ow(1,!0);function uw(e){return function(t){let n=t.field(rw,!1);if(!n)return 0;let r=0==e?n.done:n.undone;return r.length-(r.length&&!r[0].changes?1:0)}}const hw=uw(0),dw=uw(1);class fw{constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(e){return new fw(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new fw(e.changes&&Eu.fromJSON(e.changes),[],e.mapped&&Pu.fromJSON(e.mapped),e.startSelection&&Lu.fromJSON(e.startSelection),e.selectionsAfter.map(Lu.fromJSON))}static fromTransaction(e,t){let n=gw;for(let t of e.startState.facet(tw)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new fw(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,gw)}static selection(e){return new fw(void 0,gw,void 0,void 0,e)}}function pw(e,t,n,r){let i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function mw(e,t){return e.length?t.length?e.concat(t):e:t}const gw=[];function vw(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),pw(e,e.length-1,1e9,n.setSelAfter(r)))}return[fw.selection([t])]}function yw(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function bw(e,t){if(!e.length)return e;let n=e.length,r=gw;for(;n;){let i=ww(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[fw.selection(r)]:gw}function ww(e,t,n){let r=mw(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):gw,n);if(!e.changes)return fw.selection(r);let i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new fw(i,vh.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}const $w=/^(input\.type|delete)($|\.)/;class xw{constructor(e,t,n=0,r){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new xw(this.done,this.undone):this}addChanges(e,t,n,r,i){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||$w.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<r&&function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,i,o)=>{for(let e=0;e<n.length;){let t=n[e++],s=n[e++];o>=t&&i<=s&&(r=!0)}})),r}(s.changes,e.changes)||"input.type.compose"==n)?pw(o,o.length-1,i,new fw(e.changes.compose(s.changes),mw(e.effects,s.effects),s.mapped,s.startSelection,gw)):pw(o,o.length,i,e),new xw(o,gw,t,n)}addSelection(e,t,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:gw;return i.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(o=i[i.length-1],s=e,o.ranges.length==s.ranges.length&&0===o.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new xw(vw(this.done,e),this.undone,t,n);var o,s}addMapping(e){return new xw(bw(this.done,e),bw(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Zb.of({side:e,rest:yw(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?gw:r.slice(0,r.length-1);return i.mapped&&(n=bw(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Zb.of({side:e,rest:n}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}xw.empty=new xw(gw,gw);const kw=[{key:"Mod-z",run:sw,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:aw,preventDefault:!0},{linux:"Ctrl-Shift-z",run:aw,preventDefault:!0},{key:"Mod-u",run:lw,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:cw,preventDefault:!0}];function Sw(e,t){return Lu.create(e.ranges.map(t),e.mainIndex)}function Cw(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Ow({state:e,dispatch:t},n){let r=Sw(e.selection,n);return!r.eq(e.selection)&&(t(Cw(e,r)),!0)}function _w(e,t){return Lu.cursor(t?e.to:e.from)}function Aw(e,t){return Ow(e,(n=>n.empty?e.moveByChar(n,t):_w(n,t)))}function Pw(e){return e.textDirectionAt(e.state.selection.main.head)==Hf.LTR}const Ew=e=>Aw(e,!Pw(e)),jw=e=>Aw(e,Pw(e));function Mw(e,t){return Ow(e,(n=>n.empty?e.moveByGroup(n,t):_w(n,t)))}function Tw(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Nw(e,t,n){let r,i,o=Ay(e).resolveInner(t.head),s=n?Cv.closedBy:Cv.openedBy;for(let r=t.head;;){let t=n?o.childAfter(r):o.childBefore(r);if(!t)break;Tw(e,t,s)?o=t:r=n?t.to:t.from}return i=o.type.prop(s)&&(r=n?Lb(e,o.from,1):Lb(e,o.to,-1))&&r.matched?n?r.end.to:r.end.from:n?o.to:o.from,Lu.cursor(i,n?-1:1)}function Iw(e,t){return Ow(e,(n=>{if(!n.empty)return _w(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}const Dw=e=>Iw(e,!1),Rw=e=>Iw(e,!0);function Lw(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Bw(e,t){let{state:n}=e,r=Sw(n.selection,(n=>n.empty?e.moveVertically(n,t,Lw(e)):_w(n,t)));if(r.eq(n.selection))return!1;let i,o=e.coordsAtPos(n.selection.main.head),s=e.scrollDOM.getBoundingClientRect();return o&&o.top>s.top&&o.bottom<s.bottom&&o.top-s.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(i=Im.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-s.top})),e.dispatch(Cw(n,r),{effects:i}),!0}const Fw=e=>Bw(e,!1),Vw=e=>Bw(e,!0);function zw(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(i=Lu.cursor(r.from+n))}return i}function qw(e,t){let n=Sw(e.state.selection,(e=>{let n=t(e);return Lu.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(Cw(e.state,n)),!0)}function Hw(e,t){return qw(e,(n=>e.moveByChar(n,t)))}const Ww=e=>Hw(e,!Pw(e)),Uw=e=>Hw(e,Pw(e));function Jw(e,t){return qw(e,(n=>e.moveByGroup(n,t)))}function Kw(e,t){return qw(e,(n=>e.moveVertically(n,t)))}const Gw=e=>Kw(e,!1),Qw=e=>Kw(e,!0);function Yw(e,t){return qw(e,(n=>e.moveVertically(n,t,Lw(e))))}const Xw=e=>Yw(e,!1),Zw=e=>Yw(e,!0),e$=({state:e,dispatch:t})=>(t(Cw(e,{anchor:0})),!0),t$=({state:e,dispatch:t})=>(t(Cw(e,{anchor:e.doc.length})),!0),n$=({state:e,dispatch:t})=>(t(Cw(e,{anchor:e.selection.main.anchor,head:0})),!0),r$=({state:e,dispatch:t})=>(t(Cw(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function i$(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange((r=>{let{from:i,to:o}=r;if(i==o){let r=t(i);r<i?(n="delete.backward",r=o$(e,r,!1)):r>i&&(n="delete.forward",r=o$(e,r,!0)),i=Math.min(i,r),o=Math.max(o,r)}else i=o$(e,i,!1),o=o$(e,o,!0);return i==o?{range:r}:{changes:{from:i,to:o},range:Lu.cursor(i)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Im.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function o$(e,t,n){if(e instanceof Im)for(let r of e.state.facet(Im.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const s$=(e,t)=>i$(e,(n=>{let r,i,{state:o}=e,s=o.doc.lineAt(n);if(!t&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if("\t"==r[r.length-1])return n-1;let e=Jh(r,o.tabSize)%Vy(o)||Vy(o);for(let t=0;t<e&&" "==r[r.length-1-t];t++)n--;i=n}else i=bu(s.text,n-s.from,t,t)+s.from,i==n&&s.number!=(t?o.doc.lines:1)&&(i+=t?1:-1);return i})),a$=e=>s$(e,!1),l$=e=>s$(e,!0),c$=(e,t)=>i$(e,(n=>{let r=n,{state:i}=e,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let e=null;;){if(r==(t?o.to:o.from)){r==n&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let a=bu(o.text,r-o.from,t)+o.from,l=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&r==n||(e=c),r=a}return r})),u$=e=>c$(e,!1),h$=e=>i$(e,(t=>{let n=e.lineBlockAt(t).to;return t<n?n:Math.min(e.state.doc.length,t+1)}));function d$(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=e.doc.lineAt(r.to-1)),n>=i.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(r)}else t.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return t}function f$(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let t of d$(e)){if(n?t.to==e.doc.length:0==t.from)continue;let o=e.doc.lineAt(n?t.to+1:t.from-1),s=o.length+1;if(n){r.push({from:t.to,to:o.to},{from:t.from,insert:o.text+e.lineBreak});for(let n of t.ranges)i.push(Lu.range(Math.min(e.doc.length,n.anchor+s),Math.min(e.doc.length,n.head+s)))}else{r.push({from:o.from,to:t.from},{from:t.to,insert:e.lineBreak+o.text});for(let e of t.ranges)i.push(Lu.range(e.anchor-s,e.head-s))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:Lu.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0)}function p$(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of d$(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const m$=v$(!1),g$=v$(!0);function v$(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange((n=>{let{from:r,to:i}=n,o=t.doc.lineAt(r),s=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=Ay(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(Cv.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}(t,r);e&&(r=i=(i<=o.to?o:t.doc.lineAt(i)).to);let a=new Hy(t,{simulateBreak:r,simulateDoubleBreak:!!s}),l=qy(a,r);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(r).text)[0].length);i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?({from:r,to:i}=s):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let c=["",zy(t,l)];return s&&c.push(zy(t,a.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:au.of(c)},range:Lu.cursor(r+1+c[1].length)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function y$(e,t){let n=-1;return e.changeByRange((r=>{let i=[];for(let o=r.from;o<=r.to;){let s=e.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(t(s,i,r),n=s.number),o=s.to+1}let o=e.changes(i);return{changes:i,range:Lu.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const b$=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(y$(e,((t,n)=>{n.push({from:t.from,insert:e.facet(Fy)})})),{userEvent:"input.indent"})),!0),w$=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(y$(e,((t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let i=Jh(r,e.tabSize),o=0,s=zy(e,Math.max(0,i-Vy(e)));for(;o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+r.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0),$$=[{key:"Ctrl-b",run:Ew,shift:Ww,preventDefault:!0},{key:"Ctrl-f",run:jw,shift:Uw},{key:"Ctrl-p",run:Dw,shift:Gw},{key:"Ctrl-n",run:Rw,shift:Qw},{key:"Ctrl-a",run:e=>Ow(e,(t=>Lu.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>qw(e,(t=>Lu.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Ow(e,(t=>Lu.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>qw(e,(t=>Lu.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:l$},{key:"Ctrl-h",run:a$},{key:"Ctrl-k",run:h$},{key:"Ctrl-Alt-h",run:u$},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:au.of(["",""])},range:Lu.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),i=n==r.from?n-1:bu(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:bu(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:e.doc.slice(n,o).append(e.doc.slice(i,n))},range:Lu.cursor(o)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Vw}],x$=[{key:"ArrowLeft",run:Ew,shift:Ww,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Mw(e,!Pw(e)),shift:e=>Jw(e,!Pw(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>Ow(e,(t=>zw(e,t,!Pw(e)))),shift:e=>qw(e,(t=>zw(e,t,!Pw(e)))),preventDefault:!0},{key:"ArrowRight",run:jw,shift:Uw,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Mw(e,Pw(e)),shift:e=>Jw(e,Pw(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>Ow(e,(t=>zw(e,t,Pw(e)))),shift:e=>qw(e,(t=>zw(e,t,Pw(e)))),preventDefault:!0},{key:"ArrowUp",run:Dw,shift:Gw,preventDefault:!0},{mac:"Cmd-ArrowUp",run:e$,shift:n$},{mac:"Ctrl-ArrowUp",run:Fw,shift:Xw},{key:"ArrowDown",run:Rw,shift:Qw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:t$,shift:r$},{mac:"Ctrl-ArrowDown",run:Vw,shift:Zw},{key:"PageUp",run:Fw,shift:Xw},{key:"PageDown",run:Vw,shift:Zw},{key:"Home",run:e=>Ow(e,(t=>zw(e,t,!1))),shift:e=>qw(e,(t=>zw(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:e$,shift:n$},{key:"End",run:e=>Ow(e,(t=>zw(e,t,!0))),shift:e=>qw(e,(t=>zw(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:t$,shift:r$},{key:"Enter",run:m$},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:a$,shift:a$},{key:"Delete",run:l$},{key:"Mod-Backspace",mac:"Alt-Backspace",run:u$},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>c$(e,!0)},{mac:"Mod-Backspace",run:e=>i$(e,(t=>{let n=e.lineBlockAt(t).from;return t>n?n:Math.max(0,t-1)}))},{mac:"Mod-Delete",run:h$}].concat($$.map((e=>({mac:e.key,run:e.run,shift:e.shift})))),k$=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Ow(e,(t=>Nw(e.state,t,!Pw(e)))),shift:e=>qw(e,(t=>Nw(e.state,t,!Pw(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Ow(e,(t=>Nw(e.state,t,Pw(e)))),shift:e=>qw(e,(t=>Nw(e.state,t,Pw(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>f$(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>p$(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>f$(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>p$(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Lu.create([n.main]):n.main.empty||(r=Lu.create([Lu.cursor(n.main.head)])),!!r&&(t(Cw(e,r)),!0)}},{key:"Mod-Enter",run:g$},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=d$(e).map((({from:t,to:n})=>Lu.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:Lu.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=Sw(e.selection,(t=>{var n;let r=Ay(e).resolveInner(t.head,1);for(;!(r.from<t.from&&r.to>=t.to||r.to>t.to&&r.from<=t.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return Lu.range(r.to,r.from)}));return t(Cw(e,n)),!0},preventDefault:!0},{key:"Mod-[",run:w$},{key:"Mod-]",run:b$},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new Hy(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=y$(e,((t,i,o)=>{let s=qy(r,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=zy(e,s);(a!=l||o.from<t.from+a.length)&&(n[t.from]=s,i.push({from:t.from,to:t.from+a.length,insert:l}))}));return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(d$(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),r=Sw(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let r=!1,i=Sw(e.selection,(t=>{let i=Lb(e,t.head,-1)||Lb(e,t.head,1)||t.head>0&&Lb(e,t.head-1,1)||t.head<e.doc.length&&Lb(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;let o=i.start.from==t.head?i.end.to:i.end.from;return n?Lu.range(t.anchor,o):Lu.cursor(o)}));return!!r&&(t(Cw(e,i)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let t=Qb(e.state);return t.line?Jb(e):!!t.block&&Gb(e)}},{key:"Alt-A",run:Kb}].concat(x$),S$={key:"Tab",run:b$,shift:w$};function C$(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)O$(e,arguments[t]);return e}function O$(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)O$(e,t[n])}}const _$="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class A${constructor(e,t,n=0,r=e.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=i?e=>i(_$(e)):_$,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Su(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Cu(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Ou(e);let r=this.normalize(t);for(let e=0,i=n;;e++){let o=r.charCodeAt(e),s=this.match(o,i);if(s)return this.value=s,this;if(e==r.length-1)break;i==n&&e<t.length&&t.charCodeAt(e)==o&&i++}}}match(e,t){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}"undefined"!=typeof Symbol&&(A$.prototype[Symbol.iterator]=function(){return this});const P$={from:-1,to:-1,match:/.*/.exec("")},E$="gm"+(null==/x/.unicode?"":"u");class j${constructor(e,t,n,r=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=P$,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new N$(e,t,n,r,i);this.re=new RegExp(t,E$+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=I$(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=I$(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const M$=new WeakMap;class T${constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=M$.get(e);if(!r||r.from>=n||r.to<=t){let r=new T$(t,e.sliceString(t,n));return M$.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:i,from:o}=r;return o>t&&(i=e.sliceString(t,o)+i,o=t),r.to<n&&(i+=e.sliceString(r.to,n)),M$.set(e,new T$(o,i)),new T$(t,i.slice(t-o,n-o))}}class N${constructor(e,t,n,r,i){this.text=e,this.to=i,this.done=!1,this.value=P$,this.matchPos=I$(e,r),this.re=new RegExp(t,E$+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=T$.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=I$(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=T$.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function I$(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function D$(e){let t=C$("input",{class:"cm-textfield",name:"line"});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,i=r.doc.lineAt(r.selection.main.head),[,o,s,a,l]=n,c=a?+a.slice(1):0,u=s?+s:i.number;if(s&&l){let e=u/100;o&&(e=e*("-"==o?-1:1)+i.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else s&&o&&(u=u*("-"==o?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,u)));e.dispatch({effects:R$.of(!1),selection:Lu.cursor(h.from+Math.max(0,Math.min(c,h.length))),scrollIntoView:!0}),e.focus()}return{dom:C$("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:R$.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},C$("label",e.state.phrase("Go to line"),": ",t)," ",C$("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(j$.prototype[Symbol.iterator]=N$.prototype[Symbol.iterator]=function(){return this});const R$=vh.define(),L$=Ku.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(R$)&&(e=n.value);return e},provide:e=>Zg.from(e,(e=>e?D$:null))}),B$=Im.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),F$={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},V$=Vu.define({combine:e=>Eh(e,F$,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function z$(e){let t=[J$,U$];return e&&t.push(V$.of(e)),t}const q$=cf.mark({class:"cm-selectionMatch"}),H$=cf.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function W$(e,t,n,r){return!(0!=n&&e(t.sliceDoc(n-1,n))==Ch.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==Ch.Word)}const U$=Nf.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(V$),{state:n}=e,r=n.selection;if(r.ranges.length>1)return cf.none;let i,o=r.main,s=null;if(o.empty){if(!t.highlightWordAroundCursor)return cf.none;let e=n.wordAt(o.head);if(!e)return cf.none;s=n.charCategorizer(o.head),i=n.sliceDoc(e.from,e.to)}else{let e=o.to-o.from;if(e<t.minSelectionLength||e>200)return cf.none;if(t.wholeWords){if(i=n.sliceDoc(o.from,o.to),s=n.charCategorizer(o.head),!W$(s,n,o.from,o.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==Ch.Word&&e(t.sliceDoc(r-1,r))==Ch.Word}(s,n,o.from,o.to))return cf.none}else if(i=n.sliceDoc(o.from,o.to).trim(),!i)return cf.none}let a=[];for(let r of e.visibleRanges){let e=new A$(n.doc,i,r.from,r.to);for(;!e.next().done;){let{from:r,to:i}=e.value;if((!s||W$(s,n,r,i))&&(o.empty&&r<=o.from&&i>=o.to?a.push(H$.range(r,i)):(r>=o.to||i<=o.from)&&a.push(q$.range(r,i)),a.length>t.maxMatches))return cf.none}}return cf.set(a)}},{decorations:e=>e.decorations}),J$=Im.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const K$=Vu.define({combine:e=>Eh(e,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new xx(e)})});function G$(e){return e?[K$.of(e),_x]:_x}class Q${constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,E$),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new rx(this):new Z$(this)}getCursor(e,t=0,n){let r=e.doc?e:Ph.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?ex(this,r,t,n):X$(this,r,t,n)}}class Y${constructor(e){this.spec=e}}function X$(e,t,n,r){return new A$(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),!(t(tx(i,n-o))==Ch.Word&&t(nx(i,n-o))==Ch.Word||t(nx(i,r-o))==Ch.Word&&t(tx(i,r-o))==Ch.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class Z$ extends Y${constructor(e){super(e)}nextMatch(e,t,n){let r=X$(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=X$(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),i=X$(this.spec,e,n,r),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=X$(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=X$(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function ex(e,t,n,r){return new j$(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(i(tx(n.input,n.index))!=Ch.Word||i(nx(n.input,n.index))!=Ch.Word)&&(i(nx(n.input,n.index+n[0].length))!=Ch.Word||i(tx(n.input,n.index+n[0].length))!=Ch.Word)):void 0},n,r);var i}function tx(e,t){return e.slice(bu(e,t,!1),t)}function nx(e,t){return e.slice(t,bu(e,t))}class rx extends Y${nextMatch(e,t,n){let r=ex(this.spec,e,n,e.doc.length).next();return r.done&&(r=ex(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let i=Math.max(t,n-1e4*r),o=ex(this.spec,e,i,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==t||s.from>i+10))return s;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,((t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t)))}matchAll(e,t){let n=ex(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=ex(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const ix=vh.define(),ox=vh.define(),sx=Ku.define({create:e=>new ax(yx(e).create(),null),update(e,t){for(let n of t.effects)n.is(ix)?e=new ax(n.value.create(),e.panel):n.is(ox)&&(e=new ax(e.query,n.value?vx:null));return e},provide:e=>Zg.from(e,(e=>e.panel))});class ax{constructor(e,t){this.query=e,this.panel=t}}const lx=cf.mark({class:"cm-searchMatch"}),cx=cf.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ux=Nf.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(sx))}update(e){let t=e.state.field(sx);(t!=e.startState.field(sx)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return cf.none;let{view:n}=this,r=new Dh;for(let t=0,i=n.visibleRanges,o=i.length;t<o;t++){let{from:s,to:a}=i[t];for(;t<o-1&&a>i[t+1].from-500;)a=i[++t].to;e.highlight(n.state,s,a,((e,t)=>{let i=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));r.add(e,t,i?cx:lx)}))}return r.finish()}},{decorations:e=>e.decorations});function hx(e){return t=>{let n=t.state.field(sx,!1);return n&&n.query.spec.valid?e(t,n):bx(t)}}const dx=hx(((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);return!!r&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Cx(e,r),userEvent:"select.search"}),!0)})),fx=hx(((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Cx(e,i),userEvent:"select.search"}),!0)})),px=hx(((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:Lu.create(n.map((e=>Lu.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),mx=hx(((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=t.nextMatch(n,r,r);if(!o)return!1;let s,a,l=[],c=[];if(o.from==r&&o.to==i&&(a=n.toText(t.getReplacement(o)),l.push({from:o.from,to:o.to,insert:a}),o=t.nextMatch(n,o.from,o.to),c.push(Im.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let t=0==l.length||l[0].from>=o.to?0:o.to-o.from-a.length;s={anchor:o.from-t,head:o.to-t},c.push(Cx(e,o))}return e.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:c,userEvent:"input.replace"}),!0})),gx=hx(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map((e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}}));if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:Im.announce.of(r),userEvent:"input.replace.all"}),!0}));function vx(e){return e.state.facet(K$).createPanel(e)}function yx(e,t){var n,r,i,o;let s=e.selection.main,a=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!a)return t;let l=e.facet(K$);return new Q$({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:l.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:l.literal,wholeWord:null!==(o=null==t?void 0:t.wholeWord)&&void 0!==o?o:l.wholeWord})}const bx=e=>{let t=e.state.field(sx,!1);if(t&&t.panel){let n=Gg(e,vx);if(!n)return!1;let r=n.dom.querySelector("[main-field]");if(r&&r!=e.root.activeElement){let n=yx(e.state,t.query.spec);n.valid&&e.dispatch({effects:ix.of(n)}),r.focus(),r.select()}}else e.dispatch({effects:[ox.of(!0),t?ix.of(yx(e.state,t.query.spec)):vh.appendConfig.of(_x)]});return!0},wx=e=>{let t=e.state.field(sx,!1);if(!t||!t.panel)return!1;let n=Gg(e,vx);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:ox.of(!1)}),!0},$x=[{key:"Mod-f",run:bx,scope:"editor search-panel"},{key:"F3",run:dx,shift:fx,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:dx,shift:fx,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:wx,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let t=new A$(e.doc,e.sliceDoc(r,i));!t.next().done;){if(o.length>1e3)return!1;t.value.from==r&&(s=o.length),o.push(Lu.range(t.value.from,t.value.to))}return t(e.update({selection:Lu.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=Gg(e,D$);if(!t){let n=[R$.of(!0)];null==e.state.field(L$,!1)&&n.push(vh.appendConfig.of([L$,B$])),e.dispatch({effects:n}),t=Gg(e,D$)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=Lu.create(n.ranges.map((t=>e.wordAt(t.head)||Lu.cursor(t.head))),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=r)))return!1;let i=function(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new A$(e.doc,t,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((e=>e.from==i.value.from)))continue;if(o){let t=e.wordAt(i.value.from);if(!t||t.from!=i.value.from||t.to!=i.value.to)continue}return i.value}if(n)return null;i=new A$(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,r);return!!i&&(t(e.update({selection:e.selection.addRange(Lu.range(i.from,i.to),!1),effects:Im.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class xx{constructor(e){this.view=e;let t=this.query=e.state.field(sx).query.spec;function n(e,t,n){return C$("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=C$("input",{value:t.search,placeholder:kx(e,"Find"),"aria-label":kx(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=C$("input",{value:t.replace,placeholder:kx(e,"Replace"),"aria-label":kx(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=C$("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=C$("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=C$("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=C$("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>dx(e)),[kx(e,"next")]),n("prev",(()=>fx(e)),[kx(e,"previous")]),n("select",(()=>px(e)),[kx(e,"all")]),C$("label",null,[this.caseField,kx(e,"match case")]),C$("label",null,[this.reField,kx(e,"regexp")]),C$("label",null,[this.wordField,kx(e,"by word")]),...e.state.readOnly?[]:[C$("br"),this.replaceField,n("replace",(()=>mx(e)),[kx(e,"replace")]),n("replaceAll",(()=>gx(e)),[kx(e,"replace all")])],C$("button",{name:"close",onclick:()=>wx(e),"aria-label":kx(e,"close"),type:"button"},["×"])])}commit(){let e=new Q$({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ix.of(e)}))}keydown(e){var t,n,r;t=this.view,n=e,r="search-panel",Jm(Wm(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?fx:dx)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),mx(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(ix)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(K$).top}}function kx(e,t){return e.state.phrase(t)}const Sx=/[\s\.,:;?!]/;function Cx(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,o=Math.max(r.from,t-30),s=Math.min(i,n+30),a=e.state.sliceDoc(o,s);if(o!=r.from)for(let e=0;e<30;e++)if(!Sx.test(a[e+1])&&Sx.test(a[e])){a=a.slice(e);break}if(s!=i)for(let e=a.length-1;e>a.length-30;e--)if(!Sx.test(a[e-1])&&Sx.test(a[e])){a=a.slice(0,e);break}return Im.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${r.number}.`)}const Ox=Im.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),_x=[sx,eh.lowest(ux),Ox];class Ax{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=Ay(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(Tx(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function Px(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Ex(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=Px(t)+Px(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let i=e.matchBefore(r);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}class jx{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function Mx(e){return e.selection.main.head}function Tx(e,t){var n;let{source:r}=e,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const Nx=ph.define();function Ix(e,t){const n=t.completion.apply||t.completion.label;let r=t.source;"string"==typeof n?e.dispatch(Object.assign(Object.assign({},function(e,t,n,r){return Object.assign(Object.assign({},e.changeByRange((i=>{if(i==e.selection.main)return{changes:{from:n,to:r,insert:t},range:Lu.cursor(n+t.length)};let o=r-n;return!i.empty||o&&e.sliceDoc(i.from-o,i.from)!=e.sliceDoc(n,r)?{range:i}:{changes:{from:i.from-o,to:i.from,insert:t},range:Lu.cursor(i.from-o+t.length)}}))),{userEvent:"input.complete"})}(e.state,n,r.from,r.to)),{annotations:Nx.of(t.completion)})):n(e,t.completion,r.from,r.to)}const Dx=new WeakMap;function Rx(e){if(!Array.isArray(e))return e;let t=Dx.get(e);return t||Dx.set(e,t=Ex(e)),t}class Lx{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=Su(e,t),r=Ou(n);this.chars.push(n);let i=e.slice(t,t+r),o=i.toUpperCase();this.folded.push(Su(o==i?i.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:i,byWord:o}=this;if(1==t.length){let r=Su(e,0);return r==t[0]?[0,0,Ou(r)]:r==n[0]?[-200,0,Ou(r)]:null}let s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=t.length,l=0;if(s<0){for(let i=0,o=Math.min(e.length,200);i<o&&l<a;){let o=Su(e,i);o!=t[l]&&o!=n[l]||(r[l++]=i),i+=Ou(o)}if(l<a)return null}let c=0,u=0,h=!1,d=0,f=-1,p=-1,m=/[a-z]/.test(e),g=!0;for(let r=0,l=Math.min(e.length,200),v=0;r<l&&u<a;){let l=Su(e,r);s<0&&(c<a&&l==t[c]&&(i[c++]=r),d<a&&(l==t[d]||l==n[d]?(0==d&&(f=r),p=r+1,d++):d=0));let y,b=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(y=Cu(l))!=y.toLowerCase()?1:y!=y.toUpperCase()?2:0;(!r||1==b&&m||0==v&&0!=b)&&(t[u]==l||n[u]==l&&(h=!0)?o[u++]=r:o.length&&(g=!1)),v=b,r+=Ou(l)}return u==a&&0==o[0]&&g?this.result((h?-200:0)-100,o,e):d==a&&0==f?[-200-e.length,0,p]:s>-1?[-700-e.length,s,s+this.pattern.length]:d==a?[-900-e.length,f,p]:u==a?this.result((h?-200:0)-100-700+(g?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,n){let r=[e-n.length],i=1;for(let e of t){let t=e+(this.astral?Ou(Su(n,e)):1);i>1&&r[i-1]==e?r[i-1]=t:(r[i++]=e,r[i++]=t)}return r}}const Bx=Vu.define({combine:e=>Eh(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Fx(e(n),t(n)),optionClass:(e,t)=>n=>Fx(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function Fx(e,t){return e?t?e+" "+t:e:t}function Vx(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class zx{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:r,selected:i}=n.open,o=e.state.facet(Bx);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n){let r=document.createElement("span");r.className="cm-completionLabel";let{label:i}=e,o=0;for(let e=1;e<n.length;){let t=n[e++],s=n[e++];t>o&&r.appendChild(document.createTextNode(i.slice(o,t)));let a=r.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(i.slice(t,s))),a.className="cm-completionMatchedText",o=s}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Vx(r.length,i,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",(t=>{for(let n,i=t.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<r.length)return Ix(e,r[+n[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(r,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){var t,n,r;let i=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),i!=o&&(this.updateSel(),(null===(t=i.open)||void 0===t?void 0:t.disabled)!=(null===(n=o.open)||void 0===n?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(null===(r=i.open)||void 0===r?void 0:r.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Vx(t.options.length,t.selected,this.view.state.facet(Bx).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>Ef(this.view.state,e,"completion info"))):this.addInfoPane(i)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<n.top?e.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(e.scrollTop+=r.bottom-n.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:e.innerWidth,bottom:e.innerHeight}}if(r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10)return null;let o,s=this.view.textDirection==Hf.RTL,a=s,l=!1,c="",u="",h=t.left-i.left,d=i.right-t.right;if(a&&h<Math.min(n.width,d)?a=!1:!a&&d<Math.min(n.width,h)&&(a=!0),n.width<=(a?h:d))c=Math.max(i.top,Math.min(r.top,i.bottom-n.height))-t.top+"px",o=Math.min(400,a?h:d)+"px";else{l=!0,o=Math.min(400,(s?t.right:i.right-t.left)-30)+"px";let e=i.bottom-t.bottom;e>=n.height||e>t.top?c=r.bottom-t.top+"px":u=t.bottom-r.top+"px"}return{top:c,bottom:u,maxWidth:o,class:l?s?"left-narrow":"right-narrow":a?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let i=n.from;i<n.to;i++){let{completion:n,match:o}=e[i];const s=r.appendChild(document.createElement("li"));s.id=t+"-"+i,s.setAttribute("role","option");let a=this.optionClass(n);a&&(s.className=a);for(let e of this.optionContent){let t=e(n,this.view.state,o);t&&s.appendChild(t)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function qx(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class Hx{constructor(e,t,n,r,i,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Hx(this.options,Jx(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,i){let o=function(e,t){let n=[],r=0;for(let i of e)if(i.hasResult())if(!1===i.result.filter){let e=i.result.getMatch;for(let t of i.result.options){let o=[1e9-r++];if(e)for(let n of e(t))o.push(n);n.push(new jx(t,i,o))}}else{let e,r=new Lx(t.sliceDoc(i.from,i.to));for(let t of i.result.options)(e=r.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),n.push(new jx(t,i,e)))}let i=[],o=null,s=t.facet(Bx).compareCompletions;for(let e of n.sort(((e,t)=>t.match[0]-e.match[0]||s(e.completion,t.completion))))!o||o.label!=e.completion.label||o.detail!=e.completion.detail||null!=o.type&&null!=e.completion.type&&o.type!=e.completion.type||o.apply!=e.completion.apply?i.push(e):qx(e.completion)>qx(o)&&(i[i.length-1]=e),o=e.completion;return i}(e,t);if(!o.length)return r&&e.some((e=>1==e.state))?new Hx(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let s=t.facet(Bx).selectOnOpen?0:-1;if(r&&r.selected!=s&&-1!=r.selected){let e=r.options[r.selected].completion;for(let t=0;t<o.length;t++)if(o[t].completion==e){s=t;break}}return new Hx(o,Jx(n,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=nk,e=>new zx(e,a)),above:i.aboveCursor},r?r.timestamp:Date.now(),s,!1);var a}map(e){return new Hx(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Wx{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Wx(Kx,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Bx),r=(n.override||t.languageDataAt("autocomplete",Mx(t)).map(Rx)).map((t=>(this.active.find((e=>e.source==t))||new Qx(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));r.length==this.active.length&&r.every(((e,t)=>e==this.active[t]))&&(r=this.active);let i=this.open;i&&e.docChanged&&(i=i.map(e.changes)),e.selection||r.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;let i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}(r,this.active)?i=Hx.build(r,t,this.id,i,n):i&&i.disabled&&!r.some((e=>1==e.state))&&(i=null),!i&&r.every((e=>1!=e.state))&&r.some((e=>e.hasResult()))&&(r=r.map((e=>e.hasResult()?new Qx(e.source,0):e)));for(let t of e.effects)t.is(tk)&&(i=i&&i.setSelected(t.value,this.id));return r==this.active&&i==this.open?this:new Wx(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Ux}}const Ux={"aria-autocomplete":"list"};function Jx(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const Kx=[];function Gx(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class Qx{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=Gx(e),r=this;n?r=r.handleUserEvent(e,n,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new Qx(r.source,0));for(let t of e.effects)if(t.is(Xx))r=new Qx(r.source,1,t.value?Mx(e.state):-1);else if(t.is(Zx))r=new Qx(r.source,0);else if(t.is(ek))for(let e of t.value)e.source==r.source&&(r=e);return r}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new Qx(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(Mx(e.startState))?new Qx(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Qx(this.source,this.state,e.mapPos(this.explicitPos))}}class Yx extends Qx{constructor(e,t,n,r,i){super(e,2,t),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(e,t,n){var r;let i=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=Mx(e.state);if((this.explicitPos<0?s<=i:s<this.from)||s>o||"delete"==t&&Mx(e.startState)==this.from)return new Qx(this.source,"input"==t&&n.activateOnTyping?1:0);let a,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):Tx(e,!0).test(i)}(this.result.validFor,e.state,i,o)?new Yx(this.source,l,this.result,i,o):this.result.update&&(a=this.result.update(this.result,i,o,new Ax(e.state,s,l>=0)))?new Yx(this.source,l,a,a.from,null!==(r=a.to)&&void 0!==r?r:Mx(e.state)):new Qx(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Qx(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Yx(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const Xx=vh.define(),Zx=vh.define(),ek=vh.define({map:(e,t)=>e.map((e=>e.map(t)))}),tk=vh.define(),nk=Ku.define({create:()=>Wx.start(),update:(e,t)=>e.update(t),provide:e=>[Fg.from(e,(e=>e.tooltip)),Im.contentAttributes.from(e,(e=>e.attrs))]});function rk(e,t="option"){return n=>{let r=n.state.field(nk,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Bx).interactionDelay)return!1;let i,o=1;"page"==t&&(i=function(e,t){let n=e.plugin(Rg);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:tk.of(a)}),!0}}class ik{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const ok=Nf.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(nk).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(nk);if(!e.selectionSet&&!e.docChanged&&e.startState.field(nk)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!Gx(e)));for(let t=0;t<this.running.length;t++){let r=this.running[t];if(n||r.updates.length+e.transactions.length>50&&Date.now()-r.time>1e3){for(let e of r.context.abortListeners)try{e()}catch(e){Ef(this.view.state,e)}r.context.abortListeners=null,this.running.splice(t--,1)}else r.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==Gx(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(nk);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,n=Mx(t),r=new Ax(t,n,e.explicitPos==n),i=new ik(e,r);this.running.push(i),Promise.resolve(e.source(r)).then((e=>{i.context.aborted||(i.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:Zx.of(null)}),Ef(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(Bx);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new Yx(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(e=i.done.to)&&void 0!==e?e:Mx(i.updates.length?i.updates[0].startState:this.view.state));for(let e of i.updates)r=r.update(e,n);if(r.hasResult()){t.push(r);continue}}let o=this.view.state.field(nk).active.find((e=>e.source==i.active.source));if(o&&1==o.state)if(null==i.done){let e=new Qx(i.active.source,0);for(let t of i.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:ek.of(t)})}},{eventHandlers:{blur(){let e=this.view.state.field(nk,!1);e&&e.tooltip&&this.view.state.facet(Bx).closeOnBlur&&this.view.dispatch({effects:Zx.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:Xx.of(!1)})),20),this.composing=0}}}),sk=Im.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ak={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},lk=vh.define({map(e,t){let n=t.mapPos(e,-1,Au.TrackAfter);return null==n?void 0:n}}),ck=vh.define({map:(e,t)=>t.mapPos(e)}),uk=new class extends jh{};uk.startSide=1,uk.endSide=-1;const hk=Ku.define({create:()=>Ih.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=Ih.empty)}e=e.map(t.changes);for(let n of t.effects)n.is(lk)?e=e.update({add:[uk.range(n.value,n.value+1)]}):n.is(ck)&&(e=e.update({filter:e=>e!=n.value}));return e}});const dk="()[]{}<>";function fk(e){for(let t=0;t<dk.length;t+=2)if(dk.charCodeAt(t)==e)return dk.charAt(t+1);return Cu(e<128?e:e+1)}function pk(e,t){return e.languageDataAt("closeBrackets",t)[0]||ak}const mk="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),gk=Im.inputHandler.of(((e,t,n,r)=>{if((mk?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||2==r.length&&1==Ou(Su(r,0))||t!=i.from||n!=i.to)return!1;let o=function(e,t){let n=pk(e,e.selection.main.head),r=n.brackets||ak.brackets;for(let i of r){let o=fk(Su(i,0));if(t==i)return o==i?xk(e,i,r.indexOf(i+i+i)>-1,n):wk(e,i,o,n.before||ak.before);if(t==o&&yk(e,e.selection.main.from))return $k(e,i,o)}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)})),vk=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=pk(e,e.selection.main.head).brackets||ak.brackets,r=null,i=e.changeByRange((t=>{if(t.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return Ou(Su(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let i of n)if(i==r&&bk(e.doc,t.head)==fk(Su(i,0)))return{changes:{from:t.head-i.length,to:t.head+i.length},range:Lu.cursor(t.head-i.length)}}return{range:r=t}}));return r||t(e.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function yk(e,t){let n=!1;return e.field(hk).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function bk(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Ou(Su(n,0)))}function wk(e,t,n,r){let i=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:lk.of(o.to+t.length),range:Lu.range(o.anchor+t.length,o.head+t.length)};let s=bk(e.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:o.head},effects:lk.of(o.head+t.length),range:Lu.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function $k(e,t,n){let r=null,i=e.selection.ranges.map((t=>t.empty&&bk(e.doc,t.head)==n?Lu.cursor(t.head+n.length):r=t));return r?null:e.update({selection:Lu.create(i,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>ck.of(e)))})}function xk(e,t,n,r){let i=r.stringPrefixes||ak.stringPrefixes,o=null,s=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:lk.of(r.to+t.length),range:Lu.range(r.anchor+t.length,r.head+t.length)};let s,a=r.head,l=bk(e.doc,a);if(l==t){if(kk(e,a))return{changes:{insert:t+t,from:a},effects:lk.of(a+t.length),range:Lu.cursor(a+t.length)};if(yk(e,a)){let r=n&&e.sliceDoc(a,a+3*t.length)==t+t+t;return{range:Lu.cursor(a+t.length*(r?3:1)),effects:ck.of(a)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=Sk(e,a-2*t.length,i))>-1&&kk(e,s))return{changes:{insert:t+t+t+t,from:a},effects:lk.of(a+t.length),range:Lu.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=Ch.Word&&Sk(e,a,i)>-1&&!function(e,t,n,r){let i=Ay(e).resolveInner(t,-1),o=r.reduce(((e,t)=>Math.max(e,t.length)),0);for(let s=0;s<5;s++){let s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),a=s.indexOf(n);if(!a||a>-1&&r.indexOf(s.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=i.to==t&&i.parent;if(!l)break;i=l}return!1}(e,a,t,i))return{changes:{insert:t+t,from:a},effects:lk.of(a+t.length),range:Lu.cursor(a+t.length)}}return{range:o=r}}));return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function kk(e,t){let n=Ay(e).resolveInner(t+1);return n.parent&&n.from==t}function Sk(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=Ch.Word)return t;for(let i of n){let n=t-i.length;if(e.sliceDoc(n,t)==i&&r(e.sliceDoc(n-1,n))!=Ch.Word)return n}return-1}function Ck(e={}){return[nk,Bx.of(e),ok,_k,sk]}const Ok=[{key:"Ctrl-Space",run:e=>!!e.state.field(nk,!1)&&(e.dispatch({effects:Xx.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(nk,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:Zx.of(null)}),!0)}},{key:"ArrowDown",run:rk(!0)},{key:"ArrowUp",run:rk(!1)},{key:"PageDown",run:rk(!0,"page")},{key:"PageUp",run:rk(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(nk,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||Date.now()-t.open.timestamp<e.state.facet(Bx).interactionDelay)&&(t.open.disabled||Ix(e,t.open.options[t.open.selected]),!0)}}],_k=eh.highest(qm.computeN([Bx],(e=>e.facet(Bx).defaultKeymap?[Ok]:[])));class Ak{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Pk{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=e,i=n.facet(qk).markerFilter;i&&(r=i(r));let o=cf.set(r.map((e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from?cf.widget({widget:new Jk(e),diagnostic:e}).range(e.from):cf.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new Pk(o,t,Ek(o))}}function Ek(e,t=null,n=0){let r=null;return e.between(n,1e9,((e,n,{spec:i})=>{if(!t||i.diagnostic==t)return r=new Ak(e,n,i.diagnostic),!1})),r}function jk(e,t){return!(!e.effects.some((e=>e.is(Tk)))&&!e.changes.touchesRange(t.pos))}function Mk(e,t){return e.field(Dk,!1)?t:t.concat(vh.appendConfig.of([Dk,Im.decorations.compute([Dk],(e=>{let{selected:t,panel:n}=e.field(Dk);return t&&n&&t.from!=t.to?cf.set([Rk.range(t.from,t.to)]):cf.none})),Ug(Lk,{hideOn:jk}),Xk]))}const Tk=vh.define(),Nk=vh.define(),Ik=vh.define(),Dk=Ku.define({create:()=>new Pk(cf.none,null,null),update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),r=null;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);r=Ek(n,e.selected.diagnostic,i)||Ek(n,null,i)}e=new Pk(n,e.panel,r)}for(let n of t.effects)n.is(Tk)?e=Pk.init(n.value,e.panel,t.state):n.is(Nk)?e=new Pk(e.diagnostics,n.value?Gk.open:null,e.selected):n.is(Ik)&&(e=new Pk(e.diagnostics,e.panel,n.value));return e},provide:e=>[Zg.from(e,(e=>e.panel)),Im.decorations.from(e,(e=>e.diagnostics))]}),Rk=cf.mark({class:"cm-lintRange cm-lintRange-active"});function Lk(e,t,n){let{diagnostics:r}=e.state.field(Dk),i=[],o=2e8,s=0;r.between(t-(n<0?1:0),t+(n>0?1:0),((e,r,{spec:a})=>{t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(a.diagnostic),o=Math.min(e,o),s=Math.max(r,s))}));let a=e.state.facet(qk).tooltipFilter;return a&&(i=a(i)),i.length?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create:()=>({dom:Bk(e,i)})}:null}function Bk(e,t){return C$("ul",{class:"cm-tooltip-lint"},t.map((t=>Uk(e,t,!1))))}const Fk=e=>{let t=e.state.field(Dk,!1);return!(!t||!t.panel)&&(e.dispatch({effects:Nk.of(!1)}),!0)},Vk=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(Dk,!1);t&&t.panel||e.dispatch({effects:Mk(e.state,[Nk.of(!0)])});let n=Gg(e,Gk.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(Dk,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],zk=Nf.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(qk);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(qk);Promise.all(t.map((e=>Promise.resolve(e(this.view))))).then((t=>{let n=t.reduce(((e,t)=>e.concat(t)));this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:Mk(e,[Tk.of(t)])}}(this.view.state,n))}),(e=>{Ef(this.view.state,e)}))}}update(e){let t=e.state.facet(qk);(e.docChanged||t!=e.startState.facet(qk))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),qk=Vu.define({combine:e=>Object.assign({sources:e.map((e=>e.source))},Eh(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null})),enables:zk});function Hk(e,t={}){return qk.of({source:e,config:t})}function Wk(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function Uk(e,t,n){var r;let i=n?Wk(t.actions):[];return C$("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},C$("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((n,r)=>{let o=r=>{r.preventDefault();let i=Ek(e.state.field(Dk).diagnostics,t);i&&n.apply(e,i.from,i.to)},{name:s}=n,a=i[r]?s.indexOf(i[r]):-1,l=a<0?s:[s.slice(0,a),C$("u",s.slice(a,a+1)),s.slice(a+1)];return C$("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${s}${a<0?"":` (access key "${i[r]})"`}.`},l)})),t.source&&C$("div",{class:"cm-diagnosticSource"},t.source))}class Jk extends af{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return C$("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Kk{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Uk(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Gk{constructor(e){this.view=e,this.items=[];this.list=C$("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)Fk(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=Wk(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=Ek(this.view.state.field(Dk).diagnostics,n);t&&n.actions[i].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=C$("div",{class:"cm-panel-lint"},this.list,C$("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Fk(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Dk).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Dk),n=0,r=!1,i=null;for(e.between(0,this.view.state.doc.length,((e,o,{spec:s})=>{let a,l=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==s.diagnostic){l=e;break}l<0?(a=new Kk(this.view,s.diagnostic),this.items.splice(n,0,a),r=!0):(a=this.items[l],l>n&&(this.items.splice(n,l-n),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),i=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new Kk(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=Ek(this.view.state.field(Dk).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Ik.of(t)})}static open(e){return new Gk(e)}}function Qk(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function Yk(e){return Qk(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Xk=Im.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Yk("#d11")},".cm-lintRange-warning":{backgroundImage:Yk("orange")},".cm-lintRange-info":{backgroundImage:Yk("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class Zk extends ev{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce(((e,t)=>{let n=t.severity;return"error"==n||"warning"==n&&"info"==e?n:e}),"info")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let n=this.diagnostics,r=e.state.facet(sS).tooltipFilter;return r&&(n=r(n)),n.length&&(t.onmouseover=()=>function(e,t,n){function r(){let r=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(r.from)&&e.dispatch({effects:rS.of({pos:r.from,above:!1,create:()=>({dom:Bk(e,n),getCoords:()=>t.getBoundingClientRect()})})}),t.onmouseout=t.onmousemove=null,function(e,t){let n=r=>{let i=t.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let e=r.target;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),e.state.field(iS)&&e.dispatch({effects:rS.of(null)})}};window.addEventListener("mousemove",n)}(e,t)}let{hoverTime:i}=e.state.facet(sS),o=setTimeout(r,i);t.onmouseout=()=>{clearTimeout(o),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(o),o=setTimeout(r,i)}}(e,t,n)),t}}function eS(e,t){let n=Object.create(null);for(let r of t){let t=e.lineAt(r.from);(n[t.from]||(n[t.from]=[])).push(r)}let r=[];for(let e in n)r.push(new Zk(n[e]).range(+e));return Ih.of(r,!0)}const tS=iv({class:"cm-gutter-lint",markers:e=>e.state.field(nS)}),nS=Ku.define({create:()=>Ih.empty,update(e,t){e=e.map(t.changes);let n=t.state.facet(sS).markerFilter;for(let r of t.effects)if(r.is(Tk)){let i=r.value;n&&(i=n(i||[])),e=eS(t.state.doc,i.slice(0))}return e}}),rS=vh.define(),iS=Ku.define({create:()=>null,update:(e,t)=>(e&&t.docChanged&&(e=jk(t,e)?null:Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce(((e,t)=>t.is(rS)?t.value:e),e)),provide:e=>Fg.from(e)}),oS=Im.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Qk('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Qk('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Qk('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),sS=Vu.define({combine:e=>Eh(e,{hoverTime:300,markerFilter:null,tooltipFilter:null})});function aS(e={}){return[sS.of(e),nS,tS,oS,iS]}const lS=(()=>[yv(),$v,wg(),iw(),yb(),rg(),[hg,dg],Ph.allowMultipleSelections.of(!0),Ph.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return e;let o=n.sliceString(i.from,r);if(!t.some((e=>e.test(o))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let n=qy(s,t.from);if(null==n)continue;let r=/^\s*/.exec(t.text)[0],i=zy(s,n);r!=i&&l.push({from:t.from,to:t.from+r.length,insert:i})}return l.length?[e,{changes:l,sequential:!0}]:e})),Sb(_b,{fallback:!0}),Db(),[gk,hk],Ck(),Pg(),Mg(),Cg,z$(),qm.of([...vk,...k$,...$x,...kw,...hb,...Ok,...Vk])])();class cS{constructor(e,t,n,r,i,o,s,a,l,c=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new cS(e,[],t,n,n,0,[],0,r?new uS(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=65535&e,{parser:r}=this.p,i=r.dynamicPrecedence(n);if(i&&(this.score+=i),0==t)return this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);let o=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[o-2],a=this.stack[o-1],l=this.bufferBase+this.buffer.length-a;if(n<r.minRepeatTerm||131072&e){let e=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,s,e,l+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=r.getGoto(e,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,s)}storeNode(e,t,n,r=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n){let r=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(i,1)||(this.reducePos=n)),this.pushState(i,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,n,4)}else this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4)}apply(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new cS(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new dS(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<t.length;i+=2)(r=t[i+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[i],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some(((e,t)=>1&t&&e==r))||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.score-=200,n.push(i)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new uS(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class uS{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var hS;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(hS||(hS={}));class dS{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class fS{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new fS(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new fS(this.stack,this.pos,this.index)}}class pS{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const mS=new pS;class gS{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=mS,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!r)return null;let e=this.ranges[--r];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=mS,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class vS{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,n,r){let i=0,o=1<<r,{parser:s}=n.p,{dialect:a}=s;e:for(;0!=(o&e[i]);){let n=e[i+1];for(let r=i+3;r<n;r+=2)if((e[r+1]&o)>0){let n=e[r];if(a.allows(n)&&(-1==t.token.value||t.token.value==n||s.overrides(n,t.token.value))){t.acceptToken(n);break}}let r=t.next,l=0,c=e[i+2];if(!(t.next<0&&c>l&&65535==e[n+3*c-3]&&65535==e[n+3*c-3])){for(;l<c;){let o=l+c>>1,s=n+o+(o<<1),a=e[s],u=e[s+1]||65536;if(r<a)c=o;else{if(!(r>=u)){i=e[s+2],t.advance();continue e}l=o+1}}break}i=e[n+3*c-1]}}(this.data,e,t,this.id)}}function yS(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,i=0;r<e.length;){let o=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),o+=i,n)break;o*=46}n?n[i++]=o:n=new t(o)}return n}vS.prototype.contextual=vS.prototype.fallback=vS.prototype.extend=!1;const bS="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let wS=null;var $S,xS;function kS(e,t,n){let r=e.cursor(jv.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}($S||($S={}));class SS{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?kS(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?kS(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(i instanceof Mv){if(o==e){if(o<this.safeFrom)return null;let e=o+i.length;if(e<=this.safeTo){let t=i.prop(Cv.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}}}class CS{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new pS))}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:i}=r,o=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let r=0;r<i.length;r++){if(0==(1<<r&o))continue;let l=i[r],c=this.tokens[r];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=o||c.context!=s)&&(this.updateCachedToken(c,l,e),c.mask=o,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new pS,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new pS,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let i=t.specializers[r](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?e.value=i>>1:e.extended=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:i}=e,{parser:o}=e.p,{data:s}=o;for(let e=0;e<2;e++)for(let a=o.stateSlot(i,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==r&&2==s[a+1]&&(r=this.putAction(ES(s,a+2),t,n,r));break}a=ES(s,a+2)}s[a]==t&&(r=this.putAction(ES(s,a+1),t,n,r))}return r}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(xS||(xS={}));class OS{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new gS(t,r),this.tokens=new CS(e,this.stream),this.topTerm=e.top[1];let{from:i}=r[0];this.stacks=[cS.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*e.bufferLength?new SS(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[];for(let o=0;o<n.length;o++){let s=n[o];for(;;){if(this.tokens.mainToken=null,s.pos>r)i.push(s);else{if(this.advanceStack(s,i,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw bS&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort(((e,t)=>t.score-e.score));i.length>e;)i.pop();i.some((e=>e.reducePos>r))&&this.recovering--}else if(i.length>1)e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let n=e+1;n<i.length;n++){let r=i[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(n--,1)}}}this.minStackPos=i[0].pos;for(let e=1;e<i.length;e++)i[e].pos<this.minStackPos&&(this.minStackPos=i[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:i}=this,o=bS?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(r);s;){let r=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(e.state,s.type.id):-1;if(r>-1&&s.length&&(!t||(s.prop(Cv.contextHash)||0)==n))return e.useNode(s,r),bS&&console.log(o+this.stackID(e)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof Mv)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof Mv&&0==s.positions[0]))break;s=a}}let s=i.stateSlot(e.state,4);if(s>0)return e.reduce(s),bS&&console.log(o+this.stackID(e)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],c=a[s++],u=a[s++],h=s==a.length||!n,d=h?e:e.split();if(d.apply(l,c,u),bS&&console.log(o+this.stackID(d)+` (via ${0==(65536&l)?"shift":`reduce of ${i.getName(65535&l)}`} for ${i.getName(c)} @ ${r}${d==e?"":", split"})`),h)return!0;d.pos>r?t.push(d):n.push(d)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return _S(e,t),!0}}runRecovery(e,t,n){let r=null,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=t[o<<1],l=t[1+(o<<1)],c=bS?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),bS&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let u=s.split(),h=c;for(let e=0;u.forceReduce()&&e<10;e++){if(bS&&console.log(h+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;bS&&(h=this.stackID(u)+" -> ")}for(let e of s.recoverByInsert(a))bS&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),bS&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),_S(s,n)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(e){return e.close(),Mv.build({buffer:fS.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(wS||(wS=new WeakMap)).get(e);return t||wS.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function _S(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class AS{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}class PS extends Gv{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),r=[];for(let e=0;e<t.length;e++)r.push([]);function i(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=Cv[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)i(r,e,t[n++]);else{let o=t[n+-r];for(let s=-r;s>0;s--)i(t[n++],e,o);n++}}}this.nodeSet=new Av(t.map(((t,i)=>_v.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=xv;let o=yS(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(MS),this.states=yS(e.states,Uint32Array),this.data=yS(e.stateData),this.goto=yS(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new vS(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new OS(this,e,t,n);for(let i of this.wrappers)r=i(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let i=r[t+1];;){let t=r[i++],o=1&t,s=r[i++];if(o&&n)return s;for(let n=i+(t>>1);i<n;i++)if(r[i]==e)return s;if(o)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let i,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return ES(n,o+2);break}i=n[o=ES(n,o+2)]}if(i==t||0==i)return ES(n,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=ES(this.data,n+2)}if(t==ES(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=ES(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}overrides(e,t){let n=jS(this.data,this.tokenPrecTable,t);return n<0||jS(this.data,this.tokenPrecTable,e)<n}configure(e){let t=Object.assign(Object.create(PS.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=e.specializers.find((e=>e.from==n.external));if(!i)return n;let o=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[r]=MS(o),o}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,i=this.dialects[t[e]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new AS(e,n,r)}static deserialize(e){return new PS(e)}}function ES(e,t){return e[t]|e[t+1]<<16}function jS(e,t,n){for(let r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function MS(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const TS=ty({String:xy.string,Number:xy.number,"True False":xy.bool,PropertyName:xy.propertyName,Null:xy.null,",":xy.separator,"[ ]":xy.squareBracket,"{ }":xy.brace}),NS=PS.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[TS],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),IS=_y.define({name:"json",parser:NS.configure({props:[Wy.add({Object:Yy({except:/^\s*\}/}),Array:Yy({except:/^\s*\]/})}),Zy.add({"Object Array":function(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function DS(){return new Ly(IS)}function RS(e,t){const n=Date.now(),r=e();return t(Date.now()-n),r}function LS(e){let t,n,r;return{c(){t=_("div"),n=P("Line: "),r=P(e[0]),N(t,"class","jse-status-bar-info svelte-1oo7hnc")},m(e,i){S(e,t,i),$(t,n),$(t,r)},p(e,t){1&t&&L(r,e[0])},d(e){e&&C(t)}}}function BS(e){let t,n,r;return{c(){t=_("div"),n=P("Column: "),r=P(e[1]),N(t,"class","jse-status-bar-info svelte-1oo7hnc")},m(e,i){S(e,t,i),$(t,n),$(t,r)},p(e,t){2&t&&L(r,e[1])},d(e){e&&C(t)}}}function FS(e){let t,n,r,i;return{c(){t=_("div"),n=P("Selection: "),r=P(e[2]),i=P(" characters"),N(t,"class","jse-status-bar-info svelte-1oo7hnc")},m(e,o){S(e,t,o),$(t,n),$(t,r),$(t,i)},p(e,t){4&t&&L(r,e[2])},d(e){e&&C(t)}}}function VS(t){let n,r,i,o=void 0!==t[0]&&LS(t),s=void 0!==t[1]&&BS(t),a=void 0!==t[2]&&t[2]>0&&FS(t);return{c(){n=_("div"),o&&o.c(),r=E(),s&&s.c(),i=E(),a&&a.c(),N(n,"class","jse-status-bar svelte-1oo7hnc")},m(e,t){S(e,n,t),o&&o.m(n,null),$(n,r),s&&s.m(n,null),$(n,i),a&&a.m(n,null)},p(e,[t]){void 0!==e[0]?o?o.p(e,t):(o=LS(e),o.c(),o.m(n,r)):o&&(o.d(1),o=null),void 0!==e[1]?s?s.p(e,t):(s=BS(e),s.c(),s.m(n,i)):s&&(s.d(1),s=null),void 0!==e[2]&&e[2]>0?a?a.p(e,t):(a=FS(e),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&C(n),o&&o.d(),s&&s.d(),a&&a.d()}}}function zS(e,t,n){var r,i,o,s,a;let l,c,u,h,d,{editorState:f}=t;return e.$$set=e=>{"editorState"in e&&n(3,f=e.editorState)},e.$$.update=()=>{56&e.$$.dirty&&n(9,l=null===n(5,i=null===n(4,r=null==f?void 0:f.selection)||void 0===r?void 0:r.main)||void 0===i?void 0:i.head),584&e.$$.dirty&&n(10,c=null===n(6,o=null==f?void 0:f.doc)||void 0===o?void 0:o.lineAt(l)),1024&e.$$.dirty&&n(0,u=c?c.number:void 0),1536&e.$$.dirty&&n(1,h=c?l-c.from+1:void 0),392&e.$$.dirty&&n(2,d=null===n(8,a=null===n(7,s=null==f?void 0:f.selection)||void 0===s?void 0:s.ranges)||void 0===a?void 0:a.reduce(((e,t)=>e+t.to-t.from),0))},[u,h,d,f,r,i,o,s,a,l,c]}class qS extends qe{constructor(e){super(),ze(this,e,zS,VS,a,{editorState:3})}}const HS=wb.define([{tag:xy.propertyName,color:"var(--jse-key-color)"},{tag:xy.number,color:"var(--jse-value-color-number)"},{tag:xy.bool,color:"var(--jse-value-color-boolean)"},{tag:xy.string,color:"var(--jse-value-color-string)"},{tag:xy.keyword,color:"var(--jse-value-color-null)"}]),WS=Sb(HS),US=HS.style;function JS(e){let t,n;return t=new su({props:{readOnly:e[1],onFormat:e[17],onCompact:e[18],onSort:e[19],onTransform:e[20],onToggleSearch:e[21],onUndo:e[22],onRedo:e[23],canFormat:!e[15],canCompact:!e[15],canSort:!e[15],canTransform:!e[15],canUndo:e[10],canRedo:e[11],onRenderMenu:e[5]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.readOnly=e[1]),32768&n[0]&&(r.canFormat=!e[15]),32768&n[0]&&(r.canCompact=!e[15]),32768&n[0]&&(r.canSort=!e[15]),32768&n[0]&&(r.canTransform=!e[15]),1024&n[0]&&(r.canUndo=e[10]),2048&n[0]&&(r.canRedo=e[11]),32&n[0]&&(r.onRenderMenu=e[5]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function KS(t){let n;return{c(){n=_("div"),n.innerHTML='<div class="jse-loading-space svelte-1ol5grl"></div> \n      <div class="jse-loading svelte-1ol5grl">loading...</div>',N(n,"class","jse-contents svelte-1ol5grl")},m(e,t){S(e,n,t)},p:e,i:e,o:e,d(e){e&&C(n)}}}function GS(e){let t,n,r,i,o,s,a,l=e[14]&&QS(e),c=e[3]&&YS(e),u=e[12]&&XS(e);return s=new Lc({props:{validationErrors:e[9],selectError:e[26]}}),{c(){l&&l.c(),t=E(),n=_("div"),r=E(),c&&c.c(),i=E(),u&&u.c(),o=E(),Be(s.$$.fragment),N(n,"class","jse-contents svelte-1ol5grl"),H(n,"jse-hidden",e[14])},m(h,d){l&&l.m(h,d),S(h,t,d),S(h,n,d),e[46](n),S(h,r,d),c&&c.m(h,d),S(h,i,d),u&&u.m(h,d),S(h,o,d),Fe(s,h,d),a=!0},p(e,r){e[14]?l?(l.p(e,r),16384&r[0]&&Ae(l,1)):(l=QS(e),l.c(),Ae(l,1),l.m(t.parentNode,t)):l&&(Oe(),Pe(l,1,1,(()=>{l=null})),_e()),(!a||16384&r[0])&&H(n,"jse-hidden",e[14]),e[3]?c?(c.p(e,r),8&r[0]&&Ae(c,1)):(c=YS(e),c.c(),Ae(c,1),c.m(i.parentNode,i)):c&&(Oe(),Pe(c,1,1,(()=>{c=null})),_e()),e[12]?u?(u.p(e,r),4096&r[0]&&Ae(u,1)):(u=XS(e),u.c(),Ae(u,1),u.m(o.parentNode,o)):u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e());const h={};512&r[0]&&(h.validationErrors=e[9]),s.$set(h)},i(e){a||(Ae(l),Ae(c),Ae(u),Ae(s.$$.fragment,e),a=!0)},o(e){Pe(l),Pe(c),Pe(u),Pe(s.$$.fragment,e),a=!1},d(a){l&&l.d(a),a&&C(t),a&&C(n),e[46](null),a&&C(r),c&&c.d(a),a&&C(i),u&&u.d(a),a&&C(o),Ve(s,a)}}}function QS(e){let t,n;return t=new Oc({props:{icon:Ul,type:"error",message:`The JSON document is larger than ${Jl(At,1024)}, and may crash your browser when loading it in code mode. Actual size: ${Jl(e[0].length,1024)}.`,actions:[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:e[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:e[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:e[25]}]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.message=`The JSON document is larger than ${Jl(At,1024)}, and may crash your browser when loading it in code mode. Actual size: ${Jl(e[0].length,1024)}.`),16&n[0]&&(r.actions=[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:e[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:e[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:e[25]}]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function YS(e){let t,n;return t=new qS({props:{editorState:e[8]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.editorState=e[8]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function XS(e){let t,n;return t=new Oc({props:{type:"error",icon:Ul,message:e[12].message,actions:e[13],onClick:e[47]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};4096&n[0]&&(r.message=e[12].message),8192&n[0]&&(r.actions=e[13]),4096&n[0]&&(r.onClick=e[47]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function ZS(e){let t,n,r,i,o,s=e[2]&&JS(e);const a=[GS,KS],l=[];return r=function(e,t){return e[16]?1:0}(e),i=l[r]=a[r](e),{c(){t=_("div"),s&&s.c(),n=E(),i.c(),N(t,"class","jse-code-mode svelte-1ol5grl"),H(t,"no-main-menu",!e[2])},m(i,a){S(i,t,a),s&&s.m(t,null),$(t,n),l[r].m(t,null),e[48](t),o=!0},p(e,r){e[2]?s?(s.p(e,r),4&r[0]&&Ae(s,1)):(s=JS(e),s.c(),Ae(s,1),s.m(t,n)):s&&(Oe(),Pe(s,1,1,(()=>{s=null})),_e()),i.p(e,r),(!o||4&r[0])&&H(t,"no-main-menu",!e[2])},i(e){o||(Ae(s),Ae(i),o=!0)},o(e){Pe(s),Pe(i),o=!1},d(n){n&&C(t),s&&s.d(),l[r].d(),e[48](null)}}}function eC(e,t,n){let r,i,o,s,a,{readOnly:l=!1}=t,{mainMenuBar:c=!0}=t,{statusBar:u=!0}=t,{text:h=""}=t,{indentation:d=2}=t,{tabSize:f=4}=t,{escapeUnicodeCharacters:p=!1}=t,{validator:m=null}=t,{onChange:g=null}=t,{onSwitchToTreeMode:v=Cr}=t,{onError:y}=t,{onFocus:b=Cr}=t,{onBlur:w=Cr}=t,{onRenderMenu:$=Cr}=t,{onSortModal:x}=t,{onTransformModal:k}=t;const S=tt("jsoneditor:CodeMode"),C={key:"Mod-i",run:W,shift:U,preventDefault:!0},O="undefined"==typeof window;let _,A,P,E,j;S("isSSR:",O);let M=!1,T=[];const N=new nh,I=new nh,D=new nh;let R=p;ne((async()=>{if(!O)try{A=function({target:e,initialText:t,readOnly:r,indentation:i}){S("Create CodeMirror editor",{readOnly:r,indentation:i});const o=Ph.create({doc:t,extensions:[qm.of([S$,C]),Hk((()=>(ae.flush(),function(){if(S("validate"),n(44,ue=Rt),n(12,he=null),n(9,T=[]),h.length>Ot)return[{from:0,to:0,message:"Validation turned off: the document is too large",severity:"info"}];if(0===h.length)return[];try{const e=RS((()=>JSON.parse(h)),(e=>S(`validate: parsed json in ${e} ms`)));return m?(n(9,T=RS((()=>m(e)),(e=>S(`validate: validated json in ${e} ms`)))),T.map(X)):[]}catch(e){const t=RS((()=>function(e){if(e.length>_t)return!1;try{return JSON.parse(rn(e)),!0}catch(e){return!1}}(h)),(e=>S(`validate: checked whether repairable in ${e} ms`)));return n(12,he=Sn(h,e.message||e.toString())),n(44,ue=t?Lt:Bt),[Z(he,t)]}}())),{delay:300}),aS(),lS,WS,Im.domEventHandlers({dblclick:Y}),Im.updateListener.of((e=>{n(8,j=e.state),e.docChanged&&ae()})),DS(),G$({top:!0}),N.of(Ph.readOnly.of(r)),D.of(Ph.tabSize.of(f)),I.of(oe(i)),Im.lineWrapping]});return A=new Im({state:o,parent:e}),A}({target:_,initialText:o?"":h,readOnly:l,indentation:d}),z()}catch(e){console.error(e)}})),re((()=>{A&&(S("Destroy CodeMirror editor"),A.destroy())}));let L=!1,B=!1;const F=Hs(),V=Hs();function z(){A&&(S("focus"),A.focus())}let q=!1;function H(e){S("patch",e);const t=h,r=JSON.parse(h),i=Qt.immutableJSONPatch(r,e),o=Qt.revertJSONPatch(r,e);return n(0,h=JSON.stringify(i,null,d)),h!==t&&le(h,t),{json:i,previousJson:r,undo:o,redo:e}}function W(){if(S("format"),!l)try{const e=h,t=JSON.parse(h);n(0,h=JSON.stringify(t,null,d)),h!==e&&le(h,e)}catch(e){y(e)}}function U(){if(S("compact"),!l)try{const e=h,t=JSON.parse(h);n(0,h=JSON.stringify(t)),h!==e&&le(h,e)}catch(e){y(e)}}function J(){if(S("repair"),!l)try{const e=h;n(0,h=rn(h)),n(44,ue=Rt),n(12,he=void 0),h!==e&&le(h,e)}catch(e){y(e)}}function K({id:e,selectedPath:t,onTransform:n,onClose:r}){try{const i=JSON.parse(h);q=!0,k({id:e||V,json:i,selectedPath:t,onTransform:n?e=>{n({operations:e,json:i,transformedJson:Qt.immutableJSONPatch(i,e)})}:e=>{S("onTransform",e),H(e)},onClose:()=>{q=!1,z(),r&&r()}})}catch(e){y(e)}}function G(e){S("select parse error",e);const t=Z(e);Q(t.from,t.to),z()}function Q(e,t){S("setSelection",{anchor:e,head:t}),A&&A.dispatch(A.state.update({selection:{anchor:e,head:t},scrollIntoView:!0}))}function Y(e,t){if(1===t.state.selection.ranges.length){const e=t.state.selection.ranges[0],n=h.slice(e.from,e.to);if("{"===n||"["===n){const t=nn(h),n=Object.keys(t.pointers).find((n=>{var r;return(null===(r=t.pointers[n].value)||void 0===r?void 0:r.pos)===e.from})),r=t.pointers[n];if(n&&r&&r.value&&r.valueEnd){S("pointer found, selecting inner contents of path:",n,r);Q(r.value.pos+1,r.valueEnd.pos-1)}}}}function X(e){const{path:t,message:n,isChildError:r}=e,{line:i,column:o,from:s,to:a}=function(e,t){try{const n=nn(e),r=Qt.compileJSONPointer(t),i=n.pointers[r];if(i)return{path:t,line:i.key?i.key.line:i.value?i.value.line:0,column:i.key?i.key.column:i.value?i.value.column:0,from:i.key?i.key.pos:i.value?i.value.pos:0,to:i.keyEnd?i.keyEnd.pos:i.valueEnd?i.valueEnd.pos:0}}catch(e){console.error(e)}return null}(h,t);return{path:t,isChildError:r,line:i,column:o,from:s,to:a,message:n,severity:"warning",actions:[]}}function Z(e,t){const{line:n,column:r,position:i,message:o}=e;return{path:null,line:n,column:r,from:i||0,to:i||0,severity:"error",message:o,actions:t&&!l?[{name:"Auto repair",apply:()=>J()}]:null}}function ee(e,t=!1){!o||t?A&&e!==P&&(S("setCodeMirrorValue length=",e.length),P=e,A.dispatch({changes:{from:0,to:A.state.doc.length,insert:s.escapeValue(e)}}),se()):S("not applying text: editor is disabled")}function te(){S("forceUpdateText",{escapeUnicodeCharacters:p}),A&&A.dispatch({changes:{from:0,to:A.state.doc.length,insert:s.escapeValue(h)}})}function ie(){if(A&&(P=A?s.unescapeValue(A.state.doc.toString()):"",P!==h)){const e=P;S("text changed"),n(0,h=P),se(),le(h,e)}}function oe(e){return Fy.of("number"==typeof e?" ".repeat(e):e)}function se(){n(10,L=hw(A.state)>0),n(11,B=dw(A.state)>0),S({canUndo:L,canRedo:B})}Gl({onMount:ne,onDestroy:re,getWindow:()=>nl(E),hasFocus:()=>q&&document.hasFocus()||rl(E),onFocus:b,onBlur:w});const ae=vs(ie,300);function le(e,t){g&&g(e,t)}let ue=Rt,he=null;return e.$$set=e=>{"readOnly"in e&&n(1,l=e.readOnly),"mainMenuBar"in e&&n(2,c=e.mainMenuBar),"statusBar"in e&&n(3,u=e.statusBar),"text"in e&&n(0,h=e.text),"indentation"in e&&n(28,d=e.indentation),"tabSize"in e&&n(29,f=e.tabSize),"escapeUnicodeCharacters"in e&&n(30,p=e.escapeUnicodeCharacters),"validator"in e&&n(31,m=e.validator),"onChange"in e&&n(32,g=e.onChange),"onSwitchToTreeMode"in e&&n(4,v=e.onSwitchToTreeMode),"onError"in e&&n(33,y=e.onError),"onFocus"in e&&n(34,b=e.onFocus),"onBlur"in e&&n(35,w=e.onBlur),"onRenderMenu"in e&&n(5,$=e.onRenderMenu),"onSortModal"in e&&n(36,x=e.onSortModal),"onTransformModal"in e&&n(37,k=e.onTransformModal)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(15,r=0===h.length),1&e.$$.dirty[0]&&n(45,i=h&&h.length>At),18432&e.$$.dirty[1]&&n(14,o=i&&!M),1073741824&e.$$.dirty[0]&&(s=Ba({escapeControlCharacters:!1,escapeUnicodeCharacters:p})),1&e.$$.dirty[0]&&ee(h),268435456&e.$$.dirty[0]&&function(e){A&&(S("updateIndentation",e),A.dispatch({effects:I.reconfigure(oe(e))}))}(d),536870912&e.$$.dirty[0]&&function(e){A&&(S("updateTabSize",e),A.dispatch({effects:D.reconfigure(Ph.tabSize.of(e))}))}(f),2&e.$$.dirty[0]&&function(e){A&&(S("updateReadOnly",e),A.dispatch({effects:N.reconfigure(Ph.readOnly.of(e))}))}(l),1073741824&e.$$.dirty[0]|4096&e.$$.dirty[1]&&R!==p&&(n(43,R=p),te()),2&e.$$.dirty[0]|1&e.$$.dirty[1]&&te(),2&e.$$.dirty[0]|8192&e.$$.dirty[1]&&n(13,a=ue!==Lt||l?[]:[{icon:Pl,text:"Auto repair",title:"Automatically repair JSON",onClick:J}])},[h,l,c,u,v,$,_,E,j,T,L,B,he,a,o,r,O,W,U,function(){if(!l)try{const e=JSON.parse(h);q=!0,x({id:F,json:e,selectedPath:[],onSort:async e=>{S("onSort",e),H(e)},onClose:()=>{q=!1,z()}})}catch(e){y(e)}},function(){l||K({selectedPath:[]})},function(){A&&(_&&_.querySelector(".cm-search")?wx(A):bx(A))},function(){l||A&&(sw(A),z())},function(){l||A&&(aw(A),z())},function(){n(42,M=!0),ee(h,!0)},function(){ie()},function(e){S("select validation error",e);const t=X(e);Q(t.from,t.to),z()},G,d,f,p,m,g,y,b,w,x,k,z,H,K,function(){S("refresh");const e=A.state.doc.length;A.dispatch({changes:{from:e,to:e,insert:" "}}),A.dispatch({changes:{from:e,to:e+1,insert:""}})},M,R,ue,i,function(e){ce[e?"unshift":"push"]((()=>{_=e,n(6,_)}))},()=>G(he),function(e){ce[e?"unshift":"push"]((()=>{E=e,n(7,E)}))}]}HS.style=e=>US(e||[]);class tC extends qe{constructor(e){super(),ze(this,e,eC,ZS,l,{readOnly:1,mainMenuBar:2,statusBar:3,text:0,indentation:28,tabSize:29,escapeUnicodeCharacters:30,validator:31,onChange:32,onSwitchToTreeMode:4,onError:33,onFocus:34,onBlur:35,onRenderMenu:5,onSortModal:36,onTransformModal:37,focus:38,patch:39,openTransformModal:40,refresh:41},null,[-1,-1,-1])}get focus(){return this.$$.ctx[38]}get patch(){return this.$$.ctx[39]}get openTransformModal(){return this.$$.ctx[40]}get refresh(){return this.$$.ctx[41]}}const nC=tt("jsoneditor:AutoScrollHandler");function rC(e){let t,n;function r(e){return e<20?200:e<50?400:1200}function i(){if(e){const n=.05*t;e.scrollTop+=n}}function o(e){n&&e===t||(s(),nC("startAutoScroll",e),t=e,n=setInterval(i,50))}function s(){n&&(nC("stopAutoScroll"),clearInterval(n),n=void 0,t=void 0)}return nC("createAutoScrollHandler",e),{onDrag:function(t){if(e){const n=t.clientY,{top:i,bottom:a}=e.getBoundingClientRect();if(n<i){o(-r(i-n))}else if(n>a){o(r(n-a))}else s()}},onDragEnd:function(){s()}}}var iC=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;const oC=()=>{let e,t,n,r,i,o,s,a,l,c,u,h,d,f;function p(t){return t.getBoundingClientRect().top-(e.getBoundingClientRect?e.getBoundingClientRect().top:0)+n}function m(t){e.scrollTo?e.scrollTo(0,t):e.scrollTop=t}function g(e){c||(c=e),u=e-c,h=o(u,n,a,l),m(h),f=!0,u<l?requestAnimationFrame(g):function(){m(n+a),t&&s&&(t.setAttribute("tabindex","-1"),t.focus());"function"==typeof d&&d();c=!1,f=!1}()}return function(u,h={}){switch(l=h.duration||1e3,i=h.offset||0,d=h.callback,o=h.easing||iC,s=h.a11y||!1,typeof h.container){case"object":e=h.container;break;case"string":e=document.querySelector(h.container);break;default:e=window}switch(n=e.scrollY||e.pageYOffset||e.scrollTop,typeof u){case"number":t=void 0,s=!1,r=n+u;break;case"object":t=u,r=p(t);break;case"string":t=document.querySelector(u),r=p(t)}switch(a=r-n+i,typeof h.duration){case"number":l=h.duration;break;case"function":l=h.duration(a)}f?c=!1:requestAnimationFrame(g)}};function sC(e,t){const n=new Set(t),r=e.replace(/ \(copy( \d+)?\)$/,"");let i=e,o=1;for(;n.has(i);){i=`${r} (${"copy"+(o>1?" "+o:"")})`,o++}return i}function aC(e,t){const n=t-"...".length;return e.length>t?e.substr(0,n)+"...":e}function lC(e,t,n,r){const i=Cs(n),o=Qt.getIn(e,i);if(Array.isArray(o)){const e=parseInt(ys(n),10);return r.map(((t,n)=>({op:"add",path:Qt.compileJSONPointer(i.concat(e+n)),value:t.value})))}{const e=ys(n),o=oa(t,i),s=la(o,e,!0);return[...r.map((e=>{const t=sC(e.key,o);return{op:"add",path:Qt.compileJSONPointer(i.concat(t)),value:e.value}})),...s.map((e=>pC(i,e)))]}}function cC(e,t,n){const r=Qt.getIn(e,t);if(Array.isArray(r)){const e=r.length;return n.map(((n,r)=>({op:"add",path:Qt.compileJSONPointer(t.concat(e+r)),value:n.value})))}return n.map((e=>{const n=sC(e.key,Object.keys(r));return{op:"add",path:Qt.compileJSONPointer(t.concat(n)),value:e.value}}))}function uC(e,t,n,r){const i=sC(r,t.filter((e=>e!==n))),o=la(t,n,!1);return[{op:"move",from:Qt.compileJSONPointer(e.concat(n)),path:Qt.compileJSONPointer(e.concat(i))},...o.map((t=>pC(e,t)))]}function hC(e,t,n,r){if(n.type===ya){const e=wn(r),i=Cs(n.focusPath);return uC(i,oa(t,i),ys(n.focusPath),"string"==typeof e?e:r)}if(n.type===ba||n.type===wa&&_s(n.focusPath))try{return[{op:"replace",path:Qt.compileJSONPointer(n.focusPath),value:$n(r,bn)}]}catch(e){return[{op:"replace",path:Qt.compileJSONPointer(n.focusPath),value:r}]}if(n.type===wa){const i=mC(r);return function(e,t,n,r){const i=Cs(ks(n)),o=Qt.getIn(e,i);if(Array.isArray(o)){const e=ks(n),t=e?parseInt(ys(e),10):0;return[...fC(n),...r.map(((e,n)=>({op:"add",path:Qt.compileJSONPointer(i.concat(n+t)),value:e.value})))]}{const e=ys(n),i=Cs(e),o=ys(e),s=oa(t,i),a=la(s,o,!1),l=new Set(n.map((e=>ys(e)))),c=s.filter((e=>!l.has(e)));return[...fC(n),...r.map((e=>{const t=sC(e.key,c);return{op:"add",path:Qt.compileJSONPointer(i.concat(t)),value:e.value}})),...a.map((e=>pC(i,e)))]}}(e,t,n.paths,i)}if(n.type===ga){const i=mC(r),o=n.focusPath,s=Cs(o),a=Qt.getIn(e,s);if(Array.isArray(a)){const n=ys(o);return lC(e,t,s.concat([n+1]),i)}{const n=ys(o),r=oa(t,s);if(_s(r)||ys(r)===n)return cC(e,s,i);{const o=r.indexOf(n),a=r[o+1];return lC(e,t,s.concat([a]),i)}}}if(n.type===va){const i=mC(r),o=n.focusPath,s=Qt.getIn(e,o);if(Array.isArray(s)){return lC(e,t,o.concat([0]),i)}{const n=oa(t,o);if(_s(n))return cC(e,o,i);{const r=ks(n);return lC(e,t,o.concat([r]),i)}}}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(n))}function dC(e,t,n){if("object"===n)return{};if("array"===n)return[];if("structure"===n){const n=$a(t),i=Qt.getIn(e,n);if(Array.isArray(i)&&!_s(i)){const e=ks(i);return sn(e)?(r=e=>Array.isArray(e)?[]:on(e)?void 0:"",Vo(e,5,r="function"==typeof r?r:void 0)):""}}var r;return""}function fC(e){return e.map((e=>({op:"remove",path:Qt.compileJSONPointer(e)}))).reverse()}function pC(e,t){return{op:"move",from:Qt.compileJSONPointer(e.concat(t)),path:Qt.compileJSONPointer(e.concat(t))}}function mC(e){const t=/^\s*{/.test(e),n=/^\s*\[/.test(e),r=wn(e),i=void 0!==r?r:$n(e,bn);return t&&on(i)||n&&Array.isArray(i)?[{key:"New item",value:i}]:Array.isArray(i)?i.map(((e,t)=>({key:"New item "+t,value:e}))):on(i)?Object.keys(i).map((e=>({key:e,value:i[e]}))):[{key:"New item",value:i}]}function gC(e,t,n){if(n.type===ya){const r=Cs(n.focusPath),i=uC(r,oa(t,r),ys(n.focusPath),"");return{operations:i,newSelection:Aa(e,0,i)}}if(n.type===ba){return{operations:[{op:"replace",path:Qt.compileJSONPointer(n.focusPath),value:""}],newSelection:n}}if(n.type===wa){const r=fC(n.paths),i=ys(n.paths);if(_s(i)){return{operations:[{op:"replace",path:"",value:""}],newSelection:Na(e,t,{type:ba,path:[]})}}const o=Cs(i),s=Qt.getIn(e,o);if(Array.isArray(s)){const i=ys(ks(n.paths));return{operations:r,newSelection:Na(e,t,0===i?{type:va,path:o}:{type:ga,path:o.concat([i-1])})}}{const i=oa(t,o),s=ys(ks(n.paths)),a=i.indexOf(s),l=i[a-1];return{operations:r,newSelection:Na(e,t,0===a?{type:va,path:o}:{type:ga,path:o.concat([l])})}}}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(n))}function vC(e,t,n){const r=t,i=function(e,t){let n={};return t.forEach((t=>{const r=t.path;if(!Qt.existsIn(n,r)){const t=Qt.getIn(e,r);n=Qt.setIn(n,r,Array.isArray(t)?[]:{},!0)}n=Qt.setIn(n,kC(t),t,!0)})),n}(e,r),o=n&&n.activeItem?kC(n.activeItem):void 0,s=o&&Qt.existsIn(i,o)?Qt.getIn(i,o):r[0],a=r.findIndex((e=>{return n=s,(t=e).start===n.start&&t.field===n.field&&As(t.path,n.path);var t,n}));return{items:i,itemsWithActive:i&&s&&-1!==a?Qt.setIn(i,xC(s),!0):i,flatItems:r,count:r.length,activeItem:s,activeIndex:a}}function yC(e,t,n,r=1/0){const i=[],o=[];function s(e){i.length<r&&i.push(e)}if("string"==typeof e&&""!==e){!function e(t,n,a){if(Array.isArray(n)){const s=o.length;o.push(0);for(let l=0;l<n.length;l++)if(o[s]=l,e(t,n[l],a?a[l]:void 0),i.length>=r)return;o.pop()}else if(null!==n&&"object"==typeof n){const l=o.length;o.push(0);const c=a?a[vt]:Object.keys(n);for(const u of c)if(o[l]=u,bC(u,t,o,yt,s),e(t,n[u],a?a[u]:void 0),i.length>=r)return;o.pop()}else bC(n,t,o,bt,s)}(e.toLowerCase(),t,n)}return i}function bC(e,t,n,r,i){const o=String(e).toLowerCase();let s=0,a=-1,l=-1;do{l=o.indexOf(t,a),-1!==l&&(a=l+t.length,i({path:n.slice(0),field:r,fieldIndex:s,start:l,end:a,active:!1}),s++)}while(-1!==l)}function wC(e,t,n,r){return e.substring(0,n)+t+e.substring(r)}function $C(e,t,n){let r=e;var i,o;return o=e=>{r=wC(r,t,e.start,e.end)},(Wn(i=n)?ws:xs)(i,bs(o)),r}function xC(e){return e.path.concat(e.field,e.fieldIndex,"active")}function kC(e){return e.path.concat(e.field,e.fieldIndex)}function SC(e){let t,n,r,i,o,s,a,l,c;return s=new bc({props:{data:ql}}),{c(){t=_("div"),n=_("div"),r=P(e[0]),i=E(),o=_("button"),Be(s.$$.fragment),N(n,"class","jse-title svelte-d01h2s"),N(o,"type","button"),N(o,"class","jse-close svelte-d01h2s"),N(t,"class","jse-header svelte-d01h2s")},m(u,h){S(u,t,h),$(t,n),$(n,r),$(t,i),$(t,o),Fe(s,o,null),a=!0,l||(c=M(o,"click",e[1]),l=!0)},p(e,[t]){(!a||1&t)&&L(r,e[0])},i(e){a||(Ae(s.$$.fragment,e),a=!0)},o(e){Pe(s.$$.fragment,e),a=!1},d(e){e&&C(t),Ve(s),l=!1,c()}}}function CC(e,t,n){let{title:r="Modal"}=t;const{close:i}=se("simple-modal");return e.$$set=e=>{"title"in e&&n(0,r=e.title)},[r,i]}class OC extends qe{constructor(e){super(),ze(this,e,CC,SC,l,{title:0})}}function _C(t){let n,r,i,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,x,k,O,A,j;return r=new OC({props:{title:"Copying and pasting"}}),{c(){n=_("div"),Be(r.$$.fragment),i=E(),o=_("div"),s=_("div"),s.textContent="These actions are unavailable via the menu. Please use:",a=E(),l=_("div"),c=_("div"),u=_("div"),u.textContent=`${t[1]}+C`,h=P("\n        for copy"),d=E(),f=_("div"),p=_("div"),p.textContent=`${t[1]}+X`,m=P("\n        for cut"),g=E(),v=_("div"),y=_("div"),y.textContent=`${t[1]}+V`,b=P("\n        for paste"),w=E(),x=_("div"),k=_("button"),k.textContent="Close",N(u,"class","jse-key svelte-t45ah0"),N(c,"class","jse-shortcut"),N(p,"class","jse-key svelte-t45ah0"),N(f,"class","jse-shortcut"),N(y,"class","jse-key svelte-t45ah0"),N(v,"class","jse-shortcut"),N(l,"class","jse-shortcuts svelte-t45ah0"),N(k,"type","button"),N(k,"class","jse-primary svelte-t45ah0"),N(x,"class","jse-actions svelte-t45ah0"),N(o,"class","jse-contents svelte-t45ah0"),N(n,"class","jse-modal jse-copy-paste svelte-t45ah0")},m(e,C){S(e,n,C),Fe(r,n,null),$(n,i),$(n,o),$(o,s),$(o,a),$(o,l),$(l,c),$(c,u),$(c,h),$(l,d),$(l,f),$(f,p),$(f,m),$(l,g),$(l,v),$(v,y),$(v,b),$(o,w),$(o,x),$(x,k),O=!0,A||(j=M(k,"click",t[0]),A=!0)},p:e,i(e){O||(Ae(r.$$.fragment,e),O=!0)},o(e){Pe(r.$$.fragment,e),O=!1},d(e){e&&C(n),Ve(r),A=!1,j()}}}function AC(e){const{close:t}=se("simple-modal");return[t,cl?"⌘":"Ctrl"]}class PC extends qe{constructor(e){super(),ze(this,e,AC,_C,l,{})}}function EC(t){let n;return{c(){n=_("div"),n.textContent="Repair invalid JSON, then click apply",N(n,"slot","left"),N(n,"class","jse-info svelte-gz09vf")},m(e,t){S(e,n,t)},p:e,d(e){e&&C(n)}}}function jC(e){let t,n;return t=new Oc({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:e[5]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.actions=e[5]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function MC(e){let t,n;return t=new Oc({props:{type:"error",icon:Ul,message:`Cannot parse JSON: ${e[2].message}`,actions:e[6]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.message=`Cannot parse JSON: ${e[2].message}`),64&n&&(r.actions=e[6]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function TC(e){let t,n,r,i,o,s,a,l,c,u;n=new nu({props:{items:e[7],$$slots:{left:[EC]},$$scope:{ctx:e}}});const h=[MC,jC],d=[];function f(e,t){return e[2]?0:1}return i=f(e),o=d[i]=h[i](e),{c(){t=_("div"),Be(n.$$.fragment),r=E(),o.c(),s=E(),a=_("textarea"),a.value=e[0],a.readOnly=e[1],N(a,"class","jse-json-text svelte-gz09vf"),N(a,"autocomplete","off"),N(a,"autocapitalize","off"),N(a,"spellcheck","false"),N(t,"class","jse-json-repair-component svelte-gz09vf")},m(o,h){S(o,t,h),Fe(n,t,null),$(t,r),d[i].m(t,null),$(t,s),$(t,a),e[21](a),e[22](t),l=!0,c||(u=M(a,"input",e[8]),c=!0)},p(e,[r]){const c={};128&r&&(c.items=e[7]),536870912&r&&(c.$$scope={dirty:r,ctx:e}),n.$set(c);let u=i;i=f(e),i===u?d[i].p(e,r):(Oe(),Pe(d[u],1,1,(()=>{d[u]=null})),_e(),o=d[i],o?o.p(e,r):(o=d[i]=h[i](e),o.c()),Ae(o,1),o.m(t,s)),(!l||1&r)&&(a.value=e[0]),(!l||2&r)&&(a.readOnly=e[1])},i(e){l||(Ae(n.$$.fragment,e),Ae(o),l=!0)},o(e){Pe(n.$$.fragment,e),Pe(o),l=!1},d(r){r&&C(t),Ve(n),d[i].d(),e[21](null),e[22](null),c=!1,u()}}}function NC(e,t,n){let r,i,o,s,a,l,c,u,{text:h=""}=t,{readOnly:d=!1}=t,{onParse:f}=t,{onRepair:p}=t,{onChange:m=null}=t,{onApply:g}=t,{onCancel:v}=t,{onFocus:y}=t,{onBlur:b}=t,{onRenderMenu:w=Cr}=t;const $=tt("jsoneditor:JSONRepair");let x,k;function S(){g(h)}return Gl({onMount:ne,onDestroy:re,getWindow:()=>nl(x),hasFocus:()=>rl(x),onFocus:()=>{y&&y()},onBlur:()=>{b&&b()}}),e.$$set=e=>{"text"in e&&n(0,h=e.text),"readOnly"in e&&n(1,d=e.readOnly),"onParse"in e&&n(9,f=e.onParse),"onRepair"in e&&n(10,p=e.onRepair),"onChange"in e&&n(11,m=e.onChange),"onApply"in e&&n(12,g=e.onApply),"onCancel"in e&&n(13,v=e.onCancel),"onFocus"in e&&n(14,y=e.onFocus),"onBlur"in e&&n(15,b=e.onBlur),"onRenderMenu"in e&&n(16,w=e.onRenderMenu)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=function(e){try{return f(e),null}catch(t){return Sn(e,t.message)}}(h)),1&e.$$.dirty&&n(19,i=function(e){try{return p(e),!0}catch(e){return!1}}(h)),4&e.$$.dirty&&$("error",r),8192&e.$$.dirty&&n(20,o=[{space:!0},{icon:ql,title:"Cancel repair",className:"jse-cancel",onClick:v}]),1114112&e.$$.dirty&&n(7,s=w("repair",o)||o),917504&e.$$.dirty&&n(6,c=i?[a,l]:[a]),2&e.$$.dirty&&n(5,u=[{icon:Wl,text:"Apply",title:"Apply fixed JSON",disabled:d,onClick:S}])},n(17,a={icon:Bl,text:"Show me",title:"Scroll to the error location",onClick:function(){k&&r&&null!=r.position&&(k.setSelectionRange(r.position,r.position),setTimeout((()=>{k.focus()})))}}),n(18,l={icon:Pl,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{n(0,h=p(h)),m&&m(h)}catch(e){}}}),[h,d,r,x,k,u,c,s,function(e){$("handleChange");const t=e.target.value;h!==t&&(n(0,h=t),m&&m(h))},f,p,m,g,v,y,b,w,a,l,i,o,function(e){ce[e?"unshift":"push"]((()=>{k=e,n(4,k)}))},function(e){ce[e?"unshift":"push"]((()=>{x=e,n(3,x)}))}]}class IC extends qe{constructor(e){super(),ze(this,e,NC,TC,l,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onFocus:14,onBlur:15,onRenderMenu:16})}}function DC(e){let t,n,r,i;function o(t){e[9](t)}let s={onParse:e[1],onRepair:e[2],onApply:e[6],onCancel:e[7],onFocus:e[3],onBlur:e[4],onRenderMenu:e[5]};return void 0!==e[0]&&(s.text=e[0]),n=new IC({props:s}),ce.push((()=>Le(n,"text",o,e[0]))),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-modal jse-repair svelte-1ffm3pm")},m(e,r){S(e,t,r),Fe(n,t,null),i=!0},p(e,[t]){const i={};2&t&&(i.onParse=e[1]),4&t&&(i.onRepair=e[2]),8&t&&(i.onFocus=e[3]),16&t&&(i.onBlur=e[4]),32&t&&(i.onRenderMenu=e[5]),!r&&1&t&&(r=!0,i.text=e[0],ve((()=>r=!1))),n.$set(i)},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),Ve(n)}}}function RC(e,t,n){let{text:r}=t,{onParse:i}=t,{onRepair:o}=t,{onApply:s}=t,{onFocus:a}=t,{onBlur:l}=t,{onRenderMenu:c}=t;const{close:u}=se("simple-modal");return e.$$set=e=>{"text"in e&&n(0,r=e.text),"onParse"in e&&n(1,i=e.onParse),"onRepair"in e&&n(2,o=e.onRepair),"onApply"in e&&n(8,s=e.onApply),"onFocus"in e&&n(3,a=e.onFocus),"onBlur"in e&&n(4,l=e.onBlur),"onRenderMenu"in e&&n(5,c=e.onRenderMenu)},[r,i,o,a,l,c,function(e){u(),s(e)},function(){u()},s,function(e){r=e,n(0,r)}]}class LC extends qe{constructor(e){super(),ze(this,e,RC,DC,l,{text:0,onParse:1,onRepair:2,onApply:8,onFocus:3,onBlur:4,onRenderMenu:5})}}function BC(e,t,n){const r=e.slice();return r[10]=t[n],r}const FC=e=>({}),VC=e=>({});function zC(e){let t,n;return t=new bc({props:{data:e[10].icon}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.data=e[10].icon),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function qC(e){let t,n,r,i,o,s,a,l,c,u,h=e[10].text+"",d=e[10].icon&&zC(e);function f(){return e[8](e[10])}return{c(){t=_("li"),n=_("button"),d&&d.c(),r=E(),i=P(h),a=E(),N(n,"type","button"),N(n,"title",o=e[10].title),n.disabled=s=e[10].disabled,N(n,"class","svelte-mojfmz"),N(t,"class","svelte-mojfmz")},m(e,o){S(e,t,o),$(t,n),d&&d.m(n,null),$(n,r),$(n,i),$(t,a),l=!0,c||(u=M(n,"click",f),c=!0)},p(t,a){(e=t)[10].icon?d?(d.p(e,a),1&a&&Ae(d,1)):(d=zC(e),d.c(),Ae(d,1),d.m(n,r)):d&&(Oe(),Pe(d,1,1,(()=>{d=null})),_e()),(!l||1&a)&&h!==(h=e[10].text+"")&&L(i,h),(!l||1&a&&o!==(o=e[10].title))&&N(n,"title",o),(!l||1&a&&s!==(s=e[10].disabled))&&(n.disabled=s)},i(e){l||(Ae(d),l=!0)},o(e){Pe(d),l=!1},d(e){e&&C(t),d&&d.d(),c=!1,u()}}}function HC(e){let t,n,r,i,s,a,l,u,p,m;const g=e[7].defaultItem,v=c(g,e,e[6],VC);i=new bc({props:{data:Il}});let y=e[0],b=[];for(let t=0;t<y.length;t+=1)b[t]=qC(BC(e,y,t));const w=e=>Pe(b[e],1,1,(()=>{b[e]=null}));return{c(){t=_("div"),v&&v.c(),n=E(),r=_("button"),Be(i.$$.fragment),s=E(),a=_("div"),l=_("ul");for(let e=0;e<b.length;e+=1)b[e].c();N(r,"type","button"),N(r,"class","jse-open-dropdown svelte-mojfmz"),N(r,"data-type","jse-open-dropdown"),H(r,"jse-visible",e[3]),N(l,"class","svelte-mojfmz"),N(a,"class","jse-dropdown-items svelte-mojfmz"),F(a,"width",e[2]),H(a,"jse-visible",e[3]),N(t,"class","jse-dropdown-button svelte-mojfmz"),N(t,"title",e[1])},m(o,c){S(o,t,c),v&&v.m(t,null),$(t,n),$(t,r),Fe(i,r,null),$(t,s),$(t,a),$(a,l);for(let e=0;e<b.length;e+=1)b[e].m(l,null);u=!0,p||(m=[M(r,"click",e[4]),M(t,"click",e[5])],p=!0)},p(e,[n]){if(v&&v.p&&(!u||64&n)&&d(v,g,e,e[6],u?h(g,e[6],n,FC):f(e[6]),VC),(!u||8&n)&&H(r,"jse-visible",e[3]),1&n){let t;for(y=e[0],t=0;t<y.length;t+=1){const r=BC(e,y,t);b[t]?(b[t].p(r,n),Ae(b[t],1)):(b[t]=qC(r),b[t].c(),Ae(b[t],1),b[t].m(l,null))}for(Oe(),t=y.length;t<b.length;t+=1)w(t);_e()}(!u||4&n)&&F(a,"width",e[2]),(!u||8&n)&&H(a,"jse-visible",e[3]),(!u||2&n)&&N(t,"title",e[1])},i(e){if(!u){Ae(v,e),Ae(i.$$.fragment,e);for(let e=0;e<y.length;e+=1)Ae(b[e]);u=!0}},o(e){Pe(v,e),Pe(i.$$.fragment,e),b=b.filter(Boolean);for(let e=0;e<b.length;e+=1)Pe(b[e]);u=!1},d(e){e&&C(t),v&&v.d(e),Ve(i),O(b,e),p=!1,o(m)}}}function WC(e,t,n){let{$$slots:r={},$$scope:i}=t,{items:o=[]}=t,{title:s}=t,{width:a="120px"}=t,l=!1;function c(){n(3,l=!1)}function u(e){"Escape"===ul(e)&&(e.preventDefault(),n(3,l=!1))}ne((()=>{document.addEventListener("click",c),document.addEventListener("keydown",u)})),re((()=>{document.removeEventListener("click",c),document.removeEventListener("keydown",u)}));return e.$$set=e=>{"items"in e&&n(0,o=e.items),"title"in e&&n(1,s=e.title),"width"in e&&n(2,a=e.width),"$$scope"in e&&n(6,i=e.$$scope)},[o,s,a,l,function(){const e=l;setTimeout((()=>n(3,l=!e)))},c,i,r,e=>e.onClick()]}class UC extends qe{constructor(e){super(),ze(this,e,WC,HC,l,{items:0,title:1,width:2})}}var JC={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"]},KC={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},GC={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"]},QC={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]};function YC(e){let t,n,r,i,o,s,a;return n=new bc({props:{data:El}}),{c(){t=_("button"),Be(n.$$.fragment),r=P(" Edit value"),N(t,"type","button"),N(t,"slot","defaultItem"),N(t,"title","Edit the value (Double-click on the value)"),t.disabled=i=!e[2],N(t,"class","svelte-1yai37q")},m(i,l){S(i,t,l),Fe(n,t,null),$(t,r),o=!0,s||(a=M(t,"click",e[18]),s=!0)},p(e,n){(!o||4&n[0]&&i!==(i=!e[2]))&&(t.disabled=i)},i(e){o||(Ae(n.$$.fragment,e),o=!0)},o(e){Pe(n.$$.fragment,e),o=!1},d(e){e&&C(t),Ve(n),s=!1,a()}}}function XC(e){let t,n,r,i,o,s,a;return n=new bc({props:{data:xl}}),{c(){t=_("button"),Be(n.$$.fragment),r=P(" Cut"),N(t,"type","button"),N(t,"slot","defaultItem"),N(t,"title","Cut selected contents, formatted with indentation (Ctrl+X)"),t.disabled=i=!e[1],N(t,"class","svelte-1yai37q")},m(i,l){S(i,t,l),Fe(n,t,null),$(t,r),o=!0,s||(a=M(t,"click",e[19]),s=!0)},p(e,n){(!o||2&n[0]&&i!==(i=!e[1]))&&(t.disabled=i)},i(e){o||(Ae(n.$$.fragment,e),o=!0)},o(e){Pe(n.$$.fragment,e),o=!1},d(e){e&&C(t),Ve(n),s=!1,a()}}}function ZC(e){let t,n,r,i,o,s,a;return n=new bc({props:{data:zl}}),{c(){t=_("button"),Be(n.$$.fragment),r=P(" Copy"),N(t,"type","button"),N(t,"slot","defaultItem"),N(t,"title","Copy selected contents, formatted with indentation (Ctrl+C)"),t.disabled=i=!e[1],N(t,"class","svelte-1yai37q")},m(i,l){S(i,t,l),Fe(n,t,null),$(t,r),o=!0,s||(a=M(t,"click",e[20]),s=!0)},p(e,n){(!o||2&n[0]&&i!==(i=!e[1]))&&(t.disabled=i)},i(e){o||(Ae(n.$$.fragment,e),o=!0)},o(e){Pe(n.$$.fragment,e),o=!1},d(e){e&&C(t),Ve(n),s=!1,a()}}}function eO(t){let n,r,i,o,s,a,l;return o=new bc({props:{data:JC}}),{c(){n=_("div"),r=_("div"),i=_("div"),Be(o.$$.fragment),s=E(),a=_("div"),a.textContent="Tip: you can open this context menu via right-click or with Ctrl+Q",N(i,"class","svelte-1yai37q"),N(a,"class","svelte-1yai37q"),N(r,"class","jse-tip svelte-1yai37q"),N(n,"class","jse-row svelte-1yai37q")},m(e,t){S(e,n,t),$(n,r),$(r,i),Fe(o,i,null),$(r,s),$(r,a),l=!0},p:e,i(e){l||(Ae(o.$$.fragment,e),l=!0)},o(e){Pe(o.$$.fragment,e),l=!1},d(e){e&&C(n),Ve(o)}}}function tO(e){let t,n,r,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,x,k,O,A,j,T,I,D,R,B,F,V,z,q,H,W,U,J,K,G,Q,Y,X,Z,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,he,de,fe,pe,me,ge,ve,ye,be,we,$e,xe,ke,Se,Ce,Ee,je,Me,Te,Ne,Ie,De,Re,Le,ze,qe,He,We,Ue,Je,Ke,Ge,Qe,Ye,Xe,Ze,et,tt,nt,rt,it,ot;i=new bc({props:{data:El}}),c=new UC({props:{width:"11em",items:e[8],$$slots:{defaultItem:[YC]},$$scope:{ctx:e}}}),p=new UC({props:{width:"10em",items:e[7],$$slots:{defaultItem:[XC]},$$scope:{ctx:e}}}),g=new UC({props:{width:"12em",items:e[6],$$slots:{defaultItem:[ZC]},$$scope:{ctx:e}}}),b=new bc({props:{data:wl}}),D=new bc({props:{data:ql}}),z=new bc({props:{data:Hl}}),J=new bc({props:{data:Tl}}),X=new bc({props:{data:Rl}}),re=new bc({props:{data:_l}}),Ke=new bc({props:{data:Ol}}),Ze=new bc({props:{data:kl}});let st=e[0]&&eO();return{c(){t=_("div"),n=_("div"),r=_("button"),Be(i.$$.fragment),s=P(" Edit key"),l=E(),Be(c.$$.fragment),u=E(),h=_("div"),d=E(),f=_("div"),Be(p.$$.fragment),m=E(),Be(g.$$.fragment),v=E(),y=_("button"),Be(b.$$.fragment),w=P(" Paste"),k=E(),O=_("div"),A=E(),j=_("div"),T=_("div"),I=_("button"),Be(D.$$.fragment),R=P(" Remove"),F=E(),V=_("button"),Be(z.$$.fragment),q=P(" Duplicate"),W=E(),U=_("button"),Be(J.$$.fragment),K=P(" Extract"),Q=E(),Y=_("button"),Be(X.$$.fragment),Z=P(" Sort"),te=E(),ne=_("button"),Be(re.$$.fragment),ie=P(" Transform"),se=E(),ae=_("div"),le=_("div"),ce=P(e[13]),ue=P(":"),he=E(),de=_("button"),fe=_("span"),pe=_("span"),pe.textContent="+",me=P(" Structure"),ye=E(),be=_("button"),we=_("span"),we.textContent="{}",$e=P(" Object"),Se=E(),Ce=_("button"),Ee=_("span"),Ee.textContent="[]",je=P(" Array"),Ne=E(),Ie=_("button"),De=_("span"),De.innerHTML='<span class="jse-quote svelte-1yai37q">&quot;</span>',Re=P(" Value"),qe=E(),He=_("div"),We=E(),Ue=_("div"),Je=_("button"),Be(Ke.$$.fragment),Ge=P(" Insert before"),Ye=E(),Xe=_("button"),Be(Ze.$$.fragment),et=P(" Insert after"),nt=E(),st&&st.c(),N(r,"type","button"),N(r,"title","Edit the key (Double-click on the key)"),r.disabled=a=!e[14],N(r,"class","svelte-1yai37q"),N(n,"class","jse-row svelte-1yai37q"),N(h,"class","jse-separator svelte-1yai37q"),N(y,"type","button"),N(y,"title","Paste clipboard contents (Ctrl+V)"),y.disabled=x=!e[3],N(y,"class","svelte-1yai37q"),N(f,"class","jse-row svelte-1yai37q"),N(O,"class","jse-separator svelte-1yai37q"),N(I,"type","button"),N(I,"title","Remove selected contents (Delete)"),I.disabled=B=!e[1],N(I,"class","svelte-1yai37q"),N(V,"type","button"),N(V,"title","Duplicate selected contents (Ctrl+D)"),V.disabled=H=!e[16],N(V,"class","svelte-1yai37q"),N(U,"type","button"),N(U,"title","Extract selected contents"),U.disabled=G=!e[15],N(U,"class","svelte-1yai37q"),N(Y,"type","button"),N(Y,"title","Sort array or object contents"),Y.disabled=ee=!e[1],N(Y,"class","svelte-1yai37q"),N(ne,"type","button"),N(ne,"title","Transform array or object contents (filter, sort, project)"),ne.disabled=oe=!e[1],N(ne,"class","svelte-1yai37q"),N(T,"class","jse-column svelte-1yai37q"),N(le,"class","jse-label svelte-1yai37q"),N(pe,"class","jse-plus svelte-1yai37q"),N(fe,"class","jse-insert svelte-1yai37q"),N(de,"type","button"),N(de,"title",ge=e[13]+" structure"),de.disabled=ve=!e[12],N(de,"class","svelte-1yai37q"),N(we,"class","jse-insert svelte-1yai37q"),N(be,"type","button"),N(be,"title",xe=e[13]+" object"),be.disabled=ke=!e[11],N(be,"class","svelte-1yai37q"),N(Ee,"class","jse-insert svelte-1yai37q"),N(Ce,"type","button"),N(Ce,"title",Me=e[13]+" array"),Ce.disabled=Te=!e[10],N(Ce,"class","svelte-1yai37q"),N(De,"class","jse-insert svelte-1yai37q"),N(Ie,"type","button"),N(Ie,"title",Le=e[13]+" value"),Ie.disabled=ze=!e[9],N(Ie,"class","svelte-1yai37q"),N(ae,"class","jse-column svelte-1yai37q"),N(j,"class","jse-row svelte-1yai37q"),N(He,"class","jse-separator svelte-1yai37q"),N(Je,"type","button"),N(Je,"title","Select area before current entry to insert or paste contents"),Je.disabled=Qe=!e[1]||e[4],N(Je,"class","svelte-1yai37q"),N(Xe,"type","button"),N(Xe,"title","Select area after current entry to insert or paste contents"),Xe.disabled=tt=!e[1]||e[4],N(Xe,"class","svelte-1yai37q"),N(Ue,"class","jse-row svelte-1yai37q"),N(t,"class","jse-contextmenu svelte-1yai37q")},m(o,a){S(o,t,a),$(t,n),$(n,r),Fe(i,r,null),$(r,s),$(n,l),Fe(c,n,null),$(t,u),$(t,h),$(t,d),$(t,f),Fe(p,f,null),$(f,m),Fe(g,f,null),$(f,v),$(f,y),Fe(b,y,null),$(y,w),$(t,k),$(t,O),$(t,A),$(t,j),$(j,T),$(T,I),Fe(D,I,null),$(I,R),$(T,F),$(T,V),Fe(z,V,null),$(V,q),$(T,W),$(T,U),Fe(J,U,null),$(U,K),$(T,Q),$(T,Y),Fe(X,Y,null),$(Y,Z),$(T,te),$(T,ne),Fe(re,ne,null),$(ne,ie),$(j,se),$(j,ae),$(ae,le),$(le,ce),$(le,ue),$(ae,he),$(ae,de),$(de,fe),$(fe,pe),$(de,me),$(ae,ye),$(ae,be),$(be,we),$(be,$e),$(ae,Se),$(ae,Ce),$(Ce,Ee),$(Ce,je),$(ae,Ne),$(ae,Ie),$(Ie,De),$(Ie,Re),$(t,qe),$(t,He),$(t,We),$(t,Ue),$(Ue,Je),Fe(Ke,Je,null),$(Je,Ge),$(Ue,Ye),$(Ue,Xe),Fe(Ze,Xe,null),$(Xe,et),$(t,nt),st&&st.m(t,null),e[58](t),rt=!0,it||(ot=[M(r,"click",e[17]),M(y,"click",e[21]),M(I,"click",e[22]),M(V,"click",e[23]),M(U,"click",e[24]),M(Y,"click",e[26]),M(ne,"click",e[27]),M(de,"click",e[54]),M(be,"click",e[55]),M(Ce,"click",e[56]),M(Ie,"click",e[57]),M(Je,"click",e[28]),M(Xe,"click",e[29]),M(t,"keydown",e[30])],it=!0)},p(e,n){(!rt||16384&n[0]&&a!==(a=!e[14]))&&(r.disabled=a);const i={};256&n[0]&&(i.items=e[8]),4&n[0]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),c.$set(i);const o={};128&n[0]&&(o.items=e[7]),2&n[0]|1&n[2]&&(o.$$scope={dirty:n,ctx:e}),p.$set(o);const s={};64&n[0]&&(s.items=e[6]),2&n[0]|1&n[2]&&(s.$$scope={dirty:n,ctx:e}),g.$set(s),(!rt||8&n[0]&&x!==(x=!e[3]))&&(y.disabled=x),(!rt||2&n[0]&&B!==(B=!e[1]))&&(I.disabled=B),(!rt||65536&n[0]&&H!==(H=!e[16]))&&(V.disabled=H),(!rt||32768&n[0]&&G!==(G=!e[15]))&&(U.disabled=G),(!rt||2&n[0]&&ee!==(ee=!e[1]))&&(Y.disabled=ee),(!rt||2&n[0]&&oe!==(oe=!e[1]))&&(ne.disabled=oe),(!rt||8192&n[0])&&L(ce,e[13]),(!rt||8192&n[0]&&ge!==(ge=e[13]+" structure"))&&N(de,"title",ge),(!rt||4096&n[0]&&ve!==(ve=!e[12]))&&(de.disabled=ve),(!rt||8192&n[0]&&xe!==(xe=e[13]+" object"))&&N(be,"title",xe),(!rt||2048&n[0]&&ke!==(ke=!e[11]))&&(be.disabled=ke),(!rt||8192&n[0]&&Me!==(Me=e[13]+" array"))&&N(Ce,"title",Me),(!rt||1024&n[0]&&Te!==(Te=!e[10]))&&(Ce.disabled=Te),(!rt||8192&n[0]&&Le!==(Le=e[13]+" value"))&&N(Ie,"title",Le),(!rt||512&n[0]&&ze!==(ze=!e[9]))&&(Ie.disabled=ze),(!rt||18&n[0]&&Qe!==(Qe=!e[1]||e[4]))&&(Je.disabled=Qe),(!rt||18&n[0]&&tt!==(tt=!e[1]||e[4]))&&(Xe.disabled=tt),e[0]?st?(st.p(e,n),1&n[0]&&Ae(st,1)):(st=eO(),st.c(),Ae(st,1),st.m(t,null)):st&&(Oe(),Pe(st,1,1,(()=>{st=null})),_e())},i(e){rt||(Ae(i.$$.fragment,e),Ae(c.$$.fragment,e),Ae(p.$$.fragment,e),Ae(g.$$.fragment,e),Ae(b.$$.fragment,e),Ae(D.$$.fragment,e),Ae(z.$$.fragment,e),Ae(J.$$.fragment,e),Ae(X.$$.fragment,e),Ae(re.$$.fragment,e),Ae(Ke.$$.fragment,e),Ae(Ze.$$.fragment,e),Ae(st),rt=!0)},o(e){Pe(i.$$.fragment,e),Pe(c.$$.fragment,e),Pe(p.$$.fragment,e),Pe(g.$$.fragment,e),Pe(b.$$.fragment,e),Pe(D.$$.fragment,e),Pe(z.$$.fragment,e),Pe(J.$$.fragment,e),Pe(X.$$.fragment,e),Pe(re.$$.fragment,e),Pe(Ke.$$.fragment,e),Pe(Ze.$$.fragment,e),Pe(st),rt=!1},d(n){n&&C(t),Ve(i),Ve(c),Ve(p),Ve(g),Ve(b),Ve(D),Ve(z),Ve(J),Ve(X),Ve(re),Ve(Ke),Ve(Ze),st&&st.d(),e[58](null),it=!1,o(ot)}}}function nO(e,t,n){let r,i,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,$,x,{json:k}=t,{state:S}=t,{selection:C}=t,{showTip:O}=t,{onCloseContextMenu:_}=t,{onEditKey:A}=t,{onEditValue:P}=t,{onToggleEnforceString:E}=t,{onCut:j}=t,{onCopy:M}=t,{onPaste:T}=t,{onRemove:N}=t,{onDuplicate:I}=t,{onExtract:D}=t,{onInsertBefore:R}=t,{onInsert:L}=t,{onConvert:B}=t,{onInsertAfter:F}=t,{onSort:V}=t,{onTransform:z}=t;function q(){_(),P()}function H(){_(),E()}function W(){_(),j(!0)}function U(){_(),j(!1)}function J(){_(),M(!0)}function K(){_(),M(!1)}function G(e){_(),a?B(e):L(e)}ne((()=>{setTimeout((()=>{const e=[...x.querySelectorAll("button")].find((e=>!e.disabled));e&&e.focus()}))}));return e.$$set=e=>{"json"in e&&n(31,k=e.json),"state"in e&&n(32,S=e.state),"selection"in e&&n(33,C=e.selection),"showTip"in e&&n(0,O=e.showTip),"onCloseContextMenu"in e&&n(34,_=e.onCloseContextMenu),"onEditKey"in e&&n(35,A=e.onEditKey),"onEditValue"in e&&n(36,P=e.onEditValue),"onToggleEnforceString"in e&&n(37,E=e.onToggleEnforceString),"onCut"in e&&n(38,j=e.onCut),"onCopy"in e&&n(39,M=e.onCopy),"onPaste"in e&&n(40,T=e.onPaste),"onRemove"in e&&n(41,N=e.onRemove),"onDuplicate"in e&&n(42,I=e.onDuplicate),"onExtract"in e&&n(43,D=e.onExtract),"onInsertBefore"in e&&n(44,R=e.onInsertBefore),"onInsert"in e&&n(45,L=e.onInsert),"onConvert"in e&&n(46,B=e.onConvert),"onInsertAfter"in e&&n(47,F=e.onInsertAfter),"onSort"in e&&n(48,V=e.onSort),"onTransform"in e&&n(49,z=e.onTransform)},e.$$.update=()=>{1&e.$$.dirty[1]&&n(53,r=void 0!==k),4&e.$$.dirty[1]&&n(3,i=null!=C),8&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(4,o=i&&_s(C.focusPath)),8&e.$$.dirty[0]|5&e.$$.dirty[1]&&n(51,s=i?Qt.getIn(k,C.focusPath):void 0),4194308&e.$$.dirty[1]&&n(1,a=r&&null!=C&&(C.type===wa||C.type===ya||C.type===ba)),18&e.$$.dirty[0]|4194304&e.$$.dirty[1]&&n(16,l=r&&a&&!o),16&e.$$.dirty[0]|4194308&e.$$.dirty[1]&&n(15,c=r&&null!=C&&(C.type===wa||C.type===ba)&&!o),16&e.$$.dirty[0]|4194309&e.$$.dirty[1]&&n(14,u=r&&null!=C&&Ea(C)&&!o&&!Array.isArray(Qt.getIn(k,Cs(C.focusPath)))),5242884&e.$$.dirty[1]&&n(2,h=r&&null!=C&&Ea(C)&&!sn(s)),2&e.$$.dirty[0]&&n(52,d=a),2097152&e.$$.dirty[1]&&n(13,f=d?"Convert to":"Insert"),8&e.$$.dirty[0]|2097152&e.$$.dirty[1]&&n(12,p=!d&&i),8&e.$$.dirty[0]|3145732&e.$$.dirty[1]&&n(11,m=d?Ra(C)&&!on(s):i),8&e.$$.dirty[0]|3145732&e.$$.dirty[1]&&n(10,g=d?Ra(C)&&!Array.isArray(s):i),8&e.$$.dirty[0]|3145732&e.$$.dirty[1]&&n(9,v=d?Ra(C)&&sn(s):i),6&e.$$.dirty[1]&&n(50,y=null!=C&&!0===Qt.getIn(S,C.focusPath.concat(wt))),4&e.$$.dirty[0]|524288&e.$$.dirty[1]&&n(8,b=[{icon:El,text:"Edit value",title:"Edit the value (Double-click on the value)",onClick:q,disabled:!h},{icon:y?KC:GC,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:H,disabled:!h}]),2&e.$$.dirty[0]&&n(7,w=[{icon:xl,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:W,disabled:!a},{icon:xl,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:U,disabled:!a}]),2&e.$$.dirty[0]&&n(6,$=[{icon:zl,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:J,disabled:!a},{icon:zl,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:K,disabled:!a}])},[O,a,h,i,o,x,$,w,b,v,g,m,p,f,u,c,l,function(){_(),A()},q,W,J,function(){_(),T()},function(){_(),N()},function(){_(),I()},function(){_(),D()},G,function(){_(),V()},function(){_(),z()},function(){_(),R()},function(){_(),F()},function(e){const t=ul(e).replace(/^Command\+/,"Ctrl+");if("Up"===t||"Down"===t||"Left"===t||"Right"===t){e.preventDefault();const n=ll({allElements:Array.from(x.querySelectorAll("button:not([disabled])")),currentElement:e.target,direction:t,hasPrio:e=>"jse-open-dropdown"!==e.getAttribute("data-type")});n&&n.focus()}},k,S,C,_,A,P,E,j,M,T,N,I,D,R,L,B,F,V,z,y,s,d,r,()=>G("structure"),()=>G("object"),()=>G("array"),()=>G("value"),function(e){ce[e?"unshift":"push"]((()=>{x=e,n(5,x)}))}]}class rO extends qe{constructor(e){super(),ze(this,e,nO,tO,l,{json:31,state:32,selection:33,showTip:0,onCloseContextMenu:34,onEditKey:35,onEditValue:36,onToggleEnforceString:37,onCut:38,onCopy:39,onPaste:40,onRemove:41,onDuplicate:42,onExtract:43,onInsertBefore:44,onInsert:45,onConvert:46,onInsertAfter:47,onSort:48,onTransform:49},null,[-1,-1,-1])}}
/*!
    	Copyright (c) 2018 Jed Watson.
    	Licensed under the MIT License (MIT), see
    	http://jedwatson.github.io/classnames
    */var iO=Kt((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&e.push(s)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}));function oO(e,t,n){const r=e.slice();return r[12]=t[n],r}function sO(e){let t,n,r,i,o,s,a,l,c=e[12].start+"",u=e[12].end+"";function h(){return e[11](e[12])}return{c(){t=_("button"),n=P("show "),r=P(c),i=P("-"),o=P(u),s=E(),N(t,"type","button"),N(t,"class","jse-expand-items svelte-1knbf5w")},m(e,c){S(e,t,c),$(t,n),$(t,r),$(t,i),$(t,o),$(t,s),a||(l=M(t,"click",h),a=!0)},p(t,n){e=t,16&n&&c!==(c=e[12].start+"")&&L(r,c),16&n&&u!==(u=e[12].end+"")&&L(o,u)},d(e){e&&C(t),a=!1,l()}}}function aO(t){let n,r,i,o,s,a,l,c,u,h,d,f=t[4],p=[];for(let e=0;e<f.length;e+=1)p[e]=sO(oO(t,f,e));return{c(){n=_("div"),r=_("div"),i=_("div"),o=P("Items "),s=P(t[3]),a=P("-"),l=P(t[2]),c=E();for(let e=0;e<p.length;e+=1)p[e].c();N(i,"class","jse-text svelte-1knbf5w"),N(n,"class","jse-collapsed-items svelte-1knbf5w"),N(n,"style",u=lO(t[0].length+2)),H(n,"jse-selected",t[5])},m(e,t){S(e,n,t),$(n,r),$(r,i),$(i,o),$(i,s),$(i,a),$(i,l),$(r,c);for(let e=0;e<p.length;e+=1)p[e].m(r,null);h||(d=M(n,"mousemove",cO),h=!0)},p(e,[t]){if(8&t&&L(s,e[3]),4&t&&L(l,e[2]),19&t){let n;for(f=e[4],n=0;n<f.length;n+=1){const i=oO(e,f,n);p[n]?p[n].p(i,t):(p[n]=sO(i),p[n].c(),p[n].m(r,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=f.length}1&t&&u!==(u=lO(e[0].length+2))&&N(n,"style",u),32&t&&H(n,"jse-selected",e[5])},i:e,o:e,d(e){e&&C(n),O(p,e),h=!1,d()}}}function lO(e){return`margin-left: calc(${e} * var(--jse-indent-size))`}function cO(e){e.stopPropagation()}function uO(e,t,n){let r,i,o,s,a,{visibleSections:l}=t,{sectionIndex:c}=t,{total:u}=t,{path:h}=t,{selection:d}=t,{onExpandSection:f}=t;return e.$$set=e=>{"visibleSections"in e&&n(6,l=e.visibleSections),"sectionIndex"in e&&n(7,c=e.sectionIndex),"total"in e&&n(8,u=e.total),"path"in e&&n(0,h=e.path),"selection"in e&&n(9,d=e.selection),"onExpandSection"in e&&n(1,f=e.onExpandSection)},e.$$.update=()=>{192&e.$$.dirty&&n(10,r=l[c]),1024&e.$$.dirty&&n(3,i=r.end),448&e.$$.dirty&&n(2,o=l[c+1]?l[c+1].start:u),521&e.$$.dirty&&n(5,s=!(!d||!d.pathsMap)&&!0===d.pathsMap[Qt.compileJSONPointer(h.concat(i))]),12&e.$$.dirty&&n(4,a=function(e,t){const n={start:e,end:Math.min(Gs(e),t)},r=Math.max(Qs((e+t)/2),e),i={start:r,end:Math.min(Gs(r),t)},o=Qs(t),s=o===t?o-St:o,a={start:Math.max(s,e),end:t},l=[n],c=i.start>=n.end&&i.end<=a.start;return c&&l.push(i),a.start>=(c?i.end:n.end)&&l.push(a),l}(i,o))},[h,f,o,i,a,s,l,c,u,d,r,e=>f(h,e)]}class hO extends qe{constructor(e){super(),ze(this,e,uO,aO,l,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1})}}function dO(e){let t,n,r,i,o;return n=new bc({props:{data:Il}}),{c(){t=_("button"),Be(n.$$.fragment),N(t,"type","button"),N(t,"class","jse-context-menu-button svelte-dol684"),N(t,"title",Tt),H(t,"jse-selected",e[0])},m(s,a){S(s,t,a),Fe(n,t,null),r=!0,i||(o=M(t,"click",e[1]),i=!0)},p(e,[n]){(!r||1&n)&&H(t,"jse-selected",e[0])},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n),i=!1,o()}}}function fO(e,t,n){let{selected:r}=t,{onContextMenu:i}=t;return e.$$set=e=>{"selected"in e&&n(0,r=e.selected),"onContextMenu"in e&&n(2,i=e.onContextMenu)},[r,function(e){let t=e.target;for(;t&&"BUTTON"!==t.nodeName;)t=t.parentNode;t&&i({anchor:t,left:0,top:0,width:Vt,height:Ft,offsetTop:2,offsetLeft:0,showTip:!0})},i]}class pO extends qe{constructor(e){super(),ze(this,e,fO,dO,l,{selected:0,onContextMenu:2})}}function mO(e,t,n){const r=e.slice();return r[3]=t[n],r}function gO(e){let t,n,r=Qa(e[3].text)+"";return{c(){t=_("span"),n=P(r),N(t,"class","jse-highlight svelte-s6kbew"),H(t,"jse-active",e[3].active)},m(e,r){S(e,t,r),$(t,n)},p(e,i){1&i&&r!==(r=Qa(e[3].text)+"")&&L(n,r),1&i&&H(t,"jse-active",e[3].active)},d(e){e&&C(t)}}}function vO(e){let t,n=e[3].text+"";return{c(){t=P(n)},m(e,n){S(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&L(t,n)},d(e){e&&C(t)}}}function yO(e){let t;function n(e,t){return"normal"===e[3].type?vO:gO}let r=n(e),i=r(e);return{c(){i.c(),t=j()},m(e,n){i.m(e,n),S(e,t,n)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&C(t)}}}function bO(t){let n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=yO(mO(t,r,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=j()},m(e,t){for(let n=0;n<i.length;n+=1)i[n].m(e,t);S(e,n,t)},p(e,[t]){if(1&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const s=mO(e,r,o);i[o]?i[o].p(s,t):(i[o]=yO(s),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){O(i,e),e&&C(n)}}}function wO(e,t,n){let r,{text:i}=t,{searchResult:o}=t;return e.$$set=e=>{"text"in e&&n(1,i=e.text),"searchResult"in e&&n(2,o=e.searchResult)},e.$$.update=()=>{6&e.$$.dirty&&n(0,r=function(e,t){const n=[];let r=0;for(const i of t){const t=e.slice(r,i.start);""!==t&&n.push({type:"normal",text:t,active:!1});const o=e.slice(i.start,i.end);n.push({type:"highlight",text:o,active:i.active}),r=i.end}const i=ys(t);return i.end<e.length&&n.push({type:"normal",text:e.slice(i.end),active:!1}),n}(String(i),o))},[r,i,o]}class $O extends qe{constructor(e){super(),ze(this,e,wO,bO,a,{text:1,searchResult:2})}}function xO(t){let n,r,i,s;return{c(){n=_("div"),N(n,"class",r=p(iO("jse-editable-div",t[2],{"jse-short-text":t[0]}))+" svelte-rw77oa"),N(n,"contenteditable","true"),N(n,"spellcheck","false")},m(e,r){S(e,n,r),t[13](n),i||(s=[M(n,"input",t[3]),M(n,"keydown",t[4]),M(n,"paste",t[5]),M(n,"blur",t[6])],i=!0)},p(e,[t]){5&t&&r!==(r=p(iO("jse-editable-div",e[2],{"jse-short-text":e[0]}))+" svelte-rw77oa")&&N(n,"class",r)},i:e,o:e,d(e){e&&C(n),t[13](null),i=!1,o(s)}}}function kO(e,t,n){const r=tt("jsoneditor:EditableDiv");let i,{value:o}=t,{shortText:s=!1}=t,{onChange:a}=t,{onCancel:l}=t,{onFind:c}=t,{onPaste:u=Cr}=t,{onValueClass:h=(()=>"")}=t,d=h(o),f=!1;function p(){return function(e){return e.replace(/\n$/,"")}(i.innerText)}function m(e){n(1,i.innerText=Qa(e),i)}return ne((()=>{r("onMount",{value:o}),m(o),setTimeout((()=>tl(i)))})),re((()=>{const e=p();r("onDestroy",{closed:f,value:o,newValue:e}),f||e===o||a(e,zt)})),e.$$set=e=>{"value"in e&&n(7,o=e.value),"shortText"in e&&n(0,s=e.shortText),"onChange"in e&&n(8,a=e.onChange),"onCancel"in e&&n(9,l=e.onCancel),"onFind"in e&&n(10,c=e.onFind),"onPaste"in e&&n(11,u=e.onPaste),"onValueClass"in e&&n(12,h=e.onValueClass)},[s,i,d,function(){const e=p();""===e&&m(""),n(2,d=h(e))},function(e){e.stopPropagation();const t=ul(e).replace(/^Command\+/,"Ctrl+");if("Escape"===t&&(f=!0,l()),"Enter"===t||"Tab"===t){f=!0;const e=p();a(e,Ht)}"Ctrl+F"===t&&(e.preventDefault(),c(!1)),"Ctrl+H"===t&&(e.preventDefault(),c(!0))},function(e){if(!u)return;const t=e.clipboardData.getData("text/plain");u(t)},function(){const e=document.hasFocus(),t=p();r("handleBlur",{hasFocus:e,closed:f,value:o,newValue:t}),document.hasFocus()&&!f&&(f=!0,t!==o?a(t,qt):l())},o,a,l,c,u,h,function(e){ce[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class SO extends qe{constructor(e){super(),ze(this,e,kO,xO,l,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12})}}function CO(e){let t,n,r,i,o,s,a;const l=[AO,_O],c=[];function u(e,t){return e[1]?0:1}return n=u(e),r=c[n]=l[n](e),{c(){t=_("div"),r.c(),N(t,"data-type","selectable-key"),N(t,"class",i=p(e[5](e[0]))+" svelte-566egb")},m(r,i){S(r,t,i),c[n].m(t,null),o=!0,s||(a=M(t,"dblclick",e[4]),s=!0)},p(e,s){let a=n;n=u(e),n===a?c[n].p(e,s):(Oe(),Pe(c[a],1,1,(()=>{c[a]=null})),_e(),r=c[n],r?r.p(e,s):(r=c[n]=l[n](e),r.c()),Ae(r,1),r.m(t,null)),(!o||1&s&&i!==(i=p(e[5](e[0]))+" svelte-566egb"))&&N(t,"class",i)},i(e){o||(Ae(r),o=!0)},o(e){Pe(r),o=!1},d(e){e&&C(t),c[n].d(),s=!1,a()}}}function OO(e){let t,n;return t=new SO({props:{value:e[2].normalization.escapeValue(e[0]),shortText:!0,onChange:e[6],onCancel:e[7],onFind:e[2].onFind}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.value=e[2].normalization.escapeValue(e[0])),4&n&&(r.onFind=e[2].onFind),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function _O(t){let n,r=Qa(t[2].normalization.escapeValue(t[0]))+"";return{c(){n=P(r)},m(e,t){S(e,n,t)},p(e,t){5&t&&r!==(r=Qa(e[2].normalization.escapeValue(e[0]))+"")&&L(n,r)},i:e,o:e,d(e){e&&C(n)}}}function AO(e){let t,n;return t=new $O({props:{text:e[2].normalization.escapeValue(e[0]),searchResult:e[1]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.text=e[2].normalization.escapeValue(e[0])),2&n&&(r.searchResult=e[1]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function PO(e){let t,n,r,i;const o=[OO,CO],s=[];function a(e,t){return e[3]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=j()},m(e,n){s[t].m(e,n),S(e,r,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?s[t].p(e,i):(Oe(),Pe(s[l],1,1,(()=>{s[l]=null})),_e(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){i||(Ae(n),i=!0)},o(e){Pe(n),i=!1},d(e){s[t].d(e),e&&C(r)}}}function EO(e,t,n){let r,i,{path:o}=t,{key:s}=t,{onUpdateKey:a}=t,{selection:l}=t,{searchResult:c}=t,{context:u}=t;return e.$$set=e=>{"path"in e&&n(8,o=e.path),"key"in e&&n(0,s=e.key),"onUpdateKey"in e&&n(9,a=e.onUpdateKey),"selection"in e&&n(10,l=e.selection),"searchResult"in e&&n(1,c=e.searchResult),"context"in e&&n(2,u=e.context)},e.$$.update=()=>{1024&e.$$.dirty&&n(11,r=l&&l.type===ya),3076&e.$$.dirty&&n(3,i=!u.readOnly&&r&&l&&!0===l.edit)},[s,c,u,i,function(e){i||u.readOnly||(e.preventDefault(),u.onSelect({type:ya,path:o,edit:!0}))},function(e){return iO("jse-key",{"jse-empty":""===e})},function(e,t){const n=a(s,u.normalization.unescapeValue(e)),r=Cs(o).concat(n);t===Ht&&u.onSelect({type:ya,path:r,next:!0}),t===qt&&u.onSelect({type:ya,path:r},{ensureFocus:!1})},function(){u.onSelect({type:ya,path:o})},o,a,l,r]}class jO extends qe{constructor(e){super(),ze(this,e,EO,PO,l,{path:8,key:0,onUpdateKey:9,selection:10,searchResult:1,context:2})}}function MO(e,t,n){const r=e.slice();return r[9]=t[n],r}function TO(e){let t,r,i;const o=[e[9].props];var s=e[9].component;function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=J(s,a())),{c(){t&&Be(t.$$.fragment),r=j()},m(e,n){t&&Fe(t,e,n),S(e,r,n),i=!0},p(e,n){const i=1&n?De(o,[Re(e[9].props)]):{};if(s!==(s=e[9].component)){if(t){Oe();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}s?(t=J(s,a()),Be(t.$$.fragment),Ae(t.$$.fragment,1),Fe(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&Ae(t.$$.fragment,e),i=!0)},o(e){t&&Pe(t.$$.fragment,e),i=!1},d(e){e&&C(r),t&&Ve(t,e)}}}function NO(e){let t,n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=TO(MO(e,r,t));const o=e=>Pe(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=j()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);S(e,t,r),n=!0},p(e,[n]){if(1&n){let s;for(r=e[0],s=0;s<r.length;s+=1){const o=MO(e,r,s);i[s]?(i[s].p(o,n),Ae(i[s],1)):(i[s]=TO(o),i[s].c(),Ae(i[s],1),i[s].m(t.parentNode,t))}for(Oe(),s=r.length;s<i.length;s+=1)o(s);_e()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Ae(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Pe(i[e]);n=!1},d(e){O(i,e),e&&C(t)}}}function IO(e,t,n){let r,i,o,{path:s}=t,{value:a}=t,{context:l}=t,{enforceString:c}=t,{selection:u}=t,{searchResult:h}=t;return e.$$set=e=>{"path"in e&&n(1,s=e.path),"value"in e&&n(2,a=e.value),"context"in e&&n(3,l=e.context),"enforceString"in e&&n(4,c=e.enforceString),"selection"in e&&n(5,u=e.selection),"searchResult"in e&&n(6,h=e.searchResult)},e.$$.update=()=>{34&e.$$.dirty&&n(8,r=!(!u||u.type!==ba)&&As(u.focusPath,s)),296&e.$$.dirty&&n(7,i=!l.readOnly&&r&&u&&!0===u.edit),510&e.$$.dirty&&n(0,o=l.onRenderValue({path:s,value:a,readOnly:l.readOnly,enforceString:c,isSelected:r,isEditing:i,normalization:l.normalization,selection:u,searchResult:h,onPatch:l.onPatch,onPasteJson:l.onPasteJson,onSelect:l.onSelect,onFind:l.onFind}))},[o,s,a,l,c,u,h,i,r]}class DO extends qe{constructor(e){super(),ze(this,e,IO,NO,l,{path:1,value:2,context:3,enforceString:4,selection:5,searchResult:6})}}const RO={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function LO(t){let n,r;return{c(){n=_("div"),r=P(t[0]),N(n,"class","jse-tooltip svelte-r4omvg")},m(e,t){S(e,n,t),$(n,r)},p(e,[t]){1&t&&L(r,e[0])},i:e,o:e,d(e){e&&C(n)}}}function BO(e,t,n){let{text:r}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text)},[r]}class FO extends qe{constructor(e){super(),ze(this,e,BO,LO,a,{text:0})}}function VO(e,{text:t,openAbsolutePopup:n,closeAbsolutePopup:r}){function i(){n(FO,{text:t},{position:"top",width:10*t.length,offsetTop:3,anchor:e,closeOnOuterClick:!0})}function o(){r()}return e.addEventListener("mouseover",i),e.addEventListener("mouseout",o),{destroy(){e.removeEventListener("mouseover",i),e.removeEventListener("mouseout",o)}}}function zO(e){let t,n,r,i,a,l;return n=new bc({props:{data:Ul}}),{c(){t=_("button"),Be(n.$$.fragment),N(t,"type","button"),N(t,"class","jse-validation-error svelte-1q62mys")},m(o,c){S(o,t,c),Fe(n,t,null),i=!0,a||(l=[M(t,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),m(r=VO.call(null,t,{text:e[1],...e[2]}))],a=!0)},p(t,[n]){e=t,r&&s(r.update)&&2&n&&r.update.call(null,{text:e[1],...e[2]})},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),Ve(n),a=!1,o(l)}}}function qO(e,t,n){let r;const i=se("absolute-popup");let{validationError:o}=t,{onExpand:s}=t;return e.$$set=e=>{"validationError"in e&&n(3,o=e.validationError),"onExpand"in e&&n(0,s=e.onExpand)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r=o.isChildError?"Contains invalid data":o.message)},[s,r,i,o]}class HO extends qe{constructor(e){super(),ze(this,e,qO,zO,a,{validationError:3,onExpand:0})}}function WO({fullJson:e,fullState:t,fullSelection:n,deltaY:r,items:i}){const o=r<0?function({items:e,fullSelection:t,deltaY:n}){const r=xa(t),i=e.findIndex((e=>As(e.path,r))),o=()=>{var t;return null===(t=e[s-1])||void 0===t?void 0:t.height};let s=i,a=0;for(;void 0!==o()&&Math.abs(n)>a+o()/2;)a+=o(),s-=1;const l=e[s].path,c=s-i;return s!==i&&void 0!==e[s]?{beforePath:l,indexOffset:c}:void 0}({fullSelection:n,deltaY:r,items:i}):function({items:e,fullSelection:t,deltaY:n}){var r;const i=ka(t),o=e.findIndex((e=>As(e.path,i))),s=()=>{var t;return null===(t=e[l+1])||void 0===t?void 0:t.height};let a=0,l=o;for(;void 0!==s()&&Math.abs(n)>a+s()/2;)a+=s(),l+=1;const c="number"==typeof ys(i),u=c?l:l+1,h=null===(r=e[u])||void 0===r?void 0:r.path,d=l-o;return h?{beforePath:h,indexOffset:d}:{append:!0,indexOffset:d}}({fullSelection:n,deltaY:r,items:i});if(!o||0===o.indexOffset)return{operations:void 0,updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:0};const s=function(e,t,n,r){const{beforePath:i,append:o}=r,s=Cs(n.focusPath),a=Qt.getIn(e,s);if(o||i&&Ma(i,s)&&i.length>s.length){const e=n.paths?ks(n.paths):n.focusPath,r=n.paths?ys(n.paths):n.focusPath,l=ys(e),c=ys(r),u=i?i[s.length]:void 0;if(!on(a)){const e=l,t=u,n=c-e+1;return zs(n,t<e?n=>({op:"move",from:Qt.compileJSONPointer(s.concat(e+n)),path:Qt.compileJSONPointer(s.concat(t+n))}):()=>({op:"move",from:Qt.compileJSONPointer(s.concat(e)),path:Qt.compileJSONPointer(s.concat(t))}))}{const e=Qt.getIn(t,s.concat(vt)),n=e.indexOf(l),r=e.indexOf(c),i=o?e.length:e.indexOf(u);if(-1!==n&&-1!==r&&-1!==i)return i>n?[...e.slice(n,r+1),...e.slice(i,e.length)].map((e=>pC(s,e))):[...e.slice(i,n),...e.slice(r+1,e.length)].map((e=>pC(s,e)))}}}(e,t,n,o),a=ra(e,t,s),l=Cs(xa(n)),c=Qt.getIn(e,l);if(Array.isArray(c)){const r=function({items:e,fullJson:t,fullState:n,fullSelection:r,indexOffset:i}){var o,s;const a=xa(r),l=ka(r),c=e.findIndex((e=>As(e.path,a))),u=e.findIndex((e=>As(e.path,l))),h=null===(o=e[c+i])||void 0===o?void 0:o.path,d=null===(s=e[u+i])||void 0===s?void 0:s.path;return Na(t,n,{type:wa,anchorPath:h,focusPath:d})}({items:i,fullJson:e,fullState:t,fullSelection:n,indexOffset:o.indexOffset}),c=Da(e,r),u=Qt.getIn(c,l);return{operations:s,updatedValue:Qt.getIn(a.json,l),updatedState:Qt.getIn(a.state,l),updatedSelection:u,updatedFullSelection:r,indexOffset:o.indexOffset}}return{operations:s,updatedValue:Qt.getIn(a.json,l),updatedState:Qt.getIn(a.state,l),updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:o.indexOffset}}const UO=e=>({}),JO=e=>({});function KO(e,t,n){const r=e.slice();return r[57]=t[n],r}const GO=e=>({}),QO=e=>({});function YO(e,t,n){const r=e.slice();return r[51]=t[n],r[53]=n,r}function XO(e,t,n){const r=e.slice();return r[54]=t[n],r[56]=n,r}const ZO=e=>({}),e_=e=>({});function t_(e){let t,n,r,i,o,s,a,l,u,p=!e[4].readOnly&&e[7]&&(e[7].type===ba||e[7].type===wa)&&!e[7].edit&&As(e[7].focusPath,e[1]);const m=e[39].identifier,g=c(m,e,e[40],JO);let v=!e[10]&&i_();o=new DO({props:{path:e[1],value:e[0],enforceString:e[5]?e[5][wt]:void 0,selection:e[7],searchResult:e[2]?e[2][bt]:void 0,context:e[4]}});let y=p&&o_(e),b=e[15]&&s_(e),w=!e[10]&&a_(e);return{c(){t=_("div"),n=_("div"),g&&g.c(),r=E(),v&&v.c(),i=E(),Be(o.$$.fragment),s=E(),y&&y.c(),a=E(),b&&b.c(),l=E(),w&&w.c(),N(n,"class","jse-contents svelte-uj4yd7"),N(t,"class","jse-contents-outer svelte-uj4yd7"),N(t,"style",e[13])},m(e,c){S(e,t,c),$(t,n),g&&g.m(n,null),$(n,r),v&&v.m(n,null),$(n,i),Fe(o,n,null),$(n,s),y&&y.m(n,null),$(t,a),b&&b.m(t,null),$(t,l),w&&w.m(t,null),u=!0},p(e,r){g&&g.p&&(!u||512&r[1])&&d(g,m,e,e[40],u?h(m,e[40],r,UO):f(e[40]),JO),e[10]?v&&(v.d(1),v=null):v||(v=i_(),v.c(),v.m(n,i));const s={};2&r[0]&&(s.path=e[1]),1&r[0]&&(s.value=e[0]),32&r[0]&&(s.enforceString=e[5]?e[5][wt]:void 0),128&r[0]&&(s.selection=e[7]),4&r[0]&&(s.searchResult=e[2]?e[2][bt]:void 0),16&r[0]&&(s.context=e[4]),o.$set(s),146&r[0]&&(p=!e[4].readOnly&&e[7]&&(e[7].type===ba||e[7].type===wa)&&!e[7].edit&&As(e[7].focusPath,e[1])),p?y?(y.p(e,r),146&r[0]&&Ae(y,1)):(y=o_(e),y.c(),Ae(y,1),y.m(n,null)):y&&(Oe(),Pe(y,1,1,(()=>{y=null})),_e()),e[15]?b?(b.p(e,r),32768&r[0]&&Ae(b,1)):(b=s_(e),b.c(),Ae(b,1),b.m(t,l)):b&&(Oe(),Pe(b,1,1,(()=>{b=null})),_e()),e[10]?w&&(w.d(1),w=null):w?w.p(e,r):(w=a_(e),w.c(),w.m(t,null)),(!u||8192&r[0])&&N(t,"style",e[13])},i(e){u||(Ae(g,e),Ae(o.$$.fragment,e),Ae(y),Ae(b),u=!0)},o(e){Pe(g,e),Pe(o.$$.fragment,e),Pe(y),Pe(b),u=!1},d(e){e&&C(t),g&&g.d(e),v&&v.d(),Ve(o),y&&y.d(),b&&b.d(),w&&w.d()}}}function n_(e){let t,n,r,i,o,s,a,l,u,p,m,g,v,y,b,w,x,k,O=!e[4].readOnly&&e[7]&&(e[7].type===ba||e[7].type===wa)&&!e[7].edit&&As(e[7].focusPath,e[1]);const A=[c_,l_],P=[];function T(e,t){return e[12]?0:1}i=T(e),o=P[i]=A[i](e);const I=e[39].identifier,D=c(I,e,e[40],QO);let R=!e[10]&&u_();function L(e,t){return e[12]?d_:h_}let B=L(e),F=B(e),V=O&&f_(e),z=e[15]&&(!e[12]||!e[15].isChildError)&&p_(e);function q(e,t){return e[12]?g_:e[10]?void 0:m_}let H=q(e),W=H&&H(e),U=e[12]&&v_(e);return{c(){t=_("div"),n=_("div"),r=_("button"),o.c(),s=E(),D&&D.c(),a=E(),R&&R.c(),l=E(),u=_("div"),p=_("div"),F.c(),m=E(),V&&V.c(),g=E(),z&&z.c(),v=E(),W&&W.c(),y=E(),U&&U.c(),b=j(),N(r,"type","button"),N(r,"class","jse-expand svelte-uj4yd7"),N(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),N(p,"class","jse-meta-inner svelte-uj4yd7"),N(u,"class","jse-meta svelte-uj4yd7"),N(u,"data-type","selectable-value"),N(n,"class","jse-header svelte-uj4yd7"),N(t,"class","jse-header-outer svelte-uj4yd7"),N(t,"style",e[13])},m(o,c){S(o,t,c),$(t,n),$(n,r),P[i].m(r,null),$(n,s),D&&D.m(n,null),$(n,a),R&&R.m(n,null),$(n,l),$(n,u),$(u,p),F.m(p,null),$(n,m),V&&V.m(n,null),$(t,g),z&&z.m(t,null),$(t,v),W&&W.m(t,null),S(o,y,c),U&&U.m(o,c),S(o,b,c),w=!0,x||(k=M(r,"click",e[23]),x=!0)},p(e,s){let a=i;i=T(e),i===a?P[i].p(e,s):(Oe(),Pe(P[a],1,1,(()=>{P[a]=null})),_e(),o=P[i],o?o.p(e,s):(o=P[i]=A[i](e),o.c()),Ae(o,1),o.m(r,null)),D&&D.p&&(!w||512&s[1])&&d(D,I,e,e[40],w?h(I,e[40],s,GO):f(e[40]),QO),e[10]?R&&(R.d(1),R=null):R||(R=u_(),R.c(),R.m(n,l)),B===(B=L(e))&&F?F.p(e,s):(F.d(1),F=B(e),F&&(F.c(),F.m(p,null))),146&s[0]&&(O=!e[4].readOnly&&e[7]&&(e[7].type===ba||e[7].type===wa)&&!e[7].edit&&As(e[7].focusPath,e[1])),O?V?(V.p(e,s),146&s[0]&&Ae(V,1)):(V=f_(e),V.c(),Ae(V,1),V.m(n,null)):V&&(Oe(),Pe(V,1,1,(()=>{V=null})),_e()),!e[15]||e[12]&&e[15].isChildError?z&&(Oe(),Pe(z,1,1,(()=>{z=null})),_e()):z?(z.p(e,s),36864&s[0]&&Ae(z,1)):(z=p_(e),z.c(),Ae(z,1),z.m(t,v)),H===(H=q(e))&&W?W.p(e,s):(W&&W.d(1),W=H&&H(e),W&&(W.c(),W.m(t,null))),(!w||8192&s[0])&&N(t,"style",e[13]),e[12]?U?(U.p(e,s),4096&s[0]&&Ae(U,1)):(U=v_(e),U.c(),Ae(U,1),U.m(b.parentNode,b)):U&&(Oe(),Pe(U,1,1,(()=>{U=null})),_e())},i(e){w||(Ae(o),Ae(D,e),Ae(V),Ae(z),Ae(U),w=!0)},o(e){Pe(o),Pe(D,e),Pe(V),Pe(z),Pe(U),w=!1},d(e){e&&C(t),P[i].d(),D&&D.d(e),R&&R.d(),F.d(),V&&V.d(),z&&z.d(),W&&W.d(),e&&C(y),U&&U.d(e),e&&C(b),x=!1,k()}}}function r_(e){let t,n,r,i,o,s,a,l,u,p,m,g,v,y,b,w,x,k,O=!e[4].readOnly&&e[7]&&(e[7].type===ba||e[7].type===wa)&&!e[7].edit&&As(e[7].focusPath,e[1]);const A=[S_,k_],P=[];function T(e,t){return e[12]?0:1}i=T(e),o=P[i]=A[i](e);const I=e[39].identifier,D=c(I,e,e[40],e_);let R=!e[10]&&C_();function L(e,t){return e[12]?__:O_}let B=L(e),F=B(e),V=O&&A_(e),z=e[15]&&(!e[12]||!e[15].isChildError)&&P_(e);function q(e,t){return e[12]?j_:E_}let H=q(e),W=H(e),U=e[12]&&M_(e);return{c(){t=_("div"),n=_("div"),r=_("button"),o.c(),s=E(),D&&D.c(),a=E(),R&&R.c(),l=E(),u=_("div"),p=_("div"),F.c(),m=E(),V&&V.c(),g=E(),z&&z.c(),v=E(),W.c(),y=E(),U&&U.c(),b=j(),N(r,"type","button"),N(r,"class","jse-expand svelte-uj4yd7"),N(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),N(p,"class","jse-meta-inner svelte-uj4yd7"),N(p,"data-type","selectable-value"),N(u,"class","jse-meta svelte-uj4yd7"),N(n,"class","jse-header svelte-uj4yd7"),N(t,"class","jse-header-outer svelte-uj4yd7"),N(t,"style",e[13])},m(o,c){S(o,t,c),$(t,n),$(n,r),P[i].m(r,null),$(n,s),D&&D.m(n,null),$(n,a),R&&R.m(n,null),$(n,l),$(n,u),$(u,p),F.m(p,null),$(n,m),V&&V.m(n,null),$(t,g),z&&z.m(t,null),$(t,v),W.m(t,null),S(o,y,c),U&&U.m(o,c),S(o,b,c),w=!0,x||(k=M(r,"click",e[23]),x=!0)},p(e,s){let a=i;i=T(e),i===a?P[i].p(e,s):(Oe(),Pe(P[a],1,1,(()=>{P[a]=null})),_e(),o=P[i],o?o.p(e,s):(o=P[i]=A[i](e),o.c()),Ae(o,1),o.m(r,null)),D&&D.p&&(!w||512&s[1])&&d(D,I,e,e[40],w?h(I,e[40],s,ZO):f(e[40]),e_),e[10]?R&&(R.d(1),R=null):R||(R=C_(),R.c(),R.m(n,l)),B===(B=L(e))&&F?F.p(e,s):(F.d(1),F=B(e),F&&(F.c(),F.m(p,null))),146&s[0]&&(O=!e[4].readOnly&&e[7]&&(e[7].type===ba||e[7].type===wa)&&!e[7].edit&&As(e[7].focusPath,e[1])),O?V?(V.p(e,s),146&s[0]&&Ae(V,1)):(V=A_(e),V.c(),Ae(V,1),V.m(n,null)):V&&(Oe(),Pe(V,1,1,(()=>{V=null})),_e()),!e[15]||e[12]&&e[15].isChildError?z&&(Oe(),Pe(z,1,1,(()=>{z=null})),_e()):z?(z.p(e,s),36864&s[0]&&Ae(z,1)):(z=P_(e),z.c(),Ae(z,1),z.m(t,v)),H===(H=q(e))&&W?W.p(e,s):(W.d(1),W=H(e),W&&(W.c(),W.m(t,null))),(!w||8192&s[0])&&N(t,"style",e[13]),e[12]?U?(U.p(e,s),4096&s[0]&&Ae(U,1)):(U=M_(e),U.c(),Ae(U,1),U.m(b.parentNode,b)):U&&(Oe(),Pe(U,1,1,(()=>{U=null})),_e())},i(e){w||(Ae(o),Ae(D,e),Ae(V),Ae(z),Ae(U),w=!0)},o(e){Pe(o),Pe(D,e),Pe(V),Pe(z),Pe(U),w=!1},d(e){e&&C(t),P[i].d(),D&&D.d(e),R&&R.d(),F.d(),V&&V.d(),z&&z.d(),W.d(),e&&C(y),U&&U.d(e),e&&C(b),x=!1,k()}}}function i_(e){let t;return{c(){t=_("div"),t.textContent=":",N(t,"class","jse-separator svelte-uj4yd7")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}function o_(e){let t,n,r;return n=new pO({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m(e,i){S(e,t,i),Fe(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.onContextMenu=e[4].onContextMenu),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n)}}}function s_(e){let t,n;return t=new HO({props:{validationError:e[15],onExpand:e[24]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.validationError=e[15]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function a_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-after svelte-uj4yd7"),N(n,"data-type","insert-selection-area-after")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[32]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function l_(t){let n,r;return n=new bc({props:{data:bl}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function c_(t){let n,r;return n=new bc({props:{data:Il}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function u_(e){let t;return{c(){t=_("div"),t.textContent=":",N(t,"class","jse-separator svelte-uj4yd7")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}function h_(e){let t,n,r,i,o,s,a,l,c,u,h=Object.keys(e[6]).length+"",d=1===Object.keys(e[6]).length?"prop":"props";return{c(){t=_("div"),t.textContent="{",n=E(),r=_("button"),i=P(h),o=E(),s=P(d),a=E(),l=_("div"),l.textContent="}",N(t,"class","jse-bracket svelte-uj4yd7"),N(r,"type","button"),N(r,"class","jse-tag svelte-uj4yd7"),N(l,"class","jse-bracket svelte-uj4yd7")},m(h,d){S(h,t,d),S(h,n,d),S(h,r,d),$(r,i),$(r,o),$(r,s),S(h,a,d),S(h,l,d),c||(u=M(r,"click",e[24]),c=!0)},p(e,t){64&t[0]&&h!==(h=Object.keys(e[6]).length+"")&&L(i,h),64&t[0]&&d!==(d=1===Object.keys(e[6]).length?"prop":"props")&&L(s,d)},d(e){e&&C(t),e&&C(n),e&&C(r),e&&C(a),e&&C(l),c=!1,u()}}}function d_(t){let n;return{c(){n=_("div"),n.textContent="{",N(n,"class","jse-bracket jse-expanded svelte-uj4yd7")},m(e,t){S(e,n,t)},p:e,d(e){e&&C(n)}}}function f_(e){let t,n,r;return n=new pO({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m(e,i){S(e,t,i),Fe(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.onContextMenu=e[4].onContextMenu),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n)}}}function p_(e){let t,n;return t=new HO({props:{validationError:e[15],onExpand:e[24]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.validationError=e[15]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function m_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-after svelte-uj4yd7"),N(n,"data-type","insert-selection-area-after")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[32]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function g_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-inside svelte-uj4yd7"),N(n,"data-type","insert-selection-area-inside")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[31]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function v_(e){let t,n,r,i,o,s,a,l=[],c=new Map,u=!e[4].readOnly&&(e[9]===Nt||e[19])&&y_(e),h=e[11];const d=e=>e[5][e[57]][pt];for(let t=0;t<h.length;t+=1){let n=KO(e,h,t),r=d(n);c.set(r,l[t]=$_(r,n))}let f=!e[10]&&x_(e);return{c(){t=_("div"),u&&u.c(),n=E();for(let e=0;e<l.length;e+=1)l[e].c();r=E(),i=_("div"),o=_("div"),o.innerHTML='<div class="jse-bracket svelte-uj4yd7">}</div>',s=E(),f&&f.c(),N(t,"class","jse-props svelte-uj4yd7"),N(o,"data-type","selectable-value"),N(o,"class","jse-footer svelte-uj4yd7"),N(i,"class","jse-footer-outer svelte-uj4yd7"),N(i,"style",e[13])},m(e,c){S(e,t,c),u&&u.m(t,null),$(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);S(e,r,c),S(e,i,c),$(i,o),$(i,s),f&&f.m(i,null),a=!0},p(e,r){e[4].readOnly||e[9]!==Nt&&!e[19]?u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e()):u?(u.p(e,r),524816&r[0]&&Ae(u,1)):(u=y_(e),u.c(),Ae(u,1),u.m(t,n)),306186622&r[0]&&(h=e[11],Oe(),l=Ie(l,r,d,1,e,h,c,t,Ne,$_,null,KO),_e()),e[10]?f&&(f.d(1),f=null):f?f.p(e,r):(f=x_(e),f.c(),f.m(i,null)),(!a||8192&r[0])&&N(i,"style",e[13])},i(e){if(!a){Ae(u);for(let e=0;e<h.length;e+=1)Ae(l[e]);a=!0}},o(e){Pe(u);for(let e=0;e<l.length;e+=1)Pe(l[e]);a=!1},d(e){e&&C(t),u&&u.d();for(let e=0;e<l.length;e+=1)l[e].d();e&&C(r),e&&C(i),f&&f.d()}}}function y_(e){let t,n,r,i;return n=new pO({props:{selected:e[19],onContextMenu:e[33]}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-insert-area jse-inside svelte-uj4yd7"),N(t,"data-type","insert-selection-area-inside"),N(t,"style",r=V_(e[1].length+1)),N(t,"title",Mt),H(t,"jse-hovered",e[9]===Nt),H(t,"jse-selected",e[19])},m(e,r){S(e,t,r),Fe(n,t,null),i=!0},p(e,o){const s={};524288&o[0]&&(s.selected=e[19]),n.$set(s),(!i||2&o[0]&&r!==(r=V_(e[1].length+1)))&&N(t,"style",r),(!i||512&o[0])&&H(t,"jse-hovered",e[9]===Nt),(!i||524288&o[0])&&H(t,"jse-selected",e[19])},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),Ve(n)}}}function b_(e){let t,n;return t=new pO({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.onContextMenu=e[4].onContextMenu),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function w_(e){let t,n,r,i,o,s=!e[4].readOnly&&La(e[1],e[57],e[8]);n=new jO({props:{path:e[22](e[1].concat(e[57])),key:e[57],context:e[4],selection:e[8]?.[e[57]]?.[$t],searchResult:e[2]?.[e[57]]?.[yt],onUpdateKey:e[25]}});let a=s&&b_(e);return{c(){t=_("div"),Be(n.$$.fragment),r=E(),a&&a.c(),i=E(),N(t,"slot","identifier"),N(t,"class","jse-identifier svelte-uj4yd7")},m(e,s){S(e,t,s),Fe(n,t,null),$(t,r),a&&a.m(t,null),$(t,i),o=!0},p(e,r){const o={};2050&r[0]&&(o.path=e[22](e[1].concat(e[57]))),2048&r[0]&&(o.key=e[57]),16&r[0]&&(o.context=e[4]),2304&r[0]&&(o.selection=e[8]?.[e[57]]?.[$t]),2052&r[0]&&(o.searchResult=e[2]?.[e[57]]?.[yt]),n.$set(o),2322&r[0]&&(s=!e[4].readOnly&&La(e[1],e[57],e[8])),s?a?(a.p(e,r),2322&r[0]&&Ae(a,1)):(a=b_(e),a.c(),Ae(a,1),a.m(t,i)):a&&(Oe(),Pe(a,1,1,(()=>{a=null})),_e())},i(e){o||(Ae(n.$$.fragment,e),Ae(a),o=!0)},o(e){Pe(n.$$.fragment,e),Pe(a),o=!1},d(e){e&&C(t),Ve(n),a&&a.d()}}}function $_(e,t){let n,r,i;return r=new q_({props:{value:t[6][t[57]],path:t[22](t[1].concat(t[57])),state:t[5][t[57]],selection:t[8]?t[8][t[57]]:void 0,searchResult:t[2]?t[2][t[57]]:void 0,validationErrors:t[3]?t[3][t[57]]:void 0,context:t[4],onDragSelectionStart:t[28],$$slots:{identifier:[w_]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),Be(r.$$.fragment),this.first=n},m(e,t){S(e,n,t),Fe(r,e,t),i=!0},p(e,n){t=e;const i={};2112&n[0]&&(i.value=t[6][t[57]]),2050&n[0]&&(i.path=t[22](t[1].concat(t[57]))),2080&n[0]&&(i.state=t[5][t[57]]),2304&n[0]&&(i.selection=t[8]?t[8][t[57]]:void 0),2052&n[0]&&(i.searchResult=t[2]?t[2][t[57]]:void 0),2056&n[0]&&(i.validationErrors=t[3]?t[3][t[57]]:void 0),16&n[0]&&(i.context=t[4]),2326&n[0]|512&n[1]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(e){i||(Ae(r.$$.fragment,e),i=!0)},o(e){Pe(r.$$.fragment,e),i=!1},d(e){e&&C(n),Ve(r,e)}}}function x_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-after svelte-uj4yd7"),N(n,"data-type","insert-selection-area-after")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[32]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function k_(t){let n,r;return n=new bc({props:{data:bl}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function S_(t){let n,r;return n=new bc({props:{data:Il}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function C_(e){let t;return{c(){t=_("div"),t.textContent=":",N(t,"class","jse-separator svelte-uj4yd7")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}function O_(e){let t,n,r,i,o,s,a,l,c,u,h=e[6].length+"",d=1===e[6].length?"item":"items";return{c(){t=_("div"),t.textContent="[",n=E(),r=_("button"),i=P(h),o=E(),s=P(d),a=E(),l=_("div"),l.textContent="]",N(t,"class","jse-bracket svelte-uj4yd7"),N(r,"type","button"),N(r,"class","jse-tag svelte-uj4yd7"),N(l,"class","jse-bracket svelte-uj4yd7")},m(h,d){S(h,t,d),S(h,n,d),S(h,r,d),$(r,i),$(r,o),$(r,s),S(h,a,d),S(h,l,d),c||(u=M(r,"click",e[24]),c=!0)},p(e,t){64&t[0]&&h!==(h=e[6].length+"")&&L(i,h),64&t[0]&&d!==(d=1===e[6].length?"item":"items")&&L(s,d)},d(e){e&&C(t),e&&C(n),e&&C(r),e&&C(a),e&&C(l),c=!1,u()}}}function __(e){let t,n,r,i,o,s,a=e[6].length+"",l=1===e[6].length?"item":"items";return{c(){t=_("div"),t.textContent="[",n=E(),r=_("span"),i=P(a),o=E(),s=P(l),N(t,"class","jse-bracket svelte-uj4yd7"),N(r,"class","jse-tag jse-expanded svelte-uj4yd7")},m(e,a){S(e,t,a),S(e,n,a),S(e,r,a),$(r,i),$(r,o),$(r,s)},p(e,t){64&t[0]&&a!==(a=e[6].length+"")&&L(i,a),64&t[0]&&l!==(l=1===e[6].length?"item":"items")&&L(s,l)},d(e){e&&C(t),e&&C(n),e&&C(r)}}}function A_(e){let t,n,r;return n=new pO({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-context-menu-button-anchor svelte-uj4yd7")},m(e,i){S(e,t,i),Fe(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.onContextMenu=e[4].onContextMenu),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n)}}}function P_(e){let t,n;return t=new HO({props:{validationError:e[15],onExpand:e[24]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.validationError=e[15]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function E_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-after svelte-uj4yd7"),N(n,"data-type","insert-selection-area-after")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[32]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function j_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-inside svelte-uj4yd7"),N(n,"data-type","insert-selection-area-inside")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[31]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function M_(e){let t,n,r,i,o,s,a,l=[],c=new Map,u=!e[4].readOnly&&(e[9]===Nt||e[19])&&T_(e),h=e[16];const d=e=>e[53];for(let t=0;t<h.length;t+=1){let n=YO(e,h,t),r=d(n);c.set(r,l[t]=R_(r,n))}let f=!e[10]&&L_(e);return{c(){t=_("div"),u&&u.c(),n=E();for(let e=0;e<l.length;e+=1)l[e].c();r=E(),i=_("div"),o=_("div"),o.innerHTML='<span class="jse-bracket svelte-uj4yd7">]</span>',s=E(),f&&f.c(),N(t,"class","jse-items svelte-uj4yd7"),N(o,"data-type","selectable-value"),N(o,"class","jse-footer svelte-uj4yd7"),N(i,"class","jse-footer-outer svelte-uj4yd7"),N(i,"style",e[13])},m(e,c){S(e,t,c),u&&u.m(t,null),$(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);S(e,r,c),S(e,i,c),$(i,o),$(i,s),f&&f.m(i,null),a=!0},p(e,r){e[4].readOnly||e[9]!==Nt&&!e[19]?u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e()):u?(u.p(e,r),524816&r[0]&&Ae(u,1)):(u=T_(e),u.c(),Ae(u,1),u.m(t,n)),272695806&r[0]&&(h=e[16],Oe(),l=Ie(l,r,d,1,e,h,c,t,Ne,R_,null,YO),_e()),e[10]?f&&(f.d(1),f=null):f?f.p(e,r):(f=L_(e),f.c(),f.m(i,null)),(!a||8192&r[0])&&N(i,"style",e[13])},i(e){if(!a){Ae(u);for(let e=0;e<h.length;e+=1)Ae(l[e]);a=!0}},o(e){Pe(u);for(let e=0;e<l.length;e+=1)Pe(l[e]);a=!1},d(e){e&&C(t),u&&u.d();for(let e=0;e<l.length;e+=1)l[e].d();e&&C(r),e&&C(i),f&&f.d()}}}function T_(e){let t,n,r,i;return n=new pO({props:{selected:e[19],onContextMenu:e[33]}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-insert-area jse-inside svelte-uj4yd7"),N(t,"data-type","insert-selection-area-inside"),N(t,"style",r=V_(e[1].length+1)),N(t,"title",Mt),H(t,"jse-hovered",e[9]===Nt),H(t,"jse-selected",e[19])},m(e,r){S(e,t,r),Fe(n,t,null),i=!0},p(e,o){const s={};524288&o[0]&&(s.selected=e[19]),n.$set(s),(!i||2&o[0]&&r!==(r=V_(e[1].length+1)))&&N(t,"style",r),(!i||512&o[0])&&H(t,"jse-hovered",e[9]===Nt),(!i||524288&o[0])&&H(t,"jse-selected",e[19])},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),Ve(n)}}}function N_(e){let t,n,r,i=e[51].start+e[56]+"";return{c(){t=_("div"),n=_("div"),r=P(i),N(n,"class","jse-index svelte-uj4yd7"),N(t,"slot","identifier"),N(t,"class","jse-identifier svelte-uj4yd7")},m(e,i){S(e,t,i),$(t,n),$(n,r)},p(e,t){65600&t[0]&&i!==(i=e[51].start+e[56]+"")&&L(r,i)},d(e){e&&C(t)}}}function I_(e,t){let n,r,i;return r=new q_({props:{value:t[54],path:t[22](t[1].concat(t[51].start+t[56])),state:t[5][t[51].start+t[56]],selection:t[8]?t[8][t[51].start+t[56]]:void 0,searchResult:t[2]?t[2][t[51].start+t[56]]:void 0,validationErrors:t[3]?t[3][t[51].start+t[56]]:void 0,context:t[4],onDragSelectionStart:t[28],$$slots:{identifier:[N_]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),Be(r.$$.fragment),this.first=n},m(e,t){S(e,n,t),Fe(r,e,t),i=!0},p(e,n){t=e;const i={};65600&n[0]&&(i.value=t[54]),65602&n[0]&&(i.path=t[22](t[1].concat(t[51].start+t[56]))),65632&n[0]&&(i.state=t[5][t[51].start+t[56]]),65856&n[0]&&(i.selection=t[8]?t[8][t[51].start+t[56]]:void 0),65604&n[0]&&(i.searchResult=t[2]?t[2][t[51].start+t[56]]:void 0),65608&n[0]&&(i.validationErrors=t[3]?t[3][t[51].start+t[56]]:void 0),16&n[0]&&(i.context=t[4]),65600&n[0]|512&n[1]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(e){i||(Ae(r.$$.fragment,e),i=!0)},o(e){Pe(r.$$.fragment,e),i=!1},d(e){e&&C(n),Ve(r,e)}}}function D_(e){let t,n;return t=new hO({props:{visibleSections:e[16],sectionIndex:e[53],total:e[6].length,path:e[1],onExpandSection:e[4].onExpandSection,selection:e[7]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};65536&n[0]&&(r.visibleSections=e[16]),65536&n[0]&&(r.sectionIndex=e[53]),64&n[0]&&(r.total=e[6].length),2&n[0]&&(r.path=e[1]),16&n[0]&&(r.onExpandSection=e[4].onExpandSection),128&n[0]&&(r.selection=e[7]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function R_(e,t){let n,r,i,o,s=[],a=new Map,l=t[6].slice(t[51].start,Math.min(t[51].end,t[6].length));const c=e=>e[56];for(let e=0;e<l.length;e+=1){let n=XO(t,l,e),r=c(n);a.set(r,s[e]=I_(r,n))}let u=t[51].end<t[6].length&&D_(t);return{key:e,first:null,c(){n=j();for(let e=0;e<s.length;e+=1)s[e].c();r=E(),u&&u.c(),i=j(),this.first=n},m(e,t){S(e,n,t);for(let n=0;n<s.length;n+=1)s[n].m(e,t);S(e,r,t),u&&u.m(e,t),S(e,i,t),o=!0},p(e,n){t=e,272695678&n[0]&&(l=t[6].slice(t[51].start,Math.min(t[51].end,t[6].length)),Oe(),s=Ie(s,n,c,1,t,l,a,r.parentNode,Ne,I_,r,XO),_e()),t[51].end<t[6].length?u?(u.p(t,n),65600&n[0]&&Ae(u,1)):(u=D_(t),u.c(),Ae(u,1),u.m(i.parentNode,i)):u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e())},i(e){if(!o){for(let e=0;e<l.length;e+=1)Ae(s[e]);Ae(u),o=!0}},o(e){for(let e=0;e<s.length;e+=1)Pe(s[e]);Pe(u),o=!1},d(e){e&&C(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&C(r),u&&u.d(e),e&&C(i)}}}function L_(t){let n,r,i;return{c(){n=_("div"),N(n,"class","jse-insert-selection-area jse-after svelte-uj4yd7"),N(n,"data-type","insert-selection-area-after")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[32]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function B_(e){let t,n,r;return n=new pO({props:{selected:e[20],onContextMenu:e[34]}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-insert-area jse-after svelte-uj4yd7"),N(t,"data-type","insert-selection-area-after"),N(t,"style",e[13]),N(t,"title",Mt),H(t,"jse-hovered",e[9]===It),H(t,"jse-selected",e[20])},m(e,i){S(e,t,i),Fe(n,t,null),r=!0},p(e,i){const o={};1048576&i[0]&&(o.selected=e[20]),n.$set(o),(!r||8192&i[0])&&N(t,"style",e[13]),(!r||512&i[0])&&H(t,"jse-hovered",e[9]===It),(!r||1048576&i[0])&&H(t,"jse-selected",e[20])},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n)}}}function F_(e){let t,n,r,i,s,a,l,c,u;const h=[r_,n_,t_],d=[];function f(e,t){return"array"===e[14]?0:"object"===e[14]?1:2}n=f(e),r=d[n]=h[n](e);let m=!e[4].readOnly&&(e[9]===It||e[20])&&B_(e);return{c(){t=_("div"),r.c(),i=E(),m&&m.c(),N(t,"class",s=p(iO("jse-json-node",{"jse-expanded":e[12]},e[4].onClassName(e[1],e[6])))+" svelte-uj4yd7"),N(t,"data-path",a=sl(e[1])),H(t,"jse-root",e[10]),H(t,"jse-selected",e[21]),H(t,"jse-selected-key",e[18]),H(t,"jse-selected-value",e[17]),H(t,"jse-hovered",e[9]===Dt)},m(r,o){S(r,t,o),d[n].m(t,null),$(t,i),m&&m.m(t,null),l=!0,c||(u=[M(t,"mousedown",e[26]),M(t,"mousemove",e[27]),M(t,"mouseover",e[29]),M(t,"mouseout",e[30]),M(t,"focus",void 0),M(t,"blur",void 0)],c=!0)},p(e,o){let c=n;n=f(e),n===c?d[n].p(e,o):(Oe(),Pe(d[c],1,1,(()=>{d[c]=null})),_e(),r=d[n],r?r.p(e,o):(r=d[n]=h[n](e),r.c()),Ae(r,1),r.m(t,i)),e[4].readOnly||e[9]!==It&&!e[20]?m&&(Oe(),Pe(m,1,1,(()=>{m=null})),_e()):m?(m.p(e,o),1049104&o[0]&&Ae(m,1)):(m=B_(e),m.c(),Ae(m,1),m.m(t,null)),(!l||4178&o[0]&&s!==(s=p(iO("jse-json-node",{"jse-expanded":e[12]},e[4].onClassName(e[1],e[6])))+" svelte-uj4yd7"))&&N(t,"class",s),(!l||2&o[0]&&a!==(a=sl(e[1])))&&N(t,"data-path",a),(!l||5202&o[0])&&H(t,"jse-root",e[10]),(!l||2101330&o[0])&&H(t,"jse-selected",e[21]),(!l||266322&o[0])&&H(t,"jse-selected-key",e[18]),(!l||135250&o[0])&&H(t,"jse-selected-value",e[17]),(!l||4690&o[0])&&H(t,"jse-hovered",e[9]===Dt)},i(e){l||(Ae(r),Ae(m),l=!0)},o(e){Pe(r),Pe(m),l=!1},d(e){e&&C(t),d[n].d(),m&&m.d(),c=!1,o(u)}}}function V_(e){return`margin-left: calc(${e} * var(--jse-indent-size))`}function z_(e,t,n){let r,i,o,s,a,l,c,u,h,d,f,p,m,g,v,y,{$$slots:b={},$$scope:w}=t,{value:$}=t,{path:x}=t,{state:k}=t,{selection:S}=t,{searchResult:C}=t,{validationErrors:O}=t,{context:_}=t,{onDragSelectionStart:A}=t;const P=tt("jsoneditor:JSONNode");let E,j,M;const T=Ri((e=>e),_c);function N(e){_.onDrag(e)}function I(e){RO.selecting&&(RO.selecting=!1,e.stopPropagation()),_.onDragEnd(),document.removeEventListener("mousemove",N,!0),document.removeEventListener("mouseup",I)}function D(){var e,t;return(null===(t=null===(e=_.findElement([]))||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.top)||0}function R(e,t){const n=D()-e.initialContentTop;return t.clientY-e.initialClientY-n}function L(e){if(M){const t=R(M,e),{updatedValue:r,updatedState:i,updatedSelection:o,indexOffset:s}=WO({fullJson:_.getFullJson(),fullState:_.getFullState(),fullSelection:_.getFullSelection(),deltaY:t,items:M.items});s!==M.indexOffset&&(P("drag selection",s,t,o),n(38,M={...M,updatedValue:r,updatedState:i,updatedSelection:o,indexOffset:s,didMoveItems:!0}))}}function B(e){if(M){const t=R(M,e),{operations:r,updatedFullSelection:i}=WO({fullJson:_.getFullJson(),fullState:_.getFullState(),fullSelection:_.getFullSelection(),deltaY:t,items:M.items});r?_.onPatch(r,(()=>({selection:i||_.getFullSelection()}))):e.target!==M.initialTarget||M.didMoveItems||_.onSelect({type:ol(e.target),path:al(e.target)}),n(38,M=void 0),RO.dragging=!1,document.removeEventListener("mousemove",L,!0),document.removeEventListener("mouseup",B)}}return e.$$set=e=>{"value"in e&&n(0,$=e.value),"path"in e&&n(1,x=e.path),"state"in e&&n(35,k=e.state),"selection"in e&&n(36,S=e.selection),"searchResult"in e&&n(2,C=e.searchResult),"validationErrors"in e&&n(3,O=e.validationErrors),"context"in e&&n(4,_=e.context),"onDragSelectionStart"in e&&n(37,A=e.onDragSelectionStart),"$$scope"in e&&n(40,w=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty[0]|128&e.$$.dirty[1]&&n(6,r=void 0!==(null==M?void 0:M.updatedValue)?M.updatedValue:$),144&e.$$.dirty[1]&&n(5,i=void 0!==(null==M?void 0:M.updatedState)?M.updatedState:k),160&e.$$.dirty[1]&&n(8,o=null!=(null==M?void 0:M.updatedSelection)?M.updatedSelection:S),256&e.$$.dirty[0]&&n(7,s=o&&o[$t]),128&e.$$.dirty[0]&&n(21,a=!(!s||!s.pathsMap)),128&e.$$.dirty[0]&&n(20,l=!(!s||s.type!==ga)),128&e.$$.dirty[0]&&n(19,c=!(!s||s.type!==va)),128&e.$$.dirty[0]&&n(18,u=!(!s||s.type!==ya)),128&e.$$.dirty[0]&&n(17,h=!(!s||s.type!==ba)),32&e.$$.dirty[0]&&n(12,d=i[mt]),32&e.$$.dirty[0]&&n(16,f=i[gt]),32&e.$$.dirty[0]&&n(11,p=i[vt]),8&e.$$.dirty[0]&&n(15,m=O&&O[xt]),2&e.$$.dirty[0]&&n(10,g=0===x.length),64&e.$$.dirty[0]&&n(14,v=ln(r)),2&e.$$.dirty[0]&&n(13,y=V_(x.length))},[$,x,C,O,_,i,r,s,o,E,g,p,d,y,v,m,f,h,u,c,l,a,T,function(e){e.stopPropagation();const t=e.ctrlKey;_.onExpand(x,!d,t)},function(e){e.stopPropagation(),_.onExpand(x,!0)},function(e,t){const n=uC(x,p,e,t);return _.onPatch(n),ys(Qt.parseJSONPointer(n[0].path))},function(e){if(function(e){return"DIV"===e.nodeName&&"true"===e.contentEditable}(e.target)||1===e.which&&Ya(e.target,"BUTTON"))return;e.stopPropagation(),e.preventDefault(),document.addEventListener("mousemove",N,!0),document.addEventListener("mouseup",I);const t=ol(e.target);if(function(e,t,n){if(!e)return!1;const r=t.slice(0);if(e.type===wa)for(;r.length>0;){if(!0===e.pathsMap[Qt.compileJSONPointer(r)])return!0;r.pop()}if(e.type===ya)return n===ya&&As(e.focusPath,t);if(e.type===ba){if(n===ba&&As(e.focusPath,t))return!0;if(Ma(t,e.focusPath)&&t.length>e.focusPath.length&&(n===ya||n===ba||n===wa))return!0}return!1}(_.getFullSelection(),x,t))0===e.button&&(_.focus(),A(e));else if(RO.selecting=!0,RO.selectionAnchor=x,RO.selectionAnchorType=t,RO.selectionFocus=x,e.shiftKey){const e=_.getFullSelection();e&&_.onSelect({type:wa,anchorPath:e.anchorPath,focusPath:x})}else switch(t){case ya:case ba:case ga:case va:_.onSelect({type:t,path:x});break;case wa:if(g&&e.target.hasAttribute("data-path")){const e=ys(pa(r,i));_.onSelect(e)}else _.onSelect({type:wa,anchorPath:x,focusPath:x})}},function(e){if(RO.selecting){e.preventDefault(),e.stopPropagation(),null==RO.selectionFocus&&window.getSelection&&window.getSelection().empty();const t=ol(e.target);As(x,RO.selectionFocus)&&t===RO.selectionAnchorType||(RO.selectionFocus=x,_.onSelect({anchorPath:RO.selectionAnchor,focusPath:RO.selectionFocus}))}},function(e){if(_.readOnly)return;const t=_.getFullSelection(),r=Cs(t.focusPath);if(!As(x,r))return void A(e);const i=function(e){const t=[];function n(e){const n=x.concat(e),r=_.findElement(n);null!=r&&t.push({path:n,height:r.clientHeight})}if(Array.isArray($)){const t=ks(e.paths)||e.focusPath,r=ys(e.paths)||e.focusPath,i=ys(t),o=ys(r),s=k[gt].find((e=>i>=e.start&&o<=e.end));if(!s)return null;const{start:a,end:l}=s;mn(a,Math.min($.length,l),n)}else ea(k,n);return t}(t);P("dragSelectionStart",{fullSelection:t,items:i}),i?(n(38,M={initialTarget:e.target,initialClientY:e.clientY,initialContentTop:D(),updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,items:i,indexOffset:0,didMoveItems:!1}),RO.dragging=!0,document.addEventListener("mousemove",L,!0),document.addEventListener("mouseup",B)):P("Cannot drag the current selection (probably spread over multiple sections)")},function(e){RO.selecting||RO.dragging||(e.stopPropagation(),Xa(e.target,"data-type","selectable-value")?n(9,E=Dt):Xa(e.target,"data-type","insert-selection-area-inside")?n(9,E=Nt):Xa(e.target,"data-type","insert-selection-area-after")&&n(9,E=It),clearTimeout(j))},function(e){e.stopPropagation(),j=setTimeout((()=>n(9,E=void 0)))},function(e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),_.onSelect({type:va,path:x}))},function(e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),_.onSelect({type:ga,path:x}))},function(e){_.onSelect({type:va,path:x}),_.onContextMenu(e)},function(e){_.onSelect({type:ga,path:x}),_.onContextMenu(e)},k,S,A,M,b,w]}class q_ extends qe{constructor(e){super(),ze(this,e,z_,F_,l,{value:0,path:1,state:35,selection:36,searchResult:2,validationErrors:3,context:4,onDragSelectionStart:37},null,[-1,-1])}}function H_(e){let t,n;return t=new nu({props:{items:e[0]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.items=e[0]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function W_(e,t,n){let r,i,o,s,a,l,c,{json:u}=t,{selection:h}=t,{readOnly:d}=t,{showSearch:f=!1}=t,{historyState:p}=t,{onExpandAll:m}=t,{onCollapseAll:g}=t,{onUndo:v}=t,{onRedo:y}=t,{onSort:b}=t,{onTransform:w}=t,{onContextMenu:$}=t,{onCopy:x}=t,{onRenderMenu:k=Cr}=t;function S(){n(1,f=!f)}return e.$$set=e=>{"json"in e&&n(2,u=e.json),"selection"in e&&n(3,h=e.selection),"readOnly"in e&&n(4,d=e.readOnly),"showSearch"in e&&n(1,f=e.showSearch),"historyState"in e&&n(5,p=e.historyState),"onExpandAll"in e&&n(6,m=e.onExpandAll),"onCollapseAll"in e&&n(7,g=e.onCollapseAll),"onUndo"in e&&n(8,v=e.onUndo),"onRedo"in e&&n(9,y=e.onRedo),"onSort"in e&&n(10,b=e.onSort),"onTransform"in e&&n(11,w=e.onTransform),"onContextMenu"in e&&n(12,$=e.onContextMenu),"onCopy"in e&&n(13,x=e.onCopy),"onRenderMenu"in e&&n(14,k=e.onRenderMenu)},e.$$.update=()=>{4&e.$$.dirty&&n(20,r=void 0!==u),e.$$.dirty,1048584&e.$$.dirty&&n(17,i=r&&null!=h&&(h.type===wa||h.type===ya||h.type===ba)),68&e.$$.dirty&&n(19,o={icon:Bc,title:"Expand all",className:"jse-expand-all",onClick:m,disabled:!sn(u)}),132&e.$$.dirty&&n(18,s={icon:Fc,title:"Collapse all",className:"jse-collapse-all",onClick:g,disabled:!sn(u)}),4&e.$$.dirty&&n(16,a={icon:Fl,title:"Search (Ctrl+F)",className:"jse-search",onClick:S,disabled:void 0===u}),999220&e.$$.dirty&&n(15,l=d?[o,s,{separator:!0},{icon:zl,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:x,disabled:!i},{separator:!0},a,{space:!0}]:[o,s,{separator:!0},{icon:Rl,title:"Sort",className:"jse-sort",onClick:b,disabled:d||void 0===u},{icon:_l,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:w,disabled:d||void 0===u},a,{icon:Dl,title:Tt,className:"jse-contextmenu",onClick:$},{separator:!0},{icon:Ml,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:v,disabled:!p.canUndo},{icon:jl,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:y,disabled:!p.canRedo},{space:!0}]),49152&e.$$.dirty&&n(0,c=k("tree",l)||l)},[c,f,u,h,d,p,m,g,v,y,b,w,$,x,k,l,a,i,s,o,r]}class U_ extends qe{constructor(e){super(),ze(this,e,W_,H_,l,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14})}}function J_(e){let t;return{c(){t=_("ul"),t.innerHTML='<li class="svelte-1q2qkk2">Click inside the editor</li> \n        <li class="svelte-1q2qkk2">Paste clipboard data using <span class="jse-bold svelte-1q2qkk2">Ctrl+V</span></li> \n        <li class="svelte-1q2qkk2">Create a new object by typing <span class="jse-bold svelte-1q2qkk2">{</span></li> \n        <li class="svelte-1q2qkk2">Create a new array by typing <span class="jse-bold svelte-1q2qkk2">[</span></li>',N(t,"class","svelte-1q2qkk2")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}function K_(t){let n,r,i,o,s,a,l,c=!t[0]&&J_();return{c(){n=_("div"),r=_("div"),i=E(),o=_("div"),s=P("Empty document\n    "),c&&c.c(),a=E(),l=_("div"),N(r,"class","jse-space jse-before svelte-1q2qkk2"),N(o,"class","jse-contents svelte-1q2qkk2"),N(l,"class","jse-space jse-after svelte-1q2qkk2"),N(n,"class","jse-welcome svelte-1q2qkk2")},m(e,t){S(e,n,t),$(n,r),$(n,i),$(n,o),$(o,s),c&&c.m(o,null),$(n,a),$(n,l)},p(e,[t]){e[0]?c&&(c.d(1),c=null):c||(c=J_(),c.c(),c.m(o,null))},i:e,o:e,d(e){e&&C(n),c&&c.d()}}}function G_(e,t,n){let{readOnly:r}=t;return e.$$set=e=>{"readOnly"in e&&n(0,r=e.readOnly)},[r]}class Q_ extends qe{constructor(e){super(),ze(this,e,G_,K_,l,{readOnly:0})}}function Y_(e,t,n){const r=e.slice();return r[4]=t[n],r}function X_(e,t){let n,r,i,o,s,a=aC(t[4],nA)+"";function l(){return t[3](t[4])}return{key:e,first:null,c(){n=_("button"),r=P(a),N(n,"type","button"),N(n,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),N(n,"title",i=t[4]),H(n,"jse-selected",t[4]===t[1]),this.first=n},m(e,t){S(e,n,t),$(n,r),o||(s=M(n,"click",T(l)),o=!0)},p(e,o){t=e,1&o&&a!==(a=aC(t[4],nA)+"")&&L(r,a),1&o&&i!==(i=t[4])&&N(n,"title",i),3&o&&H(n,"jse-selected",t[4]===t[1])},d(e){e&&C(n),o=!1,s()}}}function Z_(t){let n,r;return{c(){n=_("button"),r=P("..."),N(n,"type","button"),N(n,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),N(n,"title","Limited to "+tA+" items")},m(e,t){S(e,n,t),$(n,r)},p:e,d(e){e&&C(n)}}}function eA(t){let n,r,i=[],o=new Map,s=gn(t[0],tA);const a=e=>e[4];for(let e=0;e<s.length;e+=1){let n=Y_(t,s,e),r=a(n);o.set(r,i[e]=X_(r,n))}let l=t[0].length>tA&&Z_();return{c(){n=_("div");for(let e=0;e<i.length;e+=1)i[e].c();r=E(),l&&l.c(),N(n,"class","jse-navigation-bar-dropdown svelte-6hb2gf")},m(e,t){S(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null);$(n,r),l&&l.m(n,null)},p(e,[t]){7&t&&(s=gn(e[0],tA),i=Ie(i,t,a,1,e,s,o,n,Te,X_,r,Y_)),e[0].length>tA?l?l.p(e,t):(l=Z_(),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},i:e,o:e,d(e){e&&C(n);for(let e=0;e<i.length;e+=1)i[e].d();l&&l.d()}}}const tA=100,nA=30;function rA(e,t,n){let{items:r}=t,{selectedItem:i}=t,{onSelect:o}=t;return e.$$set=e=>{"items"in e&&n(0,r=e.items),"selectedItem"in e&&n(1,i=e.selectedItem),"onSelect"in e&&n(2,o=e.onSelect)},[r,i,o,e=>o(e)]}class iA extends qe{constructor(e){super(),ze(this,e,rA,eA,l,{items:0,selectedItem:1,onSelect:2})}}function oA(e){let t,n,r,i;return{c(){t=_("button"),n=P(e[2]),N(t,"type","button"),N(t,"class","jse-navigation-bar-button svelte-1r1k9th")},m(o,s){S(o,t,s),$(t,n),r||(i=M(t,"click",e[9]),r=!0)},p(e,t){4&t&&L(n,e[2])},d(e){e&&C(t),r=!1,i()}}}function sA(e){let t,n,r,i,o,s,a;r=new bc({props:{data:Cl}});let l=void 0!==e[2]&&oA(e);return{c(){t=_("div"),n=_("button"),Be(r.$$.fragment),i=E(),l&&l.c(),N(n,"type","button"),N(n,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"),H(n,"jse-open",e[1]),N(t,"class","jse-navigation-bar-item svelte-1r1k9th")},m(c,u){S(c,t,u),$(t,n),Fe(r,n,null),$(t,i),l&&l.m(t,null),e[10](t),o=!0,s||(a=M(n,"click",e[4]),s=!0)},p(e,[r]){(!o||2&r)&&H(n,"jse-open",e[1]),void 0!==e[2]?l?l.p(e,r):(l=oA(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(e){o||(Ae(r.$$.fragment,e),o=!0)},o(e){Pe(r.$$.fragment,e),o=!1},d(n){n&&C(t),Ve(r),l&&l.d(),e[10](null),s=!1,a()}}}function aA(e,t,n){let r,i;const{openAbsolutePopup:o,closeAbsolutePopup:s}=se("absolute-popup");let a,{path:l}=t,{index:c}=t,{onSelect:u}=t,{getItems:h}=t,d=!1;function f(e){s(),u(r.concat(e))}return e.$$set=e=>{"path"in e&&n(5,l=e.path),"index"in e&&n(6,c=e.index),"onSelect"in e&&n(7,u=e.onSelect),"getItems"in e&&n(8,h=e.getItems)},e.$$.update=()=>{96&e.$$.dirty&&(r=l.slice(0,c)),96&e.$$.dirty&&n(2,i=l[c])},[a,d,i,f,function(){if(a){n(1,d=!0);const e={items:h(r),selectedItem:i,onSelect:f};o(iA,e,{anchor:a,closeOnOuterClick:!0,onClose:()=>{n(1,d=!1)}})}},l,c,u,h,()=>f(i),function(e){ce[e?"unshift":"push"]((()=>{a=e,n(0,a)}))}]}class lA extends qe{constructor(e){super(),ze(this,e,aA,sA,l,{path:5,index:6,onSelect:7,getItems:8})}}var cA=Kt((function(e){
/*
     * @version    1.4.0
     * @date       2015-10-26
     * @stability  3 - Stable
     * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
     * @license    MIT License
     */
var t=function(e,t){var n,r,i=1,o=0,s=0,a=String.alphabet;function l(e,t,r){if(r){for(n=t;(r=l(e,n))<76&&r>65;)++n;return+e.slice(t-1,n)}return(r=a&&a.indexOf(e.charAt(t)))>-1?r+76:(r=e.charCodeAt(t)||0)<45||r>127?r:r<46?65:r<48?r-1:r<58?r+18:r<65?r-11:r<91?r+11:r<97?r-37:r<123?r+5:r-63}if((e+="")!=(t+=""))for(;i;)if(r=l(e,o++),i=l(t,s++),r<76&&i<76&&r>66&&i>66&&(r=l(e,o,o),i=l(t,s,o=n),s=n),r!=i)return r<i?-1:1;return 0};try{e.exports=t}catch(e){String.naturalCompare=t}}));function uA(e,t){const n="string"==typeof e?e.toLowerCase():e,r="string"==typeof t?t.toLowerCase():t;return cA(n,r)}function hA(e,t=[],n=[],r=1){const i=function(e,t){return function(n,r){const i=Qt.getIn(n,e),o=Qt.getIn(r,e);return void 0===i?t:void 0===o?-t:"string"!=typeof i&&"string"!=typeof o?i>o?t:i<o?-t:0:t*uA(i,o)}}(n,r),o=Qt.getIn(e,t);return[{op:"replace",path:Qt.compileJSONPointer(t),value:o.slice(0).sort(i)}]}function dA(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function fA(e,t){let n,r,i;return r=new lA({props:{getItems:t[4],path:t[1],index:t[14],onSelect:t[5]}}),{key:e,first:null,c(){n=j(),Be(r.$$.fragment),this.first=n},m(e,t){S(e,n,t),Fe(r,e,t),i=!0},p(e,n){t=e;const i={};2&n&&(i.path=t[1]),2&n&&(i.index=t[14]),r.$set(i)},i(e){i||(Ae(r.$$.fragment,e),i=!0)},o(e){Pe(r.$$.fragment,e),i=!1},d(e){e&&C(n),Ve(r,e)}}}function pA(e){let t,n;return t=new lA({props:{getItems:e[4],path:e[1],index:void 0,onSelect:e[5]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.path=e[1]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function mA(e){let t,n,r,i,o,s,a=[],l=new Map,c=sn(e[0])?" ":"Navigation bar",u=e[1];const h=e=>e[14];for(let t=0;t<u.length;t+=1){let n=dA(e,u,t),r=h(n);l.set(r,a[t]=fA(r,n))}let d=e[3]&&pA(e);return{c(){t=_("div");for(let e=0;e<a.length;e+=1)a[e].c();n=E(),d&&d.c(),r=E(),i=_("div"),o=P(c),N(i,"class","jse-navigation-bar-space svelte-5lwyke"),N(t,"class","jse-navigation-bar svelte-5lwyke")},m(l,c){S(l,t,c);for(let e=0;e<a.length;e+=1)a[e].m(t,null);$(t,n),d&&d.m(t,null),$(t,r),$(t,i),$(i,o),e[9](t),s=!0},p(e,[i]){50&i&&(u=e[1],Oe(),a=Ie(a,i,h,1,e,u,l,t,Ne,fA,n,dA),_e()),e[3]?d?(d.p(e,i),8&i&&Ae(d,1)):(d=pA(e),d.c(),Ae(d,1),d.m(t,r)):d&&(Oe(),Pe(d,1,1,(()=>{d=null})),_e()),(!s||1&i)&&c!==(c=sn(e[0])?" ":"Navigation bar")&&L(o,c)},i(e){if(!s){for(let e=0;e<u.length;e+=1)Ae(a[e]);Ae(d),s=!0}},o(e){for(let e=0;e<a.length;e+=1)Pe(a[e]);Pe(d),s=!1},d(n){n&&C(t);for(let e=0;e<a.length;e+=1)a[e].d();d&&d.d(),e[9](null)}}}function gA(e,t,n){let r,i;const o=tt("jsoneditor:NavigationBar");let s,{json:a}=t,{state:l}=t,{selection:c}=t,{onSelect:u}=t;return e.$$set=e=>{"json"in e&&n(0,a=e.json),"state"in e&&n(6,l=e.state),"selection"in e&&n(7,c=e.selection),"onSelect"in e&&n(8,u=e.onSelect)},e.$$.update=()=>{128&e.$$.dirty&&n(1,r=c?c.focusPath:[]),3&e.$$.dirty&&n(3,i=sn(Qt.getIn(a,r))),2&e.$$.dirty&&setTimeout((()=>{if(s&&s.scrollTo){const e=s.scrollWidth-s.clientWidth;e>0&&(o("scrollTo ",e),s.scrollTo({left:e,behavior:"smooth"}))}}))},[a,r,s,i,function(e){o("get items for path",e);const t=Qt.getIn(a,e);if(Array.isArray(t))return Rs(0,t.length);if(on(t)){const n=(Qt.getIn(l,e.concat(vt))||Object.keys(t)).slice(0);return n.sort(uA),n}return[]},function(e){o("select path",JSON.stringify(e));const t=Na(a,l,{type:wa,anchorPath:e,focusPath:e});u(t)},l,c,u,function(e){ce[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class vA extends qe{constructor(e){super(),ze(this,e,gA,mA,l,{json:0,state:6,selection:7,onSelect:8})}}function yA(e){let t,n,r,i,s,a,l,c,u,h,d,f,p,g,v,y,b,w,x,k,O,A,j,T,I,D,R,F,V=-1!==e[3]?`${e[3]+1}/`:"",z=!e[4]&&bA(e);const q=[$A,wA],W=[];function U(e,t){return e[2]?0:1}l=U(e),c=W[l]=q[l](e),w=new bc({props:{data:Vl}}),O=new bc({props:{data:Sl}}),T=new bc({props:{data:ql}});let J=e[0]&&!e[4]&&xA(e);return{c(){t=_("div"),n=_("form"),z&&z.c(),r=E(),i=_("div"),s=_("div"),a=_("div"),c.c(),u=E(),h=_("label"),d=_("input"),f=E(),p=_("div"),g=P(V),v=P(e[10]),y=E(),b=_("button"),Be(w.$$.fragment),x=E(),k=_("button"),Be(O.$$.fragment),A=E(),j=_("button"),Be(T.$$.fragment),I=E(),J&&J.c(),N(a,"class","jse-search-icon svelte-18vllqh"),N(d,"class","jse-search-input svelte-18vllqh"),N(d,"title","Enter text to search"),N(d,"type","text"),N(d,"placeholder","Find"),N(h,"class","jse-search-input-label svelte-18vllqh"),N(h,"about","jse-search input"),N(p,"class","jse-search-count svelte-18vllqh"),H(p,"jse-visible",""!==e[8]),N(b,"type","button"),N(b,"class","jse-search-next svelte-18vllqh"),N(b,"title","Go to next search result (Enter)"),N(k,"type","button"),N(k,"class","jse-search-previous svelte-18vllqh"),N(k,"title","Go to previous search result (Shift+Enter)"),N(j,"type","button"),N(j,"class","jse-search-clear svelte-18vllqh"),N(j,"title","Close search box (Esc)"),N(s,"class","jse-search-section svelte-18vllqh"),N(i,"class","jse-search-contents svelte-18vllqh"),N(n,"class","jse-search-form svelte-18vllqh"),N(t,"class","jse-search-box svelte-18vllqh")},m(o,c){S(o,t,c),$(t,n),z&&z.m(n,null),$(n,r),$(n,i),$(i,s),$(s,a),W[l].m(a,null),$(s,u),$(s,h),$(h,d),B(d,e[8]),$(s,f),$(s,p),$(p,g),$(p,v),$(s,y),$(s,b),Fe(w,b,null),$(s,x),$(s,k),Fe(O,k,null),$(s,A),$(s,j),Fe(T,j,null),$(i,I),J&&J.m(i,null),D=!0,R||(F=[M(d,"input",e[21]),m(SA.call(null,d)),M(b,"click",e[22]),M(k,"click",e[23]),M(j,"click",e[24]),M(n,"submit",e[12]),M(n,"keydown",e[13])],R=!0)},p(e,t){e[4]?z&&(Oe(),Pe(z,1,1,(()=>{z=null})),_e()):z?(z.p(e,t),16&t&&Ae(z,1)):(z=bA(e),z.c(),Ae(z,1),z.m(n,r));let o=l;l=U(e),l===o?W[l].p(e,t):(Oe(),Pe(W[o],1,1,(()=>{W[o]=null})),_e(),c=W[l],c?c.p(e,t):(c=W[l]=q[l](e),c.c()),Ae(c,1),c.m(a,null)),256&t&&d.value!==e[8]&&B(d,e[8]),(!D||8&t)&&V!==(V=-1!==e[3]?`${e[3]+1}/`:"")&&L(g,V),(!D||1024&t)&&L(v,e[10]),(!D||256&t)&&H(p,"jse-visible",""!==e[8]),e[0]&&!e[4]?J?J.p(e,t):(J=xA(e),J.c(),J.m(i,null)):J&&(J.d(1),J=null)},i(e){D||(Ae(z),Ae(c),Ae(w.$$.fragment,e),Ae(O.$$.fragment,e),Ae(T.$$.fragment,e),D=!0)},o(e){Pe(z),Pe(c),Pe(w.$$.fragment,e),Pe(O.$$.fragment,e),Pe(T.$$.fragment,e),D=!1},d(e){e&&C(t),z&&z.d(),W[l].d(),Ve(w),Ve(O),Ve(T),J&&J.d(),R=!1,o(F)}}}function bA(e){let t,n,r,i,o;return n=new bc({props:{data:e[0]?Il:bl}}),{c(){t=_("button"),Be(n.$$.fragment),N(t,"type","button"),N(t,"class","jse-replace-toggle svelte-18vllqh"),N(t,"title","Toggle visibility of replace options (Ctrl+H)")},m(s,a){S(s,t,a),Fe(n,t,null),r=!0,i||(o=M(t,"click",e[11]),i=!0)},p(e,t){const r={};1&t&&(r.data=e[0]?Il:bl),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n),i=!1,o()}}}function wA(t){let n,r;return n=new bc({props:{data:Fl}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function $A(t){let n,r;return n=new bc({props:{data:$l,spin:!0}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function xA(e){let t,n,r,i,s,a,l,c;return{c(){t=_("div"),n=_("input"),r=E(),i=_("button"),i.textContent="Replace",s=E(),a=_("button"),a.textContent="All",N(n,"class","jse-replace-input svelte-18vllqh"),N(n,"title","Enter replacement text"),N(n,"type","text"),N(n,"placeholder","Replace"),N(i,"type","button"),N(i,"title","Replace current occurrence (Ctrl+Enter)"),N(i,"class","svelte-18vllqh"),N(a,"type","button"),N(a,"title","Replace all occurrences"),N(a,"class","svelte-18vllqh"),N(t,"class","jse-replace-section svelte-18vllqh")},m(o,u){S(o,t,u),$(t,n),B(n,e[9]),$(t,r),$(t,i),$(t,s),$(t,a),l||(c=[M(n,"input",e[25]),M(i,"click",e[14]),M(a,"click",e[15])],l=!0)},p(e,t){512&t&&n.value!==e[9]&&B(n,e[9])},d(e){e&&C(t),l=!1,o(c)}}}function kA(e){let t,n,r=e[1]&&yA(e);return{c(){r&&r.c(),t=j()},m(e,i){r&&r.m(e,i),S(e,t,i),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&Ae(r,1)):(r=yA(e),r.c(),Ae(r,1),r.m(t.parentNode,t)):r&&(Oe(),Pe(r,1,1,(()=>{r=null})),_e())},i(e){n||(Ae(r),n=!0)},o(e){Pe(r),n=!1},d(e){r&&r.d(e),e&&C(t)}}}function SA(e){e.select()}function CA(e,t,n){let r,i,{show:o=!1}=t,{searching:s}=t,{resultCount:a=0}=t,{activeIndex:l=0}=t,{showReplace:c=!1}=t,{readOnly:u=!1}=t,{onChange:h=Cr}=t,{onPrevious:d=Cr}=t,{onNext:f=Cr}=t,{onReplace:p=Cr}=t,{onReplaceAll:m=Cr}=t,{onClose:g=Cr}=t,v="",y="",b="";function w(){n(0,c=!c&&!u)}function $(){u||p(v,b)}return e.$$set=e=>{"show"in e&&n(1,o=e.show),"searching"in e&&n(2,s=e.searching),"resultCount"in e&&n(16,a=e.resultCount),"activeIndex"in e&&n(3,l=e.activeIndex),"showReplace"in e&&n(0,c=e.showReplace),"readOnly"in e&&n(4,u=e.readOnly),"onChange"in e&&n(17,h=e.onChange),"onPrevious"in e&&n(5,d=e.onPrevious),"onNext"in e&&n(6,f=e.onNext),"onReplace"in e&&n(18,p=e.onReplace),"onReplaceAll"in e&&n(19,m=e.onReplaceAll),"onClose"in e&&n(7,g=e.onClose)},e.$$.update=()=>{65536&e.$$.dirty&&n(10,r=a>=kt?"999+":String(a)),131072&e.$$.dirty&&n(20,i=vs(h,300)),1048832&e.$$.dirty&&i(v),2&e.$$.dirty&&o&&""!==v&&h(v)},[c,o,s,l,u,d,f,g,v,b,r,w,function(e){e.preventDefault(),v!==y?(y=v,i.cancel(),h(v)):f()},function(e){e.stopPropagation();const t=ul(e);"Enter"===t&&(e.preventDefault(),f()),"Shift+Enter"===t&&(e.preventDefault(),d()),"Ctrl+Enter"!==t&&"Command+Enter"!==t||(e.preventDefault(),c?$():f()),"Ctrl+H"===t&&(e.preventDefault(),w()),"Escape"===t&&(e.preventDefault(),g())},$,function(){u||m(v,b)},a,h,p,m,i,function(){v=this.value,n(8,v)},()=>f(),()=>d(),()=>g(),function(){b=this.value,n(9,b)}]}class OA extends qe{constructor(e){super(),ze(this,e,CA,kA,l,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7})}}const{window:_A}=Me;function AA(e){let t,n,r;function i(t){e[72](t)}let o={json:e[7],selection:e[9],readOnly:e[0],historyState:e[20],onExpandAll:e[39],onCollapseAll:e[40],onUndo:e[35],onRedo:e[36],onSort:e[37],onTransform:e[38],onContextMenu:e[44],onCopy:e[33],onRenderMenu:e[4]};return void 0!==e[16]&&(o.showSearch=e[16]),t=new U_({props:o}),ce.push((()=>Le(t,"showSearch",i,e[16]))),{c(){Be(t.$$.fragment)},m(e,n){Fe(t,e,n),r=!0},p(e,r){const i={};128&r[0]&&(i.json=e[7]),512&r[0]&&(i.selection=e[9]),1&r[0]&&(i.readOnly=e[0]),1048576&r[0]&&(i.historyState=e[20]),16&r[0]&&(i.onRenderMenu=e[4]),!n&&65536&r[0]&&(n=!0,i.showSearch=e[16],ve((()=>n=!1))),t.$set(i)},i(e){r||(Ae(t.$$.fragment,e),r=!0)},o(e){Pe(t.$$.fragment,e),r=!1},d(e){Ve(t,e)}}}function PA(e){let t,n;return t=new vA({props:{json:e[7],state:e[14],selection:e[9],onSelect:e[47]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.json=e[7]),16384&n[0]&&(r.state=e[14]),512&n[0]&&(r.selection=e[9]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function EA(t){let n;return{c(){n=_("div"),n.innerHTML='<div class="jse-loading-space svelte-1wno2xw"></div> \n      <div class="jse-loading svelte-1wno2xw">loading...</div>',N(n,"class","jse-contents svelte-1wno2xw")},m(e,t){S(e,n,t)},p:e,i:e,o:e,d(e){e&&C(n)}}}function jA(e){let t,n,r,i,o,s,a,l,c;const u=[TA,MA],h=[];function d(e,t){return void 0===e[7]?0:1}return i=d(e),o=h[i]=u[i](e),{c(){t=_("label"),n=_("input"),r=E(),o.c(),s=j(),N(n,"class","jse-hidden-input svelte-1wno2xw"),N(n,"tabindex","-1"),N(t,"class","jse-hidden-input-label svelte-1wno2xw")},m(o,u){S(o,t,u),$(t,n),e[73](n),S(o,r,u),h[i].m(o,u),S(o,s,u),a=!0,l||(c=M(n,"paste",e[34]),l=!0)},p(e,t){let n=i;i=d(e),i===n?h[i].p(e,t):(Oe(),Pe(h[n],1,1,(()=>{h[n]=null})),_e(),o=h[i],o?o.p(e,t):(o=h[i]=u[i](e),o.c()),Ae(o,1),o.m(s.parentNode,s))},i(e){a||(Ae(o),a=!0)},o(e){Pe(o),a=!1},d(n){n&&C(t),e[73](null),n&&C(r),h[i].d(n),n&&C(s),l=!1,c()}}}function MA(e){let t,n,r,i,o,s,a,l,c,u;n=new OA({props:{show:e[16],resultCount:e[19]?e[19].count:0,activeIndex:e[19]?e[19].activeIndex:0,showReplace:e[17],searching:e[18],readOnly:e[0],onChange:e[26],onNext:e[27],onPrevious:e[28],onReplace:e[29],onReplaceAll:e[30],onClose:e[31]}}),o=new q_({props:{value:e[7],path:e[25],state:e[14],selection:e[23],searchResult:e[19]&&e[19].itemsWithActive,validationErrors:e[22],context:e[10],onDragSelectionStart:Cr}});let h=e[15]&&NA(e),d=e[21]&&IA(e);return c=new Lc({props:{validationErrors:e[11],selectError:e[32]}}),{c(){t=_("div"),Be(n.$$.fragment),r=E(),i=_("div"),Be(o.$$.fragment),s=E(),h&&h.c(),a=E(),d&&d.c(),l=E(),Be(c.$$.fragment),N(t,"class","jse-search-box-container svelte-1wno2xw"),N(i,"class","jse-contents svelte-1wno2xw"),N(i,"data-jsoneditor-scrollable-contents",!0)},m(f,p){S(f,t,p),Fe(n,t,null),S(f,r,p),S(f,i,p),Fe(o,i,null),e[74](i),S(f,s,p),h&&h.m(f,p),S(f,a,p),d&&d.m(f,p),S(f,l,p),Fe(c,f,p),u=!0},p(e,t){const r={};65536&t[0]&&(r.show=e[16]),524288&t[0]&&(r.resultCount=e[19]?e[19].count:0),524288&t[0]&&(r.activeIndex=e[19]?e[19].activeIndex:0),131072&t[0]&&(r.showReplace=e[17]),262144&t[0]&&(r.searching=e[18]),1&t[0]&&(r.readOnly=e[0]),n.$set(r);const i={};128&t[0]&&(i.value=e[7]),16384&t[0]&&(i.state=e[14]),8388608&t[0]&&(i.selection=e[23]),524288&t[0]&&(i.searchResult=e[19]&&e[19].itemsWithActive),4194304&t[0]&&(i.validationErrors=e[22]),1024&t[0]&&(i.context=e[10]),o.$set(i),e[15]?h?(h.p(e,t),32768&t[0]&&Ae(h,1)):(h=NA(e),h.c(),Ae(h,1),h.m(a.parentNode,a)):h&&(Oe(),Pe(h,1,1,(()=>{h=null})),_e()),e[21]?d?(d.p(e,t),2097152&t[0]&&Ae(d,1)):(d=IA(e),d.c(),Ae(d,1),d.m(l.parentNode,l)):d&&(Oe(),Pe(d,1,1,(()=>{d=null})),_e());const s={};2048&t[0]&&(s.validationErrors=e[11]),c.$set(s)},i(e){u||(Ae(n.$$.fragment,e),Ae(o.$$.fragment,e),Ae(h),Ae(d),Ae(c.$$.fragment,e),u=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),Pe(h),Pe(d),Pe(c.$$.fragment,e),u=!1},d(u){u&&C(t),Ve(n),u&&C(r),u&&C(i),Ve(o),e[74](null),u&&C(s),h&&h.d(u),u&&C(a),d&&d.d(u),u&&C(l),Ve(c,u)}}}function TA(e){let t,n,r,i;const o=[RA,DA],s=[];function a(e,t){return""===e[8]||void 0===e[8]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=j()},m(e,n){s[t].m(e,n),S(e,r,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(Oe(),Pe(s[l],1,1,(()=>{s[l]=null})),_e(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){i||(Ae(n),i=!0)},o(e){Pe(n),i=!1},d(e){s[t].d(e),e&&C(r)}}}function NA(e){let t,n;return t=new Oc({props:{type:"info",message:`You pasted a JSON ${Array.isArray(e[15].contents)?"array":"object"} as text`,actions:[{icon:Pl,text:"Paste as JSON instead",onMouseDown:e[45]},{text:"Leave as is",onClick:e[46]}]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.message=`You pasted a JSON ${Array.isArray(e[15].contents)?"array":"object"} as text`),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function IA(e){let t,n;return t=new Oc({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:e[0]?[]:[{icon:Wl,text:"Ok",onClick:e[5]},{icon:Al,text:"Repair manually instead",onClick:e[3]}]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};9&n[0]&&(r.actions=e[0]?[]:[{icon:Wl,text:"Ok",onClick:e[5]},{icon:Al,text:"Repair manually instead",onClick:e[3]}]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function DA(e){let t,n,r,i,o;return t=new Oc({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:e[0]?[]:[{icon:Al,text:"Repair manually",onClick:e[3]}]}}),{c(){Be(t.$$.fragment),n=E(),r=_("div"),i=P(e[8]),N(r,"class","jse-preview svelte-1wno2xw")},m(e,s){Fe(t,e,s),S(e,n,s),S(e,r,s),$(r,i),o=!0},p(e,n){const r={};9&n[0]&&(r.actions=e[0]?[]:[{icon:Al,text:"Repair manually",onClick:e[3]}]),t.$set(r),(!o||256&n[0])&&L(i,e[8])},i(e){o||(Ae(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ve(t,e),e&&C(n),e&&C(r)}}}function RA(e){let t,n;return t=new Q_({props:{readOnly:e[0]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.readOnly=e[0]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function LA(e){let t,n,r,i,s,a,l,c,u=e[1]&&AA(e),h=e[2]&&PA(e);const d=[jA,EA],f=[];return i=function(e,t){return e[24]?1:0}(e),s=f[i]=d[i](e),{c(){t=_("div"),u&&u.c(),n=E(),h&&h.c(),r=E(),s.c(),N(t,"class","jse-tree-mode svelte-1wno2xw"),H(t,"no-main-menu",!e[1])},m(o,s){S(o,t,s),u&&u.m(t,null),$(t,n),h&&h.m(t,null),$(t,r),f[i].m(t,null),e[75](t),a=!0,l||(c=[M(_A,"mousedown",e[48]),M(t,"keydown",e[41]),M(t,"mousedown",e[42]),M(t,"contextmenu",e[43])],l=!0)},p(e,i){e[1]?u?(u.p(e,i),2&i[0]&&Ae(u,1)):(u=AA(e),u.c(),Ae(u,1),u.m(t,n)):u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e()),e[2]?h?(h.p(e,i),4&i[0]&&Ae(h,1)):(h=PA(e),h.c(),Ae(h,1),h.m(t,r)):h&&(Oe(),Pe(h,1,1,(()=>{h=null})),_e()),s.p(e,i),(!a||2&i[0])&&H(t,"no-main-menu",!e[1])},i(e){a||(Ae(u),Ae(h),Ae(s),a=!0)},o(e){Pe(u),Pe(h),Pe(s),a=!1},d(n){n&&C(t),u&&u.d(),h&&h.d(),f[i].d(),e[75](null),l=!1,o(c)}}}function BA(e){return e.length<1||1===e.length&&0===e[0]}function FA(){return!0}function VA(e,t,n){let r,i,o,s,a,l;const c=tt("jsoneditor:TreeMode"),u="undefined"==typeof window;c("isSSR:",u);const{open:h}=se("simple-modal"),d=Hs(),f=Hs(),{openAbsolutePopup:p,closeAbsolutePopup:m}=se("absolute-popup");let g,v,y,b=!1;const w=oC();let $,x,{readOnly:k=!1}=t,{externalContent:S}=t,{mainMenuBar:C=!0}=t,{navigationBar:O=!0}=t,{escapeControlCharacters:_=!1}=t,{escapeUnicodeCharacters:A=!1}=t,{validator:P=null}=t,{indentation:E=2}=t,{onError:j}=t,{onChange:M}=t,{onRenderValue:T}=t,{onRequestRepair:N=Cr}=t,{onRenderMenu:I=Cr}=t,{onClassName:D}=t,{onFocus:R}=t,{onBlur:L}=t,{onSortModal:B}=t,{onTransformModal:F}=t,V=!1;Gl({onMount:ne,onDestroy:re,getWindow:()=>nl(y),hasFocus:()=>V&&document.hasFocus()||rl(y),onFocus:()=>{b=!0,R&&R()},onBlur:()=>{b=!1,L&&L()}});let z=Ys({},void 0,[],BA);let q,H=null;function W(e){return _n({json:e},10240)?BA:FA}let U,J=!1,K=!1,G=!1,Q="";async function Y(e){c("search text updated",e),n(69,Q=e),await me(),await X(U&&U.activeItem)}async function X(e){if(e){const t=e.path;n(14,z=ta($,z,t)),n(9,H=null),await me(),await Re(t)}}const Z=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Xn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vs(e,t,{leading:r,maxWait:t,trailing:i})}((function(){""!==Q?(n(18,G=!0),setTimeout((()=>{c("searching...",Q);const e=yC(Q,$,z,kt);n(19,U=vC($,e,U)),n(18,G=!1)}))):n(19,U=void 0)}),300);const ee=function(e={}){const t=e.maxItems||1e3;let n=[],r=0;function i(){return r<n.length}function o(){return r>0}function s(){return{canUndo:i(),canRedo:o(),length:n.length}}function a(){e.onChange&&e.onChange(s())}return{add:function(e){n=[e].concat(n.slice(r)).slice(0,t),r=0,a()},clear:function(){n=[],r=0,a()},getState:s,undo:function(){if(i()){const e=n[r];return r+=1,a(),e}},redo:function(){if(o())return r-=1,a(),n[r]}}}({onChange:e=>{n(20,te=e)}});let te=ee.getState();let ie=!1;function oe(e){void 0!==e.json&&function(e){if(void 0===e)return;const t=!As($,e),r=void 0===$;if(c("update external json",{isChanged:t,isText:r}),!t)return;const i=z,o=$,s=x,a=ie,l=H;n(7,$=e),n(14,z=Ys($,i,[],W($),!1)),n(8,x=void 0),n(21,ie=!1),n(9,H=ae(H,$)),le({previousJson:o,previousState:i,previousText:s,previousTextIsRepaired:a,previousSelection:l}),Z()}(e.json),void 0!==e.text&&function(e){if(void 0===e||void 0!==S.json)return;if(e===x)return;c("update external text");const t=$,r=z,i=x,o=ie,s=H;try{n(7,$=JSON.parse(e)),n(14,z=Ys($,r,[],W($),!1)),n(8,x=e),n(21,ie=!1),n(9,H=ae(H,$))}catch(t){try{n(7,$=JSON.parse(rn(e))),n(14,z=Ys($,r,[],W($),!1)),n(8,x=e),n(21,ie=!0),n(9,H=ae(H,$))}catch(e){n(7,$=void 0),n(14,z=void 0),n(8,x=S.text),n(21,ie=!1),n(9,H=ae(H,$))}}H||void 0!==$||""!==x&&void 0!==x||n(9,H=ue());le({previousJson:t,previousState:r,previousText:i,previousTextIsRepaired:o,previousSelection:s}),Z()}(e.text)}function ae(e,t){return e&&Qt.existsIn(t,e.anchorPath)&&Qt.existsIn(t,e.focusPath)?e:(c("clearing selection: path does not exist anymore"),null)}function le({previousJson:e,previousState:t,previousText:n,previousTextIsRepaired:r,previousSelection:i}){void 0===e&&void 0===n||(void 0!==$?void 0!==e?ee.add({undo:{patch:[{op:"replace",path:"",value:e}],state:t,text:n,textIsRepaired:r,selection:Ta(i)},redo:{patch:[{op:"replace",path:"",value:$}],state:z,text:x,textIsRepaired:ie,selection:Ta(H)}}):ee.add({undo:{state:t,text:n,textIsRepaired:r,selection:Ta(i)},redo:{json:$,state:z,text:x,textIsRepaired:ie,selection:Ta(H)}}):void 0!==e&&ee.add({undo:{json:e,state:t,text:n,textIsRepaired:r,selection:Ta(i)},redo:{text:x,textIsRepaired:ie,state:z,selection:Ta(H)}}))}function ue(){return Na($||{},z,{type:wa,anchorPath:[],focusPath:[]})}function he(e,t){if(void 0===$)throw new Error("Cannot apply patch: no JSON");const r=$,i=z,o=x,s=ie,a=H;c("patch",e,t);const l=Qt.revertJSONPatch($,e),u=ra($,z,e),h="function"==typeof t?t(u.json,u.state,H):void 0;return n(7,$=h&&void 0!==h.json?h.json:u.json),n(14,z=h&&void 0!==h.state?h.state:u.state),n(8,x=void 0),n(21,ie=!1),n(9,H=h&&h.selection?h.selection:Aa(r,0,e)),n(9,H=ae(H,$)),ee.add({undo:{patch:l,state:i,text:o,textIsRepaired:s,selection:Ta(a)},redo:{patch:e,state:z,text:x,textIsRepaired:ie,selection:Ta(H)}}),{json:$,previousJson:r,undo:l,redo:e}}function de(){return H&&(H.type===wa||H.type===ya||H.type===ba)}function fe(){!k&&H&&n(9,H=Na($,z,{type:ya,path:H.focusPath,edit:!0}))}function pe(){!k&&H&&n(9,H=Na($,z,{type:ba,path:H.focusPath,edit:!0}))}function ge(){if(k||!H||H.type!==ba)return;const e=H.focusPath,t=e.concat(wt),r=!Qt.getIn(z,t);n(14,z=Qt.setIn(z,t,r,!0));const i=Qt.getIn($,e),o=r?String(i):hn(i);o!==i&&Ve([{op:"replace",path:Qt.compileJSONPointer(e),value:o}])}async function ve(e=!0){if(k||!de())return;const t=Ia($,H,e?E:null);if(null==t)return;c("cut",{selection:H,clipboard:t,indent:e});try{await navigator.clipboard.writeText(t)}catch(e){j(e)}const{operations:n,newSelection:r}=gC($,z,H);Ve(n,(()=>({selection:r})))}async function ye(e=!0){const t=Ia($,H,e?E:null);if(null!=t){c("copy",{clipboard:t,indent:e});try{await navigator.clipboard.writeText(t)}catch(e){j(e)}}}function be(){h(PC,{},{...Pt,styleWindow:{...Pt.styleWindow,width:"450px"}},{onClose:()=>setTimeout(R)})}function we(e){if(void 0!==$){const t=H||ue(),n=hC($,z,t,e);c("paste",{clipboardText:e,operations:n,selectionOrDefault:t}),Ve(n,((e,t)=>{let r=t;return n.filter((e=>sn(e.value))).forEach((t=>{const n=Ws($,t.path);r=qe(e,r,n)})),{state:r}}))}else c("paste text",{clipboardText:e}),function(e,t){const r=z,i=$,o=x,s={json:$,text:x},a=ie,l=H;try{n(7,$=JSON.parse(e)),n(14,z=Ys($,r,[],BA)),n(8,x=void 0),n(21,ie=!1)}catch(t){try{n(7,$=JSON.parse(rn(e))),n(14,z=Ys($,r,[],BA)),n(8,x=e),n(21,ie=!0)}catch(t){n(7,$=void 0),n(14,z=Ys($,Xs($),[],BA)),n(8,x=e),n(21,ie=!1)}}if("function"==typeof t){const e=t($,z,H);n(7,$=e&&e.json?e.json:$),n(14,z=e&&e.state?e.state:z),n(9,H=e&&e.selection?e.selection:H)}n(9,H=ae(H,$)),le({previousJson:i,previousState:r,previousText:o,previousTextIsRepaired:a,previousSelection:l});Fe(s,null)}(e,((e,t)=>{if(e){return{state:qe(e,t,[])}}}))}function $e(){if(k||!H)return;const e=H.type===ya||H.type===ba?Na($,z,{type:wa,anchorPath:H.anchorPath,focusPath:H.focusPath}):H;if(_s(H.focusPath)){c("remove root",{selection:H});M({text:"",json:void 0},{text:x,json:$},null)}else{const{operations:t,newSelection:n}=gC($,z,e);c("remove",{operations:t,selection:H,newSelection:n}),Ve(t,(()=>({selection:n})))}}function xe(){if(k||!de()||_s(H.focusPath))return;c("duplicate",{selection:H});const e=function(e,t,n){const r=ys(n);if(_s(r))throw new Error("Cannot duplicate root object");const i=Cs(r),o=ys(r),s=Qt.getIn(e,i);if(Array.isArray(s)){const e=ys(n),t=e?parseInt(ys(e),10)+1:0;return[...n.map(((e,n)=>({op:"copy",from:Qt.compileJSONPointer(e),path:Qt.compileJSONPointer(i.concat(n+t))})))]}{const e=oa(t,i),r=la(e,o,!1);return[...n.map((t=>{const n=sC(ys(t),e);return{op:"copy",from:Qt.compileJSONPointer(t),path:Qt.compileJSONPointer(i.concat(n))}})),...r.map((e=>pC(i,e)))]}}($,z,H.paths||[H.focusPath]);Ve(e)}function ke(){if(k||!H||H.type!==wa&&H.type!==ba||_s(H.focusPath))return;c("extract",{selection:H});const e=function(e,t,n){if(n.type===ba)return[{op:"move",from:Qt.compileJSONPointer(n.focusPath),path:""}];if(n.type===wa){const t=Cs(n.focusPath),r=Qt.getIn(e,t);if(Array.isArray(r))return[{op:"replace",path:"",value:n.paths.map((e=>{const t=ys(e);return r[t]}))}];{const e={};return n.paths.forEach((t=>{const n=ys(t);e[n]=r[n]})),[{op:"replace",path:"",value:e}]}}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(n))}($,0,H);Ve(e,((e,t)=>{if(sn(e)){return{state:qe(e,t,[])}}})),Ye()}function Se(e){if(k||!H)return;const t=dC($,H,e);if(void 0!==$){const n=JSON.stringify(t),r=hC($,z,H,n);c("handleInsert",{type:e,operations:r,newValue:t,data:n});const i=ys(r.filter((e=>"add"===e.op||"replace"===e.op)));Ve(r,((e,n)=>{if(i){const r=Ws(e,i.path);if(sn(t))return{state:na(e,n,r,FA),selection:Na(e||{},n,{type:va,path:r})};if(""===t){return{selection:Na(e,n,{type:on(_s(r)?null:Qt.getIn(e,Cs(r)))?ya:ba,path:r,edit:!0})}}}else;})),i&&(Ye(),""===t&&me().then((()=>{setTimeout((()=>Pe("",!0)))})))}else{c("handleInsert",{type:e,newValue:t});const n=[];ze(t,((e,t)=>({state:qe(e,t,n),selection:Na(e,t,{type:va,path:n})}))),Ye()}}function Ce(e){H.type===ya&&n(9,H=Na($,z,{type:ba,path:H.focusPath})),Se(e)}function Oe(e){if(!k&&H)if(Ra(H))try{const t=H.anchorPath,n=Qt.getIn($,t),r=function(e,t){if("array"===t){if(Array.isArray(e))return e;if(on(e))return yn(e);if("string"==typeof e){const t=JSON.parse(e);if(Array.isArray(t))return t;if(on(t))return yn(t)}}if("object"===t){if(Array.isArray(e))return vn(e);if(on(e))return e;if("string"==typeof e){const t=JSON.parse(e);if(on(t))return t;if(Array.isArray(t))return vn(t)}}if("value"===t)return sn(e)?JSON.stringify(e):e;throw new Error(`Cannot convert ${ln(e)} to ${t}`)}(n,e);if(r===n)return;const i=[{op:"replace",path:Qt.compileJSONPointer(t),value:r}];c("handleConvert",{selection:H,path:t,type:e,operations:i}),Ve(i,((e,t)=>({state:qe(e,t,H.focusPath)}))),Ye()}catch(e){j(e)}else j(new Error(`Cannot convert current selection to ${e}`))}function _e(){const e=Sa($,z,H,!1),t=Cs(H.focusPath);!_s(e.focusPath)&&As(t,Cs(e.focusPath))?n(9,H=Na($,z,{type:ga,path:e.focusPath})):n(9,H=Na($,z,{type:va,path:t})),c("insert before",{selection:H,selectionBefore:e,parentPath:t}),me().then(Qe)}function Ae(){const e=H.paths?ys(H.paths):H.focusPath;c("insert after",e),n(9,H=Na($,z,{type:ga,path:e})),me().then(Qe)}function Pe(e,t){const n=nl(y).document.activeElement;n.isContentEditable&&(n.textContent=t?e:n.textContent+e,tl(n))}async function Ee(e){if(!k&&H){if(H.type===ya){const t=!H.edit;return n(9,H={...H,edit:!0}),await me(),void setTimeout((()=>Pe(e,t)))}if("{"===e)Se("object");else if("["===e)Se("array");else if(H.type===ba){if(!sn(Qt.getIn($,H.focusPath))){const t=!H.edit;n(9,H={...H,edit:!0}),await me(),setTimeout((()=>Pe(e,t)))}}else await async function(e){if(k||!H)return;Se("value");const t=!H.edit,r=H.focusPath,i=Qt.getIn($,Cs(r));n(9,H=Na($,z,{type:Array.isArray(i)||!i||H.type===ba?ba:ya,path:r,edit:!0})),await me(),setTimeout((()=>Pe(e,t)))}(e)}}function je(){if(k)return;if(!ee.getState().canUndo)return;const e=ee.undo();if(!e)return;const t={json:$,text:x};n(9,H=e.undo.selection),n(7,$=e.undo.patch?Qt.immutableJSONPatch($,e.undo.patch):e.undo.json),n(14,z=e.undo.state),n(8,x=e.undo.text),n(21,ie=e.undo.textIsRepaired),c("undo",{item:e,json:$,state:z,selection:H});Fe(t,{json:$,previousJson:t.json,redo:e.undo.patch,undo:e.redo.patch}),Ye(),H&&Re(H.focusPath)}function Me(){if(k)return;if(!ee.getState().canRedo)return;const e=ee.redo();if(!e)return;const t={json:$,text:x};n(9,H=e.redo.selection),n(7,$=e.redo.patch?Qt.immutableJSONPatch($,e.redo.patch):e.redo.json),n(14,z=e.redo.state),n(8,x=e.redo.text),n(21,ie=e.redo.textIsRepaired),c("redo",{item:e,json:$,state:z,selection:H});Fe(t,{json:$,previousJson:t.json,redo:e.redo.patch,undo:e.undo.patch}),Ye(),H&&Re(H.focusPath)}function Te(e){k||(V=!0,B({id:d,json:$,selectedPath:e,onSort:async t=>{c("onSort",e,t),Ve(t,((t,n)=>({state:qe(t,n,e),selection:Na(t,n,{type:ba,path:e})})))},onClose:()=>{V=!1,Ye()}}))}function Ne(){if(!H)return;Te(ja($,H))}function Ie({id:e,selectedPath:t,onTransform:n,onClose:r}){V=!0,F({id:e||f,json:$,selectedPath:t,onTransform:n?e=>{n({operations:e,json:$,transformedJson:Qt.immutableJSONPatch($,e)})}:e=>{c("onTransform",t,e),Ve(e,((e,n)=>({state:qe(e,n,t),selection:Na(e,n,{type:ba,path:t})})))},onClose:()=>{V=!1,Ye(),r&&r()}})}function De(){if(!H)return;Ie({selectedPath:ja($,H)})}async function Re(e){n(14,z=ta($,z,e)),await me();const t=Le(e);if(t){c("scrollTo",{path:e,elem:t,refContents:g});const n=-g.getBoundingClientRect().height/4;w(t,{container:g,offset:n,duration:300})}}function Le(e){return g?g.querySelector(`div[data-path="${sl(e)}"]`):null}function Be(e){const t=Le(e);if(!t||!g)return;const n=g.getBoundingClientRect(),r=t.getBoundingClientRect(),i=sn(Qt.getIn($,e))?20:r.height;r.top<n.top+20?w(t,{container:g,offset:-20,duration:0}):r.top+i>n.bottom-20&&w(t,{container:g,offset:-(n.height-i-20),duration:0})}function Fe(e,t){void 0!==x?M({text:x,json:void 0},e,t):void 0!==$&&M({text:void 0,json:$},e,t)}function Ve(e,t){if(k)return;c("handlePatch",e,t);const r={json:$,text:x},i=he(e,t);return n(15,q=void 0),Fe(r,i),i}function ze(e,t){const r=z,i=$,o=x,s={json:$,text:x},a=ie,l=H,c=Ys(e,r,[],BA),u="function"==typeof t?t(e,c,H):void 0;n(7,$=u&&void 0!==u.json?u.json:e),n(14,z=u&&void 0!==u.state?u.state:c),n(8,x=void 0),n(21,ie=!1),n(9,H=u&&u.selection?u.selection:H),n(9,H=ae(H,$)),le({previousJson:i,previousState:r,previousText:o,previousTextIsRepaired:a,previousSelection:l});Fe(s,null)}function qe(e,t,n){return na(e,t,n,!_n({json:Qt.getIn(e,n)},10240)?FA:BA)}function He(e,t,r=!1){n(14,z=t?na($,z,e,r?FA:BA):function(e,t,n){return Qt.updateIn(t,n,(t=>Ys(Qt.getIn(e,n),t,[],(()=>!1),!0)))}($,z,e)),H&&!t&&function(e,t){return Ma(e.focusPath,t)&&(e.focusPath.length>t.length||e.type===va)}(H,e)&&n(9,H=null),setTimeout((()=>{rl(y)||Ye()}))}function We(e,t){n(9,H=e?Na($,z,e):null),!1!==(null==t?void 0:t.ensureFocus)&&setTimeout((()=>Ye()))}function Ue(e){c("openFind",{findAndReplace:e}),n(16,J=!1),n(17,K=!1),me().then((()=>{n(16,J=!0),n(17,K=e)}))}function Je(e,t){c("handleExpandSection",e,t),n(14,z=function(e,t,n,r){return Ys(e,Qt.updateIn(t,n.concat(gt),(e=>Js(e.concat(r)))),n,(()=>!1))}($,z,e,t))}function Ke(e){c("pasted json as text",e),n(15,q=e)}function Ge({anchor:e,left:t,top:n,width:r,height:i,offsetTop:o,offsetLeft:s,showTip:a}){V=!0,p(rO,{json:$,state:z,selection:H,showTip:a,onEditKey:fe,onEditValue:pe,onToggleEnforceString:ge,onCut:ve,onCopy:ye,onPaste:be,onRemove:$e,onDuplicate:xe,onExtract:ke,onInsertBefore:_e,onInsert:Ce,onConvert:Oe,onInsertAfter:Ae,onSort:Ne,onTransform:De,onCloseContextMenu(){m(),Ye()}},{left:t,top:n,offsetTop:o,offsetLeft:s,width:r,height:i,anchor:e,closeOnOuterClick:!0,onClose:()=>{V=!1,Ye()}})}function Qe(e){if(!k&&!(null==H?void 0:H.edit)){if(e&&(e.stopPropagation(),e.preventDefault()),e&&"contextmenu"===e.type&&e.target!==v)Ge({left:e.clientX,top:e.clientY,width:Vt,height:Ft,showTip:!1});else{const e=null==g?void 0:g.querySelector(".jse-context-menu-button.jse-selected");if(e)Ge({anchor:e,offsetTop:2,width:Vt,height:Ft,showTip:!1});else{const e=null==g?void 0:g.getBoundingClientRect();e&&Ge({top:e.top+2,left:e.left+2,width:Vt,height:Ft,showTip:!1})}}return!1}}function Ye(){v&&(v.focus(),v.select())}function Xe(){return $}function Ze(){return z}function et(){return H}return e.$$set=e=>{"readOnly"in e&&n(0,k=e.readOnly),"externalContent"in e&&n(49,S=e.externalContent),"mainMenuBar"in e&&n(1,C=e.mainMenuBar),"navigationBar"in e&&n(2,O=e.navigationBar),"escapeControlCharacters"in e&&n(50,_=e.escapeControlCharacters),"escapeUnicodeCharacters"in e&&n(51,A=e.escapeUnicodeCharacters),"validator"in e&&n(52,P=e.validator),"indentation"in e&&n(53,E=e.indentation),"onError"in e&&n(54,j=e.onError),"onChange"in e&&n(55,M=e.onChange),"onRenderValue"in e&&n(56,T=e.onRenderValue),"onRequestRepair"in e&&n(3,N=e.onRequestRepair),"onRenderMenu"in e&&n(4,I=e.onRenderMenu),"onClassName"in e&&n(57,D=e.onClassName),"onFocus"in e&&n(58,R=e.onFocus),"onBlur"in e&&n(59,L=e.onBlur),"onSortModal"in e&&n(60,B=e.onSortModal),"onTransformModal"in e&&n(61,F=e.onTransformModal)},e.$$.update=()=>{1572864&e.$$.dirty[1]&&n(71,r=Ba({escapeControlCharacters:_,escapeUnicodeCharacters:A})),640&e.$$.dirty[0]&&n(23,i=Da($,H)),128&e.$$.dirty[0]|128&e.$$.dirty[2]&&Z(Q,$),262144&e.$$.dirty[1]&&oe(S),e.$$.dirty[0],128&e.$$.dirty[0]|2097152&e.$$.dirty[1]&&n(11,o=P?P($):[]),2048&e.$$.dirty[0]&&n(22,s=function(e){let t;return e.forEach((e=>{const n=e.path.concat([xt]);t=Qt.setIn(t,n,e,!0)})),e.forEach((e=>{let n=e.path;for(;n.length>0;){n=Cs(n);const e=n.concat([xt]);if(!Qt.existsIn(t,e)){const r={isChildError:!0,path:n,message:"Contains invalid data"};t=Qt.setIn(t,e,r,!0)}}})),t}(o)),64&e.$$.dirty[0]&&n(70,l=rC(g)),1&e.$$.dirty[0]|100663296&e.$$.dirty[1]|768&e.$$.dirty[2]&&n(10,a={readOnly:k,normalization:r,getFullJson:Xe,getFullState:Ze,getFullSelection:et,findElement:Le,focus:Ye,onPatch:Ve,onInsert:Se,onExpand:He,onSelect:We,onFind:Ue,onPasteJson:Ke,onExpandSection:Je,onRenderValue:T,onContextMenu:Ge,onClassName:D||Cr,onDrag:l.onDrag,onDragEnd:l.onDragEnd}),1024&e.$$.dirty[0]&&c("context changed",a)},[k,C,O,N,I,function(){return ie&&void 0!==$&&ze($),{json:$,text:x}},g,$,x,H,a,o,v,y,z,q,J,K,G,U,te,ie,s,i,u,[],Y,async function(){n(19,U=U?function(e){const t=e.activeIndex<e.flatItems.length-1?e.activeIndex+1:e.flatItems.length>0?0:-1,n=e.flatItems[t],r=n?Qt.setIn(e.items,xC(n),!0,!0):e.items;return{...e,itemsWithActive:r,activeItem:n,activeIndex:t}}(U):U),await X(U&&U.activeItem)},async function(){n(19,U=U?function(e){const t=e.activeIndex>0?e.activeIndex-1:e.flatItems.length-1,n=e.flatItems[t],r=n?Qt.setIn(e.items,xC(n),!0,!0):e.items;return{...e,itemsWithActive:r,activeItem:n,activeIndex:t}}(U):U),await X(U&&U.activeItem)},async function(e,t){const n=U.activeItem;if(c("handleReplace",{replacementText:t,activeItem:n}),!U||!n)return;const{operations:r,newSelection:i}=function(e,t,n,r){const{field:i,path:o,start:s,end:a}=r;if(i===yt){const r=Cs(o),i=ys(o),l=uC(r,oa(t,r),i,wC(i,n,s,a));return{newSelection:Aa(e,0,l),operations:l}}if(i===bt){const r=Qt.getIn(e,o);if(void 0===r)throw new Error(`Cannot replace: path not found ${Qt.compileJSONPointer(o)}`);const i="string"==typeof r?r:String(r),l=Qt.getIn(t,o.concat([wt]))||!1,c=wC(i,n,s,a),u=[{op:"replace",path:Qt.compileJSONPointer(o),value:l?c:hn(c)}];return{newSelection:Aa(e,0,u),operations:u}}throw new Error(`Cannot replace: unknown type of search result field ${i}`)}($,z,t,n);Ve(r,(()=>({selection:i}))),await me(),await X(U&&U.activeItem)},async function(e,t){c("handleReplaceAll",{text:e,replacementText:t});const{operations:n,newSelection:r}=function(e,t,n,r){const i=yC(n,e,t,1/0),o=[];for(let e=0;e<i.length;e++){const t=i[e-1],n=i[e];0!==e&&n.field===t.field&&As(n.path,t.path)?ys(o).items.push(n):o.push({path:n.path,field:n.field,items:[n]})}o.sort(((e,t)=>e.field!==t.field?e.field===yt?1:-1:t.path.length-e.path.length));let s,a=[];return o.forEach((n=>{const{field:i,path:o,items:l}=n;if(i===yt){const n=Cs(o),i=ys(o),c=uC(n,oa(t,n),i,$C(i,r,l));a=a.concat(c),s=Aa(e,0,c)}else{if(i!==bt)throw new Error(`Cannot replace: unknown type of search result field ${i}`);{const n=Qt.getIn(e,o);if(void 0===n)throw new Error(`Cannot replace: path not found ${Qt.compileJSONPointer(o)}`);const i="string"==typeof n?n:String(n),c=Qt.getIn(t,o.concat([wt]))||!1,u=$C(i,r,l),h=[{op:"replace",path:Qt.compileJSONPointer(o),value:c?u:hn(u)}];a=a.concat(h),s=Aa(e,0,h)}}})),{operations:a,newSelection:s}}($,z,e,t);Ve(n,(()=>({selection:r}))),await me(),await X(U&&U.activeItem)},function(){n(16,J=!1),n(17,K=!1),Y(""),Ye()},function(e){c("select validation error",e),n(9,H=Na($,z,{type:ba,path:e.path})),Re(e.path),Ye()},ye,function(e){if(e.preventDefault(),k)return;const t=e.clipboardData.getData("text/plain");try{we(t)}catch(e){!function(e,t){h(LC,{text:e,onParse:$n,onRepair:xn,onApply:t,onRenderMenu:I,onFocus:R,onBlur:L},{...Pt,styleWindow:{...Pt.styleWindow,width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>Ye()})}(t,(e=>{c("repaired pasted text: ",e),we(e)}))}},je,Me,function(){Te([])},function(){Ie({selectedPath:[]})},function(){He([],!0,!0)},function(){He([],!1,!0)},function(e){const t=ul(e).replace(/^Command\+/,"Ctrl+"),r=e.shiftKey;if("Ctrl+X"===t&&(e.preventDefault(),ve(!0)),"Ctrl+Shift+X"===t&&(e.preventDefault(),ve(!1)),"Ctrl+C"===t&&(e.preventDefault(),ye(!0)),"Ctrl+Shift+C"===t&&(e.preventDefault(),ye(!1)),"Ctrl+D"===t&&(e.preventDefault(),xe()),"Delete"!==t&&"Backspace"!==t||(e.preventDefault(),$e()),"Insert"===t&&(e.preventDefault(),Se("structure")),"Ctrl+A"===t&&(e.preventDefault(),n(9,H={type:ba,anchorPath:[],focusPath:[]})),"Ctrl+Q"===t&&Qe(e),"Up"!==t&&"Shift+Up"!==t||(e.preventDefault(),n(9,H=H?Sa($,z,H,r,!0)||H:_a($,z)),Be(H.focusPath)),"Down"!==t&&"Shift+Down"!==t||(e.preventDefault(),n(9,H=H?Ca($,z,H,r,!0)||H:_a($,z)),Be(H.focusPath)),"Left"!==t&&"Shift+Left"!==t||(e.preventDefault(),n(9,H=H?function(e,t,n,r=!1,i=!0){const{caret:o,previous:s}=Oa(e,t,n,i);if(r)return n.type!==wa?Na(e,t,{type:wa,anchorPath:n.anchorPath,focusPath:n.focusPath}):null;if(o&&s)return Na(e,t,{type:s.type,path:s.path});const a=Cs(n.focusPath),l=Qt.getIn(e,a);return n.type===ba&&Array.isArray(l)?Na(e,t,{type:wa,anchorPath:n.focusPath,focusPath:n.focusPath}):n.type!==wa||Array.isArray(l)?null:Na(e,t,{type:ya,path:n.focusPath})}($,z,H,r,!k)||H:_a($,z)),Be(H.focusPath)),"Right"!==t&&"Shift+Right"!==t||(e.preventDefault(),n(9,H=H?function(e,t,n,r=!1,i=!0){const{caret:o,next:s}=Oa(e,t,n,i);return r?n.type!==wa?Na(e,t,{type:wa,anchorPath:n.anchorPath,focusPath:n.focusPath}):null:o&&s?Na(e,t,{type:s.type,path:s.path}):n.type===wa?Na(e,t,{type:ba,path:n.focusPath}):null}($,z,H,r,!k)||H:_a($,z)),Be(H.focusPath)),"Enter"===t&&H){if(!k&&H.type===wa&&1===H.paths.length){const e=H.focusPath,t=Qt.getIn($,Cs(e));Array.isArray(t)&&n(9,H=Na($,z,{type:ba,path:e}))}if(k||H.type!==ya||(e.preventDefault(),n(9,H={...H,edit:!0})),H.type===ba){e.preventDefault();sn(Qt.getIn($,H.focusPath))?He(H.focusPath,!0):k||n(9,H={...H,edit:!0})}}if(t.length===(t.startsWith("Shift+")?7:1)&&H)return e.preventDefault(),void Ee(e.key);if("Enter"===t&&(H.type===ga||H.type===va))return e.preventDefault(),void Ee("");if("Ctrl+Enter"===t&&H&&H.type===ba){const e=Qt.getIn($,H.focusPath);un(e)&&window.open(e,"_blank")}if("Escape"===t&&H&&(e.preventDefault(),n(9,H=null)),"Ctrl+F"===t&&(e.preventDefault(),Ue(!1)),"Ctrl+H"===t&&(e.preventDefault(),Ue(!0)),"Ctrl+Z"===t){e.preventDefault();const t=document.activeElement;t&&t.blur&&t.focus?(t.blur(),setTimeout((()=>{je(),setTimeout((()=>t.select()))}))):je()}if("Ctrl+Shift+Z"===t){e.preventDefault();const t=document.activeElement;t&&t.blur&&t.focus?(t.blur(),setTimeout((()=>{Me(),setTimeout((()=>t.select()))}))):Me()}},function(e){c("handleMouseDown",e),setTimeout((()=>{setTimeout((()=>{b||Ya(e.target,"BUTTON")||(Ye(),H||void 0!==$||""!==x&&void 0!==x||n(9,H=ue()))}))}))},Qe,function(e){k||Ge({anchor:il(e.target,"BUTTON"),offsetTop:0,width:Vt,height:Ft,showTip:!0})},async function(){c("apply pasted json",q);const{path:e,contents:t}=q;n(9,H=Na($,z,{type:ba,path:e})),await me(),Ve([{op:"replace",path:Qt.compileJSONPointer(e),value:t}],((t,n)=>({state:qe(t,n,e)})))},function(){c("clear pasted json"),n(15,q=void 0)},function(e){n(9,H=e),Ye(),Re(e.focusPath)},function(e){const t=!Za(e.target,(e=>e===y));t&&H&&H.edit&&(c("click outside the editor, stop edit mode"),n(9,H={...H,edit:!1}),b&&v&&(v.focus(),v.blur()),me().then((()=>{setTimeout((()=>{v&&v.blur()}))})))},S,_,A,P,E,j,M,T,D,R,L,B,F,function(e=(()=>!0)){n(14,z=Ys($,z,[],e,!0))},function(){return $},he,Ie,Re,Le,Ye,Q,l,r,function(e){J=e,n(16,J)},function(e){ce[e?"unshift":"push"]((()=>{v=e,n(12,v)}))},function(e){ce[e?"unshift":"push"]((()=>{g=e,n(6,g)}))},function(e){ce[e?"unshift":"push"]((()=>{y=e,n(13,y)}))}]}class zA extends qe{constructor(e){super(),ze(this,e,VA,LA,l,{readOnly:0,externalContent:49,mainMenuBar:1,navigationBar:2,escapeControlCharacters:50,escapeUnicodeCharacters:51,validator:52,indentation:53,onError:54,onChange:55,onRenderValue:56,onRequestRepair:3,onRenderMenu:4,onClassName:57,onFocus:58,onBlur:59,onSortModal:60,onTransformModal:61,expand:62,get:63,patch:64,acceptAutoRepair:5,openTransformModal:65,scrollTo:66,findElement:67,focus:68},null,[-1,-1,-1,-1,-1])}get expand(){return this.$$.ctx[62]}get get(){return this.$$.ctx[63]}get patch(){return this.$$.ctx[64]}get acceptAutoRepair(){return this.$$.ctx[5]}get openTransformModal(){return this.$$.ctx[65]}get scrollTo(){return this.$$.ctx[66]}get findElement(){return this.$$.ctx[67]}get focus(){return this.$$.ctx[68]}}const qA={id:"javascript",name:"JavaScript",description:"\n<p>\n  Enter a JavaScript function to filter, sort, or transform the data.\n</p>\n",createQuery:function(e,t){const{filter:n,sort:r,projection:i}=t,o=[];if(n&&n.path&&n.relation&&n.value){const e=`item => item${Ac(n.path)}`,t="string"==typeof function(e){if(""===e)return"";const t=e.toLowerCase();if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;const n=Number(e),r=parseFloat(e);return isNaN(n)||isNaN(r)?e:n}(n.value)?`'${n.value}'`:n.value;o.push(`  data = data.filter(${e} ${n.relation} ${t})\n`)}r&&r.path&&r.direction&&("desc"===r.direction?o.push(`  data = data.slice().sort((a, b) => {\n    // sort descending\n    const valueA = a${Ac(r.path)}\n    const valueB = b${Ac(r.path)}\n    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0\n  })\n`):o.push(`  data = data.slice().sort((a, b) => {\n    // sort ascending\n    const valueA = a${Ac(r.path)}\n    const valueB = b${Ac(r.path)}\n    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0\n  })\n`));if(i&&i.paths)if(i.paths.length>1){const e=i.paths.map((e=>{const t=e[e.length-1]||"item",n=`item${Ac(e)}`;return`    ${JSON.stringify(t)}: ${n}`}));o.push(`  data = data.map(item => ({\n${e.join(",\n")}})\n  )\n`)}else{const e=`item${Ac(i.paths[0])}`;o.push(`  data = data.map(item => ${e})\n`)}return o.push("  return data\n"),`function query (data) {\n${o.join("")}}`},executeQuery:function(e,t){const n=new Function('"use strict";\n\n'+t+'\n\nif (typeof query !== "function") {\n  throw new Error("Cannot execute query: expecting a function named \'query\' but is undefined")\n}\n\nreturn query;\n')()(e);return void 0!==n?n:null}};function HA(e){let t,n,r,i,o,s;return n=new bc({props:{data:!0===e[0]?KC:GC}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-boolean-toggle svelte-zs5o25"),N(t,"title",r=e[1]?`Boolean value ${e[0]}`:"Click to toggle this boolean value")},m(r,a){S(r,t,a),Fe(n,t,null),i=!0,o||(s=M(t,"mousedown",e[2]),o=!0)},p(e,[o]){const s={};1&o&&(s.data=!0===e[0]?KC:GC),n.$set(s),(!i||3&o&&r!==(r=e[1]?`Boolean value ${e[0]}`:"Click to toggle this boolean value"))&&N(t,"title",r)},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),Ve(n),o=!1,s()}}}function WA(e,t,n){let{path:r}=t,{value:i}=t,{readOnly:o}=t,{onPatch:s}=t,{onSelect:a}=t;return e.$$set=e=>{"path"in e&&n(3,r=e.path),"value"in e&&n(0,i=e.value),"readOnly"in e&&n(1,o=e.readOnly),"onPatch"in e&&n(4,s=e.onPatch),"onSelect"in e&&n(5,a=e.onSelect)},[i,o,function(e){e.stopPropagation(),o||(s([{op:"replace",path:Qt.compileJSONPointer(r),value:!i}]),a({type:ba,path:r}))},r,s,a]}class UA extends qe{constructor(e){super(),ze(this,e,WA,HA,l,{path:3,value:0,readOnly:1,onPatch:4,onSelect:5})}}function JA(t){let n;return{c(){n=_("div"),N(n,"class","jse-color-picker-popup svelte-1gn8yt9")},m(e,r){S(e,n,r),t[4](n)},p:e,i:e,o:e,d(e){e&&C(n),t[4](null)}}}function KA(e,t,n){let r,i,{color:o}=t,{onChange:s}=t,{showOnTop:a}=t;return ne((async()=>{const e=(await Promise.resolve().then((function(){return Uj}))).default;i=new e({parent:r,color:o,popup:a?"top":"bottom",onDone(e){const t=1===e.rgba[3]?e.hex.substring(0,7):e.hex;s(t)}}),i.show()})),re((()=>{i&&i.destroy()})),e.$$set=e=>{"color"in e&&n(1,o=e.color),"onChange"in e&&n(2,s=e.onChange),"showOnTop"in e&&n(3,a=e.showOnTop)},[r,o,s,a,function(e){ce[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class GA extends qe{constructor(e){super(),ze(this,e,KA,JA,a,{color:1,onChange:2,showOnTop:3})}}function QA(t){let n,r,i,o;return{c(){n=_("button"),N(n,"class","jse-color-picker-button svelte-fk1u9y"),F(n,"background",t[2]),N(n,"title",r=t[1]?`Color ${t[0]}`:"Click to open a color picker")},m(e,r){S(e,n,r),i||(o=M(n,"click",t[3]),i=!0)},p(e,[t]){4&t&&F(n,"background",e[2]),3&t&&r!==(r=e[1]?`Color ${e[0]}`:"Click to open a color picker")&&N(n,"title",r)},i:e,o:e,d(e){e&&C(n),i=!1,o()}}}function YA(e,t,n){let r;const{openAbsolutePopup:i}=se("absolute-popup");let{path:o}=t,{value:s}=t,{readOnly:a}=t,{onPatch:l}=t,{onSelect:c}=t;function u(e){l([{op:"replace",path:Qt.compileJSONPointer(o),value:e}]),h()}function h(){c({type:ba,path:o})}return e.$$set=e=>{"path"in e&&n(4,o=e.path),"value"in e&&n(0,s=e.value),"readOnly"in e&&n(1,a=e.readOnly),"onPatch"in e&&n(5,l=e.onPatch),"onSelect"in e&&n(6,c=e.onSelect)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=an(s))},[s,a,r,function(e){if(a)return;const t=e.target.getBoundingClientRect().top,n=nl(e.target).innerHeight;i(GA,{color:s,onChange:u,showOnTop:n-t<300&&t>300},{anchor:e.target,closeOnOuterClick:!0,onClose:h,offsetTop:18,offsetLeft:-8,height:300})},o,l,c]}class XA extends qe{constructor(e){super(),ze(this,e,YA,QA,l,{path:4,value:0,readOnly:1,onPatch:5,onSelect:6})}}function ZA(e){const t=ln(e);return iO("jse-value","jse-"+t,{"jse-url":un(e),"jse-empty":"string"==typeof e&&0===e.length})}function eP(e){let t,n;return t=new SO({props:{value:e[1].escapeValue(e[0]),onChange:e[3],onCancel:e[4],onPaste:e[5],onFind:e[2],onValueClass:e[6]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.value=e[1].escapeValue(e[0])),4&n&&(r.onFind=e[2]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function tP(e,t,n){let{path:r}=t,{value:i}=t,{normalization:o}=t,{enforceString:s}=t,{onPatch:a}=t,{onPasteJson:l}=t,{onSelect:c}=t,{onFind:u}=t;function h(e){return s?e:hn(e)}return e.$$set=e=>{"path"in e&&n(7,r=e.path),"value"in e&&n(0,i=e.value),"normalization"in e&&n(1,o=e.normalization),"enforceString"in e&&n(8,s=e.enforceString),"onPatch"in e&&n(9,a=e.onPatch),"onPasteJson"in e&&n(10,l=e.onPasteJson),"onSelect"in e&&n(11,c=e.onSelect),"onFind"in e&&n(2,u=e.onFind)},[i,o,u,function(e,t){a([{op:"replace",path:Qt.compileJSONPointer(r),value:h(o.unescapeValue(e))}]),t===Ht&&c({type:ba,path:r,nextInside:!0}),t===qt&&c({type:ba,path:r},{ensureFocus:!1})},function(){c({type:ba,path:r})},function(e){try{const t=JSON.parse(e);sn(t)&&l({path:r,contents:t})}catch(e){}},function(e){return ZA(h(o.unescapeValue(e)))},r,s,a,l,c]}class nP extends qe{constructor(e){super(),ze(this,e,tP,eP,l,{path:7,value:0,normalization:1,enforceString:8,onPatch:9,onPasteJson:10,onSelect:11,onFind:2})}}function rP(t){let n,r=Qa(t[1].escapeValue(t[0]))+"";return{c(){n=P(r)},m(e,t){S(e,n,t)},p(e,t){3&t&&r!==(r=Qa(e[1].escapeValue(e[0]))+"")&&L(n,r)},i:e,o:e,d(e){e&&C(n)}}}function iP(e){let t,n;return t=new $O({props:{text:e[1].escapeValue(e[0]),searchResult:e[2]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.text=e[1].escapeValue(e[0])),4&n&&(r.searchResult=e[2]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function oP(e){let t,n,r,i,s,a,l,c;const u=[iP,rP],h=[];function d(e,t){return e[2]?0:1}return n=d(e),r=h[n]=u[n](e),{c(){t=_("div"),r.c(),N(t,"data-type","selectable-value"),N(t,"class",i=p(ZA(e[0]))+" svelte-6ci2p7"),N(t,"title",s=e[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m(r,i){S(r,t,i),h[n].m(t,null),a=!0,l||(c=[M(t,"click",e[4]),M(t,"dblclick",e[5])],l=!0)},p(e,[o]){let l=n;n=d(e),n===l?h[n].p(e,o):(Oe(),Pe(h[l],1,1,(()=>{h[l]=null})),_e(),r=h[n],r?r.p(e,o):(r=h[n]=u[n](e),r.c()),Ae(r,1),r.m(t,null)),(!a||1&o&&i!==(i=p(ZA(e[0]))+" svelte-6ci2p7"))&&N(t,"class",i),(!a||8&o&&s!==(s=e[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&N(t,"title",s)},i(e){a||(Ae(r),a=!0)},o(e){Pe(r),a=!1},d(e){e&&C(t),h[n].d(),l=!1,o(c)}}}function sP(e,t,n){let r,{path:i}=t,{value:o}=t,{readOnly:s}=t,{normalization:a}=t,{onSelect:l}=t,{searchResult:c}=t;return e.$$set=e=>{"path"in e&&n(6,i=e.path),"value"in e&&n(0,o=e.value),"readOnly"in e&&n(7,s=e.readOnly),"normalization"in e&&n(1,a=e.normalization),"onSelect"in e&&n(8,l=e.onSelect),"searchResult"in e&&n(2,c=e.searchResult)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=un(o))},[o,a,c,r,function(e){"string"==typeof o&&r&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),window.open(o,"_blank"))},function(e){s||(e.preventDefault(),l({type:ba,path:i,edit:!0}))},i,s,l]}class aP extends qe{constructor(e){super(),ze(this,e,sP,oP,l,{path:6,value:0,readOnly:7,normalization:1,onSelect:8,searchResult:2})}}function lP(e){let t,n,r,i,o,a;return n=new bc({props:{data:QC}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-timestamp svelte-1u00zub")},m(s,l){S(s,t,l),Fe(n,t,null),i=!0,o||(a=m(r=VO.call(null,t,{text:e[0],...e[1]})),o=!0)},p(e,[t]){r&&s(r.update)&&1&t&&r.update.call(null,{text:e[0],...e[1]})},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),Ve(n),o=!1,a()}}}function cP(e,t,n){let r;const i=se("absolute-popup");let{value:o}=t;return e.$$set=e=>{"value"in e&&n(2,o=e.value)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=`Time: ${new Date(o).toString()}`)},[r,i,o]}class uP extends qe{constructor(e){super(),ze(this,e,cP,lP,l,{value:2})}}function hP({path:e,value:t,readOnly:n,enforceString:r,searchResult:i,isEditing:o,normalization:s,onPatch:a,onPasteJson:l,onSelect:c,onFind:u}){const h=[];return!o&&function(e){return!0===e||!1===e}(t)&&h.push({component:UA,props:{path:e,value:t,readOnly:n,onPatch:a,onSelect:c}}),!o&&function(e){return"string"==typeof e&&!!an(e)}(t)&&h.push({component:XA,props:{path:e,value:t,readOnly:n,onPatch:a,onSelect:c}}),o&&h.push({component:nP,props:{path:e,value:t,enforceString:r,normalization:s,onPatch:a,onPasteJson:l,onSelect:c,onFind:u}}),o||h.push({component:aP,props:{path:e,value:t,readOnly:n,normalization:s,searchResult:i,onSelect:c}}),!o&&function(e){return"number"==typeof e&&e>9466848e5&&isFinite(e)&&Math.floor(e)===e&&!isNaN(new Date(e).valueOf())}(t)&&h.push({component:uP,props:{value:t}}),h}const dP={};function fP(t){let n,r,i=t[0](t[1],t[2])+"";return{c(){n=_("div"),N(n,"class",r="item "+t[3]+" svelte-3e0qet")},m(e,t){S(e,n,t),n.innerHTML=i},p(e,[t]){7&t&&i!==(i=e[0](e[1],e[2])+"")&&(n.innerHTML=i),8&t&&r!==(r="item "+e[3]+" svelte-3e0qet")&&N(n,"class",r)},i:e,o:e,d(e){e&&C(n)}}}function pP(e,t,n){let{isActive:r=!1}=t,{isFirst:i=!1}=t,{isHover:o=!1}=t,{isSelectable:s=!1}=t,{getOptionLabel:a}=t,{item:l}=t,{filterText:c=""}=t,u="";return e.$$set=e=>{"isActive"in e&&n(4,r=e.isActive),"isFirst"in e&&n(5,i=e.isFirst),"isHover"in e&&n(6,o=e.isHover),"isSelectable"in e&&n(7,s=e.isSelectable),"getOptionLabel"in e&&n(0,a=e.getOptionLabel),"item"in e&&n(1,l=e.item),"filterText"in e&&n(2,c=e.filterText)},e.$$.update=()=>{if(242&e.$$.dirty){const e=[];r&&e.push("active"),i&&e.push("first"),o&&e.push("hover"),l.isGroupHeader&&e.push("groupHeader"),l.isGroupItem&&e.push("groupItem"),s||e.push("notSelectable"),n(3,u=e.join(" "))}},[a,l,c,u,r,i,o,s]}class mP extends qe{constructor(e){super(),ze(this,e,pP,fP,a,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function gP(e,t,n){const r=e.slice();return r[41]=t[n],r[42]=n,r}function vP(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=kP(gP(e,r,t));const o=e=>Pe(i[e],1,1,(()=>{i[e]=null}));let s=null;return r.length||(s=bP(e)),{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=j(),s&&s.c()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);S(e,t,r),s&&s.m(e,r),n=!0},p(e,n){if(114390&n[0]){let a;for(r=e[1],a=0;a<r.length;a+=1){const o=gP(e,r,a);i[a]?(i[a].p(o,n),Ae(i[a],1)):(i[a]=kP(o),i[a].c(),Ae(i[a],1),i[a].m(t.parentNode,t))}for(Oe(),a=r.length;a<i.length;a+=1)o(a);_e(),!r.length&&s?s.p(e,n):r.length?s&&(s.d(1),s=null):(s=bP(e),s.c(),s.m(t.parentNode,t))}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Ae(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Pe(i[e]);n=!1},d(e){O(i,e),e&&C(t),s&&s.d(e)}}}function yP(e){let t,n,r;var i=e[3];function o(e){return{props:{items:e[1],itemHeight:e[8],$$slots:{default:[SP,({item:e,i:t})=>({41:e,42:t}),({item:e,i:t})=>[0,(e?1024:0)|(t?2048:0)]]},$$scope:{ctx:e}}}}return i&&(t=J(i,o(e))),{c(){t&&Be(t.$$.fragment),n=j()},m(e,i){t&&Fe(t,e,i),S(e,n,i),r=!0},p(e,r){const s={};if(2&r[0]&&(s.items=e[1]),256&r[0]&&(s.itemHeight=e[8]),9814&r[0]|11264&r[1]&&(s.$$scope={dirty:r,ctx:e}),i!==(i=e[3])){if(t){Oe();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}i?(t=J(i,o(e)),Be(t.$$.fragment),Ae(t.$$.fragment,1),Fe(t,n.parentNode,n)):t=null}else i&&t.$set(s)},i(e){r||(t&&Ae(t.$$.fragment,e),r=!0)},o(e){t&&Pe(t.$$.fragment,e),r=!1},d(e){e&&C(n),t&&Ve(t,e)}}}function bP(e){let t,n=!e[11]&&wP(e);return{c(){n&&n.c(),t=j()},m(e,r){n&&n.m(e,r),S(e,t,r)},p(e,r){e[11]?n&&(n.d(1),n=null):n?n.p(e,r):(n=wP(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&C(t)}}}function wP(e){let t,n;return{c(){t=_("div"),n=P(e[12]),N(t,"class","empty svelte-1uyqfml")},m(e,r){S(e,t,r),$(t,n)},p(e,t){4096&t[0]&&L(n,e[12])},d(e){e&&C(t)}}}function $P(e){let t,n,r,i,s,a;var l=e[4];function c(e){return{props:{item:e[41],filterText:e[13],getOptionLabel:e[6],isFirst:_P(e[42]),isActive:OP(e[41],e[9],e[10]),isHover:AP(e[2],e[41],e[42],e[1]),isSelectable:PP(e[41])}}}function u(){return e[29](e[42])}function h(){return e[30](e[42])}function d(...t){return e[31](e[41],e[42],...t)}return l&&(n=J(l,c(e))),{c(){t=_("div"),n&&Be(n.$$.fragment),r=E(),N(t,"class","listItem"),N(t,"tabindex","-1")},m(e,o){S(e,t,o),n&&Fe(n,t,null),$(t,r),i=!0,s||(a=[M(t,"mouseover",u),M(t,"focus",h),M(t,"click",d)],s=!0)},p(i,o){e=i;const s={};if(2&o[0]&&(s.item=e[41]),8192&o[0]&&(s.filterText=e[13]),64&o[0]&&(s.getOptionLabel=e[6]),1538&o[0]&&(s.isActive=OP(e[41],e[9],e[10])),6&o[0]&&(s.isHover=AP(e[2],e[41],e[42],e[1])),2&o[0]&&(s.isSelectable=PP(e[41])),l!==(l=e[4])){if(n){Oe();const e=n;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}l?(n=J(l,c(e)),Be(n.$$.fragment),Ae(n.$$.fragment,1),Fe(n,t,r)):n=null}else l&&n.$set(s)},i(e){i||(n&&Ae(n.$$.fragment,e),i=!0)},o(e){n&&Pe(n.$$.fragment,e),i=!1},d(e){e&&C(t),n&&Ve(n),s=!1,o(a)}}}function xP(t){let n,r,i=t[7](t[41])+"";return{c(){n=_("div"),r=P(i),N(n,"class","listGroupTitle svelte-1uyqfml")},m(e,t){S(e,n,t),$(n,r)},p(e,t){130&t[0]&&i!==(i=e[7](e[41])+"")&&L(r,i)},i:e,o:e,d(e){e&&C(n)}}}function kP(e){let t,n,r,i;const o=[xP,$P],s=[];function a(e,t){return e[41].isGroupHeader&&!e[41].isSelectable?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=j()},m(e,n){s[t].m(e,n),S(e,r,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(Oe(),Pe(s[l],1,1,(()=>{s[l]=null})),_e(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){i||(Ae(n),i=!0)},o(e){Pe(n),i=!1},d(e){s[t].d(e),e&&C(r)}}}function SP(e){let t,n,r,i,s;var a=e[4];function l(e){return{props:{item:e[41],filterText:e[13],getOptionLabel:e[6],isFirst:_P(e[42]),isActive:OP(e[41],e[9],e[10]),isHover:AP(e[2],e[41],e[42],e[1]),isSelectable:PP(e[41])}}}function c(){return e[26](e[42])}function u(){return e[27](e[42])}function h(...t){return e[28](e[41],e[42],...t)}return a&&(n=J(a,l(e))),{c(){t=_("div"),n&&Be(n.$$.fragment),N(t,"class","listItem")},m(e,o){S(e,t,o),n&&Fe(n,t,null),r=!0,i||(s=[M(t,"mouseover",c),M(t,"focus",u),M(t,"click",h)],i=!0)},p(r,i){e=r;const o={};if(1024&i[1]&&(o.item=e[41]),8192&i[0]&&(o.filterText=e[13]),64&i[0]&&(o.getOptionLabel=e[6]),2048&i[1]&&(o.isFirst=_P(e[42])),1536&i[0]|1024&i[1]&&(o.isActive=OP(e[41],e[9],e[10])),6&i[0]|3072&i[1]&&(o.isHover=AP(e[2],e[41],e[42],e[1])),1024&i[1]&&(o.isSelectable=PP(e[41])),a!==(a=e[4])){if(n){Oe();const e=n;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}a?(n=J(a,l(e)),Be(n.$$.fragment),Ae(n.$$.fragment,1),Fe(n,t,null)):n=null}else a&&n.$set(o)},i(e){r||(n&&Ae(n.$$.fragment,e),r=!0)},o(e){n&&Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),n&&Ve(n),i=!1,o(s)}}}function CP(e){let t,n,r,i,s,a;const l=[yP,vP],c=[];function u(e,t){return e[5]?0:1}return n=u(e),r=c[n]=l[n](e),{c(){t=_("div"),r.c(),N(t,"class","listContainer svelte-1uyqfml"),N(t,"style",e[14]),H(t,"virtualList",e[5])},m(r,o){S(r,t,o),c[n].m(t,null),e[32](t),i=!0,s||(a=[M(window,"keydown",e[17]),M(window,"resize",e[18])],s=!0)},p(e,o){let s=n;n=u(e),n===s?c[n].p(e,o):(Oe(),Pe(c[s],1,1,(()=>{c[s]=null})),_e(),r=c[n],r?r.p(e,o):(r=c[n]=l[n](e),r.c()),Ae(r,1),r.m(t,null)),(!i||16384&o[0])&&N(t,"style",e[14]),(!i||32&o[0])&&H(t,"virtualList",e[5])},i(e){i||(Ae(r),i=!0)},o(e){Pe(r),i=!1},d(r){r&&C(t),c[n].d(),e[32](null),s=!1,o(a)}}}function OP(e,t,n){return t&&t[n]===e[n]}function _P(e){return 0===e}function AP(e,t,n,r){return PP(t)&&(e===n||1===r.length)}function PP(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function EP(e,t,n){const r=ie();let i,o,{container:s}=t,{VirtualList:a=null}=t,{Item:l=mP}=t,{isVirtualList:c=!1}=t,{items:u=[]}=t,{labelIdentifier:h="label"}=t,{getOptionLabel:d=((e,t)=>{if(e)return e.isCreator?`Create "${t}"`:e[h]})}=t,{getGroupHeaderLabel:f=null}=t,{itemHeight:p=40}=t,{hoverItemIndex:m=0}=t,{value:g}=t,{optionIdentifier:v="value"}=t,{hideEmptyState:y=!1}=t,{noOptionsMessage:b="No options"}=t,{isMulti:w=!1}=t,{activeItemIndex:$=0}=t,{filterText:x=""}=t,{parent:k=null}=t,{listPlacement:S=null}=t,{listAutoWidth:C=null}=t,{listOffset:O=5}=t,_=0,A=!1;function P(e){e.isCreator||r("itemSelected",e)}function E(e){A||n(2,m=e)}function j(e){const{item:t,i:i,event:o}=e;if(o.stopPropagation(),g&&!w&&g[v]===t[v])return M();t.isCreator?r("itemCreated",x):PP(t)&&(n(19,$=i),n(2,m=i),P(t))}function M(){r("closeList")}async function T(e){if(c)return;let t=!0;for(;t;)e>0&&m===u.length-1?n(2,m=0):n(2,e<0&&0===m?m=u.length-1:m+=e),t=!PP(u[m]);await me(),N("hover")}function N(e){if(c||!s)return;let t;const r=s.querySelector(`.listItem .${e}`);r&&(t=s.getBoundingClientRect().bottom-r.getBoundingClientRect().bottom),n(0,s.scrollTop-=t,s)}function I(){const{height:e,width:t}=k.getBoundingClientRect();n(14,o=""),n(14,o+=`min-width:${t}px;width:${C?"auto":"100%"};`),"top"===S||"auto"===S&&function(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i={};return i.top=n.top<0,i.left=n.left<0,i.bottom=n.bottom+r.height>(window.innerHeight||document.documentElement.clientHeight),i.right=n.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}(k,s).bottom?n(14,o+=`bottom:${e+O}px;`):n(14,o+=`top:${e+O}px;`)}ne((()=>{if(u.length>0&&!w&&g){const e=u.findIndex((e=>e[v]===g[v]));e&&n(2,m=e)}N("active"),s.addEventListener("scroll",(()=>{clearTimeout(_),_=setTimeout((()=>{A=!1}),100)}),!1)})),te((()=>{u||n(1,u=[]),u!==i&&u.length>0&&n(2,m=0),i=u}));return e.$$set=e=>{"container"in e&&n(0,s=e.container),"VirtualList"in e&&n(3,a=e.VirtualList),"Item"in e&&n(4,l=e.Item),"isVirtualList"in e&&n(5,c=e.isVirtualList),"items"in e&&n(1,u=e.items),"labelIdentifier"in e&&n(20,h=e.labelIdentifier),"getOptionLabel"in e&&n(6,d=e.getOptionLabel),"getGroupHeaderLabel"in e&&n(7,f=e.getGroupHeaderLabel),"itemHeight"in e&&n(8,p=e.itemHeight),"hoverItemIndex"in e&&n(2,m=e.hoverItemIndex),"value"in e&&n(9,g=e.value),"optionIdentifier"in e&&n(10,v=e.optionIdentifier),"hideEmptyState"in e&&n(11,y=e.hideEmptyState),"noOptionsMessage"in e&&n(12,b=e.noOptionsMessage),"isMulti"in e&&n(21,w=e.isMulti),"activeItemIndex"in e&&n(19,$=e.activeItemIndex),"filterText"in e&&n(13,x=e.filterText),"parent"in e&&n(22,k=e.parent),"listPlacement"in e&&n(23,S=e.listPlacement),"listAutoWidth"in e&&n(24,C=e.listAutoWidth),"listOffset"in e&&n(25,O=e.listOffset)},e.$$.update=()=>{4194305&e.$$.dirty[0]&&k&&s&&I()},[s,u,m,a,l,c,d,f,p,g,v,y,b,x,o,E,j,function(e){switch(e.key){case"Escape":e.preventDefault(),M();break;case"ArrowDown":e.preventDefault(),u.length&&T(1);break;case"ArrowUp":e.preventDefault(),u.length&&T(-1);break;case"Enter":if(e.preventDefault(),0===u.length)break;const t=u[m];if(g&&!w&&g[v]===t[v]){M();break}t.isCreator?r("itemCreated",x):(n(19,$=m),P(u[m]));break;case"Tab":if(e.preventDefault(),0===u.length)return M();if(g&&g[v]===u[m][v])return M();n(19,$=m),P(u[m])}},I,$,h,w,k,S,C,O,e=>E(e),e=>E(e),(e,t,n)=>j({item:e,i:t,event:n}),e=>E(e),e=>E(e),(e,t,n)=>j({item:e,i:t,event:n}),function(e){ce[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class jP extends qe{constructor(e){super(),ze(this,e,EP,CP,a,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function MP(t){let n,r=t[0](t[1])+"";return{c(){n=_("div"),N(n,"class","selection svelte-pu1q1n")},m(e,t){S(e,n,t),n.innerHTML=r},p(e,[t]){3&t&&r!==(r=e[0](e[1])+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&C(n)}}}function TP(e,t,n){let{getSelectionLabel:r}=t,{item:i}=t;return e.$$set=e=>{"getSelectionLabel"in e&&n(0,r=e.getSelectionLabel),"item"in e&&n(1,i=e.item)},[r,i]}class NP extends qe{constructor(e){super(),ze(this,e,TP,MP,a,{getSelectionLabel:0,item:1})}}function IP(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function DP(e){let t,n,r;function i(...t){return e[6](e[11],...t)}return{c(){t=_("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',N(t,"class","multiSelectItem_clear svelte-liu9pa")},m(e,o){S(e,t,o),n||(r=M(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&C(t),n=!1,r()}}}function RP(e){let t,n,r,i,o,s,a,l=e[4](e[9])+"",c=!e[2]&&!e[3]&&DP(e);function u(...t){return e[7](e[11],...t)}return{c(){t=_("div"),n=_("div"),r=E(),c&&c.c(),i=E(),N(n,"class","multiSelectItem_label svelte-liu9pa"),N(t,"class",o="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(e,o){S(e,t,o),$(t,n),n.innerHTML=l,$(t,r),c&&c.m(t,null),$(t,i),s||(a=M(t,"click",u),s=!0)},p(r,s){e=r,17&s&&l!==(l=e[4](e[9])+"")&&(n.innerHTML=l),e[2]||e[3]?c&&(c.d(1),c=null):c?c.p(e,s):(c=DP(e),c.c(),c.m(t,i)),6&s&&o!==(o="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&N(t,"class",o)},d(e){e&&C(t),c&&c.d(),s=!1,a()}}}function LP(t){let n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=RP(IP(t,r,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=j()},m(e,t){for(let n=0;n<i.length;n+=1)i[n].m(e,t);S(e,n,t)},p(e,[t]){if(63&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const s=IP(e,r,o);i[o]?i[o].p(s,t):(i[o]=RP(s),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){O(i,e),e&&C(n)}}}function BP(e,t,n){const r=ie();let{value:i=[]}=t,{activeValue:o}=t,{isDisabled:s=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:l}=t;function c(e,t){t.stopPropagation(),r("multiItemClear",{i:e})}return e.$$set=e=>{"value"in e&&n(0,i=e.value),"activeValue"in e&&n(1,o=e.activeValue),"isDisabled"in e&&n(2,s=e.isDisabled),"multiFullItemClearable"in e&&n(3,a=e.multiFullItemClearable),"getSelectionLabel"in e&&n(4,l=e.getSelectionLabel)},[i,o,s,a,l,c,(e,t)=>c(e,t),(e,t)=>a?c(e,t):{}]}class FP extends qe{constructor(e){super(),ze(this,e,BP,LP,a,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function VP(e,t,n){const r=e.slice();return r[23]=t[n],r}const zP=e=>({item:32&e,i:32&e,hoverItemIndex:2&e}),qP=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function HP(e,t){let n,r,i;const o=t[15].default,s=c(o,t,t[14],qP),a=s||function(e){let t;return{c(){t=P("Missing template")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}();return{key:e,first:null,c(){n=_("svelte-virtual-list-row"),a&&a.c(),r=E(),R(n,"class","svelte-g2cagw"),this.first=n},m(e,t){S(e,n,t),a&&a.m(n,null),$(n,r),i=!0},p(e,n){t=e,s&&s.p&&(!i||16418&n)&&d(s,o,t,t[14],i?h(o,t[14],n,zP):f(t[14]),qP)},i(e){i||(Ae(a,e),i=!0)},o(e){Pe(a,e),i=!1},d(e){e&&C(n),a&&a.d(e)}}}function WP(e){let t,n,r,i,o,s,a=[],l=new Map,c=e[5];const u=e=>e[23].index;for(let t=0;t<c.length;t+=1){let n=VP(e,c,t),r=u(n);l.set(r,a[t]=HP(r,n))}return{c(){t=_("svelte-virtual-list-viewport"),n=_("svelte-virtual-list-contents");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"padding-top",e[6]+"px"),F(n,"padding-bottom",e[7]+"px"),R(n,"class","svelte-g2cagw"),F(t,"height",e[0]),R(t,"class","svelte-g2cagw"),ge((()=>e[18].call(t)))},m(l,c){S(l,t,c),$(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);e[16](n),e[17](t),r=q(t,e[18].bind(t)),i=!0,o||(s=M(t,"scroll",e[8]),o=!0)},p(e,[r]){16418&r&&(c=e[5],Oe(),a=Ie(a,r,u,1,e,c,l,n,Ne,HP,null,VP),_e()),(!i||64&r)&&F(n,"padding-top",e[6]+"px"),(!i||128&r)&&F(n,"padding-bottom",e[7]+"px"),(!i||1&r)&&F(t,"height",e[0])},i(e){if(!i){for(let e=0;e<c.length;e+=1)Ae(a[e]);i=!0}},o(e){for(let e=0;e<a.length;e+=1)Pe(a[e]);i=!1},d(n){n&&C(t);for(let e=0;e<a.length;e+=1)a[e].d();e[16](null),e[17](null),r(),o=!1,s()}}}function UP(e,t,n){let r,i,o,s,a,l,{$$slots:c={},$$scope:u}=t,{items:h}=t,{height:d="100%"}=t,{itemHeight:f=40}=t,{hoverItemIndex:p=0}=t,{start:m=0}=t,{end:g=0}=t,v=[],y=0,b=0,w=0;return ne((()=>{r=o.getElementsByTagName("svelte-virtual-list-row"),n(13,a=!0)})),e.$$set=e=>{"items"in e&&n(11,h=e.items),"height"in e&&n(0,d=e.height),"itemHeight"in e&&n(12,f=e.itemHeight),"hoverItemIndex"in e&&n(1,p=e.hoverItemIndex),"start"in e&&n(9,m=e.start),"end"in e&&n(10,g=e.end),"$$scope"in e&&n(14,u=e.$$scope)},e.$$.update=()=>{3584&e.$$.dirty&&n(5,s=h.slice(m,g).map(((e,t)=>({index:t+m,data:e})))),14340&e.$$.dirty&&a&&async function(e,t,o){const{scrollTop:s}=i;await me();let a=b-s,c=m;for(;a<t&&c<e.length;){let e=r[c-m];e||(n(10,g=c+1),await me(),e=r[c-m]),a+=v[c]=o||e.offsetHeight,c+=1}n(10,g=c);const u=e.length-g;l=(b+a)/g,n(7,w=u*l),v.length=e.length,i&&n(3,i.scrollTop=0,i)}(h,y,f)},[d,p,y,i,o,s,b,w,async function(){const{scrollTop:e}=i,t=m;for(let e=0;e<r.length;e+=1)v[m+e]=f||r[e].offsetHeight;let o=0,s=0;for(;o<h.length;){const t=v[o]||l;if(s+t>e){n(9,m=o),n(6,b=s);break}s+=t,o+=1}for(;o<h.length&&(s+=v[o]||l,o+=1,!(s>e+y)););n(10,g=o);const a=h.length-g;for(l=s/g;o<h.length;)v[o++]=l;if(n(7,w=a*l),m<t){await me();let n=0,o=0;for(let e=m;e<t;e+=1)r[e-m]&&(n+=v[e],o+=f||r[e-m].offsetHeight);const s=o-n;i.scrollTo(0,e+s)}},m,g,h,f,a,u,c,function(e){ce[e?"unshift":"push"]((()=>{o=e,n(4,o)}))},function(e){ce[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},function(){y=this.offsetHeight,n(2,y)}]}class JP extends qe{constructor(e){super(),ze(this,e,UP,WP,a,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function KP(t){let n,r;return{c(){n=A("svg"),r=A("path"),N(r,"fill","currentColor"),N(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),N(n,"width","100%"),N(n,"height","100%"),N(n,"viewBox","-2 -2 50 50"),N(n,"focusable","false"),N(n,"aria-hidden","true"),N(n,"role","presentation")},m(e,t){S(e,n,t),$(n,r)},p:e,i:e,o:e,d(e){e&&C(n)}}}class GP extends qe{constructor(e){super(),ze(this,e,null,KP,a,{})}}function QP(e,t,n){const r=e.slice();return r[103]=t[n],r}function YP(e){let t,n,r,i,o;return{c(){t=_("span"),n=P(e[33]),r=E(),i=_("span"),o=P(e[32]),N(t,"id","aria-selection"),N(i,"id","aria-context")},m(e,s){S(e,t,s),$(t,n),S(e,r,s),S(e,i,s),$(i,o)},p(e,t){4&t[1]&&L(n,e[33]),2&t[1]&&L(o,e[32])},d(e){e&&C(t),e&&C(r),e&&C(i)}}}function XP(e){let t,r,i;const o=[e[18]];var s=e[17];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=J(s,a())),{c(){t&&Be(t.$$.fragment),r=j()},m(e,n){t&&Fe(t,e,n),S(e,r,n),i=!0},p(e,n){const i=262144&n[0]?De(o,[Re(e[18])]):{};if(s!==(s=e[17])){if(t){Oe();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}s?(t=J(s,a()),Be(t.$$.fragment),Ae(t.$$.fragment,1),Fe(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&Ae(t.$$.fragment,e),i=!0)},o(e){t&&Pe(t.$$.fragment,e),i=!1},d(e){e&&C(r),t&&Ve(t,e)}}}function ZP(e){let t,n,r;var i=e[26];function o(e){return{props:{value:e[2],getSelectionLabel:e[12],activeValue:e[30],isDisabled:e[9],multiFullItemClearable:e[8]}}}return i&&(t=J(i,o(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&Be(t.$$.fragment),n=j()},m(e,i){t&&Fe(t,e,i),S(e,n,i),r=!0},p(e,r){const s={};if(4&r[0]&&(s.value=e[2]),4096&r[0]&&(s.getSelectionLabel=e[12]),1073741824&r[0]&&(s.activeValue=e[30]),512&r[0]&&(s.isDisabled=e[9]),256&r[0]&&(s.multiFullItemClearable=e[8]),i!==(i=e[26])){if(t){Oe();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}i?(t=J(i,o(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40]),Be(t.$$.fragment),Ae(t.$$.fragment,1),Fe(t,n.parentNode,n)):t=null}else i&&t.$set(s)},i(e){r||(t&&Ae(t.$$.fragment,e),r=!0)},o(e){t&&Pe(t.$$.fragment,e),r=!1},d(e){e&&C(n),t&&Ve(t,e)}}}function eE(e){let t,n,r,i,o;var s=e[25];function a(e){return{props:{item:e[2],getSelectionLabel:e[12]}}}return s&&(n=J(s,a(e))),{c(){t=_("div"),n&&Be(n.$$.fragment),N(t,"class","selectedItem svelte-17l1npl")},m(s,a){S(s,t,a),n&&Fe(n,t,null),r=!0,i||(o=M(t,"focus",e[40]),i=!0)},p(e,r){const i={};if(4&r[0]&&(i.item=e[2]),4096&r[0]&&(i.getSelectionLabel=e[12]),s!==(s=e[25])){if(n){Oe();const e=n;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}s?(n=J(s,a(e)),Be(n.$$.fragment),Ae(n.$$.fragment,1),Fe(n,t,null)):n=null}else s&&n.$set(i)},i(e){r||(n&&Ae(n.$$.fragment,e),r=!0)},o(e){n&&Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),n&&Ve(n),i=!1,o()}}}function tE(e){let t,n,r,i,o;var s=e[23];return s&&(n=J(s,{})),{c(){t=_("div"),n&&Be(n.$$.fragment),N(t,"class","clearSelect svelte-17l1npl"),N(t,"aria-hidden","true")},m(s,a){var l;S(s,t,a),n&&Fe(n,t,null),r=!0,i||(o=M(t,"click",(l=e[27],function(e){return e.preventDefault(),l.call(this,e)})),i=!0)},p(e,r){if(s!==(s=e[23])){if(n){Oe();const e=n;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}s?(n=J(s,{}),Be(n.$$.fragment),Ae(n.$$.fragment,1),Fe(n,t,null)):n=null}},i(e){r||(n&&Ae(n.$$.fragment,e),r=!0)},o(e){n&&Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),n&&Ve(n),i=!1,o()}}}function nE(e){let t;function n(e,t){return e[22]?iE:rE}let r=n(e),i=r(e);return{c(){t=_("div"),i.c(),N(t,"class","indicator svelte-17l1npl"),N(t,"aria-hidden","true")},m(e,n){S(e,t,n),i.m(t,null)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t,null)))},d(e){e&&C(t),i.d()}}}function rE(t){let n,r;return{c(){n=A("svg"),r=A("path"),N(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),N(n,"width","100%"),N(n,"height","100%"),N(n,"viewBox","0 0 20 20"),N(n,"focusable","false"),N(n,"aria-hidden","true"),N(n,"class","svelte-17l1npl")},m(e,t){S(e,n,t),$(n,r)},p:e,d(e){e&&C(n)}}}function iE(e){let t,n;return{c(){t=new U(!1),n=j(),t.a=n},m(r,i){t.m(e[22],r,i),S(r,n,i)},p(e,n){4194304&n[0]&&t.p(e[22])},d(e){e&&C(n),e&&t.d()}}}function oE(e){let t;return{c(){t=_("div"),t.innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',N(t,"class","spinner svelte-17l1npl")},m(e,n){S(e,t,n)},d(e){e&&C(t)}}}function sE(e){let t,r,i,o;const s=[e[34]];function a(t){e[84](t)}var l=e[24];function c(e){let t={};for(let e=0;e<s.length;e+=1)t=n(t,s[e]);return void 0!==e[28]&&(t.hoverItemIndex=e[28]),{props:t}}return l&&(t=J(l,c(e)),ce.push((()=>Le(t,"hoverItemIndex",a,e[28]))),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&Be(t.$$.fragment),i=j()},m(e,n){t&&Fe(t,e,n),S(e,i,n),o=!0},p(e,n){const o=8&n[1]?De(s,[Re(e[34])]):{};if(!r&&268435456&n[0]&&(r=!0,o.hoverItemIndex=e[28],ve((()=>r=!1))),l!==(l=e[24])){if(t){Oe();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ve(e,1)})),_e()}l?(t=J(l,c(e)),ce.push((()=>Le(t,"hoverItemIndex",a,e[28]))),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45]),Be(t.$$.fragment),Ae(t.$$.fragment,1),Fe(t,i.parentNode,i)):t=null}else l&&t.$set(o)},i(e){o||(t&&Ae(t.$$.fragment,e),o=!0)},o(e){t&&Pe(t.$$.fragment,e),o=!1},d(e){e&&C(i),t&&Ve(t,e)}}}function aE(e){let t,n,r;return{c(){t=_("input"),N(t,"name",n=e[16].name),N(t,"type","hidden"),t.value=r=e[2]?e[12](e[2]):null,N(t,"class","svelte-17l1npl")},m(e,n){S(e,t,n)},p(e,i){65536&i[0]&&n!==(n=e[16].name)&&N(t,"name",n),4100&i[0]&&r!==(r=e[2]?e[12](e[2]):null)&&(t.value=r)},d(e){e&&C(t)}}}function lE(e){let t,n=e[2],r=[];for(let t=0;t<n.length;t+=1)r[t]=cE(QP(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);S(e,t,n)},p(e,i){if(69636&i[0]){let o;for(n=e[2],o=0;o<n.length;o+=1){const s=QP(e,n,o);r[o]?r[o].p(s,i):(r[o]=cE(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){O(r,e),e&&C(t)}}}function cE(e){let t,n,r;return{c(){t=_("input"),N(t,"name",n=e[16].name),N(t,"type","hidden"),t.value=r=e[103]?e[12](e[103]):null,N(t,"class","svelte-17l1npl")},m(e,n){S(e,t,n)},p(e,i){65536&i[0]&&n!==(n=e[16].name)&&N(t,"name",n),4100&i[0]&&r!==(r=e[103]?e[12](e[103]):null)&&(t.value=r)},d(e){e&&C(t)}}}function uE(e){let t,r,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,x=e[1]&&YP(e),k=e[17]&&XP(e),O=e[35]&&ZP(e),A=[{readOnly:c=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],P={};for(let e=0;e<A.length;e+=1)P=n(P,A[e]);let j=!e[7]&&e[29]&&eE(e),T=e[37]&&tE(e),D=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&nE(e),R=e[4]&&oE(),L=e[5]&&sE(e),F=(!e[7]||e[7]&&!e[35])&&aE(e),V=e[7]&&e[35]&&lE(e);return{c(){t=_("div"),r=_("span"),x&&x.c(),i=E(),k&&k.c(),s=E(),O&&O.c(),a=E(),l=_("input"),u=E(),j&&j.c(),h=E(),T&&T.c(),d=E(),D&&D.c(),f=E(),R&&R.c(),p=E(),L&&L.c(),m=E(),F&&F.c(),g=E(),V&&V.c(),N(r,"aria-live","polite"),N(r,"aria-atomic","false"),N(r,"aria-relevant","additions text"),N(r,"class","a11yText svelte-17l1npl"),I(l,P),H(l,"svelte-17l1npl",!0),N(t,"class",v="selectContainer "+e[21]+" svelte-17l1npl"),N(t,"style",e[11]),H(t,"hasError",e[10]),H(t,"multiSelect",e[7]),H(t,"disabled",e[9]),H(t,"focused",e[1])},m(n,o){S(n,t,o),$(t,r),x&&x.m(r,null),$(t,i),k&&k.m(t,null),$(t,s),O&&O.m(t,null),$(t,a),$(t,l),l.autofocus&&l.focus(),e[82](l),B(l,e[3]),$(t,u),j&&j.m(t,null),$(t,h),T&&T.m(t,null),$(t,d),D&&D.m(t,null),$(t,f),R&&R.m(t,null),$(t,p),L&&L.m(t,null),$(t,m),F&&F.m(t,null),$(t,g),V&&V.m(t,null),e[85](t),y=!0,b||(w=[M(window,"click",e[41]),M(window,"focusin",e[41]),M(window,"keydown",e[39]),M(l,"focus",e[40]),M(l,"input",e[83]),M(t,"click",e[42])],b=!0)},p(e,n){e[1]?x?x.p(e,n):(x=YP(e),x.c(),x.m(r,null)):x&&(x.d(1),x=null),e[17]?k?(k.p(e,n),131072&n[0]&&Ae(k,1)):(k=XP(e),k.c(),Ae(k,1),k.m(t,s)):k&&(Oe(),Pe(k,1,1,(()=>{k=null})),_e()),e[35]?O?(O.p(e,n),16&n[1]&&Ae(O,1)):(O=ZP(e),O.c(),Ae(O,1),O.m(t,a)):O&&(Oe(),Pe(O,1,1,(()=>{O=null})),_e()),I(l,P=De(A,[(!y||8192&n[0]&&c!==(c=!e[13]))&&{readOnly:c},1&n[1]&&e[31],(!y||32&n[1])&&{placeholder:e[36]},(!y||16384&n[0])&&{style:e[14]},(!y||512&n[0])&&{disabled:e[9]}])),8&n[0]&&l.value!==e[3]&&B(l,e[3]),H(l,"svelte-17l1npl",!0),!e[7]&&e[29]?j?(j.p(e,n),536871040&n[0]&&Ae(j,1)):(j=eE(e),j.c(),Ae(j,1),j.m(t,h)):j&&(Oe(),Pe(j,1,1,(()=>{j=null})),_e()),e[37]?T?(T.p(e,n),64&n[1]&&Ae(T,1)):(T=tE(e),T.c(),Ae(T,1),T.m(t,d)):T&&(Oe(),Pe(T,1,1,(()=>{T=null})),_e()),e[37]||!(e[20]||e[19]&&!e[2])&&(e[13]||e[9]||e[4]||(!e[29]||e[15])&&e[29])?D&&(D.d(1),D=null):D?D.p(e,n):(D=nE(e),D.c(),D.m(t,f)),e[4]?R||(R=oE(),R.c(),R.m(t,p)):R&&(R.d(1),R=null),e[5]?L?(L.p(e,n),32&n[0]&&Ae(L,1)):(L=sE(e),L.c(),Ae(L,1),L.m(t,m)):L&&(Oe(),Pe(L,1,1,(()=>{L=null})),_e()),!e[7]||e[7]&&!e[35]?F?F.p(e,n):(F=aE(e),F.c(),F.m(t,g)):F&&(F.d(1),F=null),e[7]&&e[35]?V?V.p(e,n):(V=lE(e),V.c(),V.m(t,null)):V&&(V.d(1),V=null),(!y||2097152&n[0]&&v!==(v="selectContainer "+e[21]+" svelte-17l1npl"))&&N(t,"class",v),(!y||2048&n[0])&&N(t,"style",e[11]),(!y||2098176&n[0])&&H(t,"hasError",e[10]),(!y||2097280&n[0])&&H(t,"multiSelect",e[7]),(!y||2097664&n[0])&&H(t,"disabled",e[9]),(!y||2097154&n[0])&&H(t,"focused",e[1])},i(e){y||(Ae(k),Ae(O),Ae(j),Ae(T),Ae(L),y=!0)},o(e){Pe(k),Pe(O),Pe(j),Pe(T),Pe(L),y=!1},d(n){n&&C(t),x&&x.d(),k&&k.d(),O&&O.d(),e[82](null),j&&j.d(),T&&T.d(),D&&D.d(),R&&R.d(),L&&L.d(),F&&F.d(),V&&V.d(),e[85](null),b=!1,o(w)}}}function hE(e){return e.map(((e,t)=>({index:t,value:e,label:`${e}`})))}function dE(e,t,n){let r,i,o,s,a,l,c,u;const h=ie();let{id:d=null}=t,{container:f}=t,{input:p}=t,{isMulti:m=!1}=t,{multiFullItemClearable:g=!1}=t,{isDisabled:v=!1}=t,{isCreatable:y=!1}=t,{isFocused:b=!1}=t,{value:w=null}=t,{filterText:$=""}=t,{placeholder:x="Select..."}=t,{placeholderAlwaysShow:k=!1}=t,{items:S=null}=t,{itemFilter:C=((e,t,n)=>`${e}`.toLowerCase().includes(t.toLowerCase()))}=t,{groupBy:O}=t,{groupFilter:_=(e=>e)}=t,{isGroupHeaderSelectable:A=!1}=t,{getGroupHeaderLabel:P=(e=>e[E]||e.id)}=t,{labelIdentifier:E="label"}=t,{getOptionLabel:j=((e,t)=>e.isCreator?`Create "${t}"`:e[E])}=t,{optionIdentifier:M="value"}=t,{loadOptions:T}=t,{hasError:N=!1}=t,{containerStyles:I=""}=t,{getSelectionLabel:D=(e=>e?e[E]:null)}=t,{createGroupHeaderItem:R=(e=>({value:e,label:e}))}=t,{createItem:L=(e=>({value:e,label:e}))}=t;let{isSearchable:B=!0}=t,{inputStyles:F=""}=t,{isClearable:V=!0}=t,{isWaiting:z=!1}=t,{listPlacement:q="auto"}=t,{listOpen:H=!1}=t,{isVirtualList:W=!1}=t,{loadOptionsInterval:U=300}=t,{noOptionsMessage:J="No options"}=t,{hideEmptyState:K=!1}=t,{inputAttributes:G={}}=t,{listAutoWidth:Q=!0}=t,{itemHeight:Y=40}=t,{Icon:X}=t,{iconProps:Z={}}=t,{showChevron:ee=!1}=t,{showIndicator:re=!1}=t,{containerClasses:oe=""}=t,{indicatorSvg:se}=t,{listOffset:ae=5}=t,{ClearIcon:le=GP}=t,{Item:ue=mP}=t,{List:he=jP}=t,{Selection:de=NP}=t,{MultiSelection:fe=FP}=t,{VirtualList:pe=JP}=t;function me(e){if(e.loadOptions&&e.filterText.length>0)return;if(!e.items)return[];e.items&&e.items.length>0&&"object"!=typeof e.items[0]&&(e.items=hE(e.items));let t=e.items.filter((t=>{let n=C(j(t,e.filterText),e.filterText,t);return n&&e.isMulti&&e.value&&Array.isArray(e.value)&&(n=!e.value.some((n=>n[e.optionIdentifier]===t[e.optionIdentifier]))),n}));return e.groupBy&&(t=function(e){const t=[],n={};e.forEach((e=>{const r=O(e);t.includes(r)||(t.push(r),n[r]=[],r&&n[r].push(Object.assign(R(r,e),{id:r,isGroupHeader:!0,isSelectable:A}))),n[r].push(Object.assign({isGroupItem:!!r},e))}));const r=[];return _(t).forEach((e=>{r.push(...n[e])})),r}(t)),e.isCreatable&&(t=ge(t,e.filterText)),t}function ge(e,t){if(0===t.length)return e;const n=L(t);return e[0]&&t===e[0][E]?e:(n.isCreator=!0,[...e,n])}let ve,ye,be,we,$e,xe,{selectedValue:ke=null}=t;const Se=function(e,t,n){let r;return function(){let i=this,o=arguments,s=function(){r=null,n||e.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(i,o)}}((async()=>{n(4,z=!0);let e=await T($).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),h("error",{type:"loadOptions",details:e})}));e&&!e.cancelled&&(e?(e&&e.length>0&&"object"!=typeof e[0]&&(e=hE(e)),n(81,r=[...e]),h("loaded",{items:r})):n(81,r=[]),y&&n(81,r=ge(r,$)),n(4,z=!1),n(1,b=!0),n(5,H=!0))}),U);let Ce;function Oe(){let e=!0;if(w){const t=[],r=[];w.forEach((n=>{t.includes(n[M])?e=!1:(t.push(n[M]),r.push(n))})),e||n(2,w=r)}return e}function _e(e){let t=e?e[M]:w[M];return S.find((e=>e[M]===t))}function Ae(e){const{detail:t}=e,r=w[t?t.i:w.length-1];1===w.length?n(2,w=void 0):n(2,w=w.filter((e=>e!==r))),h("clear",r)}function Pe(){n(1,b=!0),p&&p.focus()}te((async()=>{n(77,ye=w),n(78,be=$),n(79,we=b),n(80,$e=m)})),ne((()=>{b&&p&&p.focus()}));let{ariaValues:Ee=(e=>`Option ${e}, selected.`)}=t,{ariaListOpen:je=((e,t)=>`You are currently focused on option ${e}. There are ${t} results available.`)}=t,{ariaFocused:Me=(()=>"Select is focused, type to refine list, press down to open the menu.")}=t;return e.$$set=e=>{"id"in e&&n(46,d=e.id),"container"in e&&n(0,f=e.container),"input"in e&&n(6,p=e.input),"isMulti"in e&&n(7,m=e.isMulti),"multiFullItemClearable"in e&&n(8,g=e.multiFullItemClearable),"isDisabled"in e&&n(9,v=e.isDisabled),"isCreatable"in e&&n(47,y=e.isCreatable),"isFocused"in e&&n(1,b=e.isFocused),"value"in e&&n(2,w=e.value),"filterText"in e&&n(3,$=e.filterText),"placeholder"in e&&n(48,x=e.placeholder),"placeholderAlwaysShow"in e&&n(49,k=e.placeholderAlwaysShow),"items"in e&&n(50,S=e.items),"itemFilter"in e&&n(51,C=e.itemFilter),"groupBy"in e&&n(52,O=e.groupBy),"groupFilter"in e&&n(53,_=e.groupFilter),"isGroupHeaderSelectable"in e&&n(54,A=e.isGroupHeaderSelectable),"getGroupHeaderLabel"in e&&n(55,P=e.getGroupHeaderLabel),"labelIdentifier"in e&&n(56,E=e.labelIdentifier),"getOptionLabel"in e&&n(57,j=e.getOptionLabel),"optionIdentifier"in e&&n(58,M=e.optionIdentifier),"loadOptions"in e&&n(59,T=e.loadOptions),"hasError"in e&&n(10,N=e.hasError),"containerStyles"in e&&n(11,I=e.containerStyles),"getSelectionLabel"in e&&n(12,D=e.getSelectionLabel),"createGroupHeaderItem"in e&&n(60,R=e.createGroupHeaderItem),"createItem"in e&&n(61,L=e.createItem),"isSearchable"in e&&n(13,B=e.isSearchable),"inputStyles"in e&&n(14,F=e.inputStyles),"isClearable"in e&&n(15,V=e.isClearable),"isWaiting"in e&&n(4,z=e.isWaiting),"listPlacement"in e&&n(63,q=e.listPlacement),"listOpen"in e&&n(5,H=e.listOpen),"isVirtualList"in e&&n(64,W=e.isVirtualList),"loadOptionsInterval"in e&&n(65,U=e.loadOptionsInterval),"noOptionsMessage"in e&&n(66,J=e.noOptionsMessage),"hideEmptyState"in e&&n(67,K=e.hideEmptyState),"inputAttributes"in e&&n(16,G=e.inputAttributes),"listAutoWidth"in e&&n(68,Q=e.listAutoWidth),"itemHeight"in e&&n(69,Y=e.itemHeight),"Icon"in e&&n(17,X=e.Icon),"iconProps"in e&&n(18,Z=e.iconProps),"showChevron"in e&&n(19,ee=e.showChevron),"showIndicator"in e&&n(20,re=e.showIndicator),"containerClasses"in e&&n(21,oe=e.containerClasses),"indicatorSvg"in e&&n(22,se=e.indicatorSvg),"listOffset"in e&&n(70,ae=e.listOffset),"ClearIcon"in e&&n(23,le=e.ClearIcon),"Item"in e&&n(71,ue=e.Item),"List"in e&&n(24,he=e.List),"Selection"in e&&n(25,de=e.Selection),"MultiSelection"in e&&n(26,fe=e.MultiSelection),"VirtualList"in e&&n(72,pe=e.VirtualList),"selectedValue"in e&&n(73,ke=e.selectedValue),"ariaValues"in e&&n(74,Ee=e.ariaValues),"ariaListOpen"in e&&n(75,je=e.ariaListOpen),"ariaFocused"in e&&n(76,Me=e.ariaFocused)},e.$$.update=()=>{140&e.$$.dirty[0]|405340160&e.$$.dirty[1]&&n(81,r=me({loadOptions:T,filterText:$,items:S,value:w,isMulti:m,optionIdentifier:M,groupBy:O,isCreatable:y})),2048&e.$$.dirty[2]&&ke&&console.warn("selectedValue is no longer used. Please use value instead."),524288&e.$$.dirty[1]&&function(e){e&&0!==e.length&&!e.some((e=>"object"!=typeof e))&&w&&(m?!w.some((e=>!e||!e[M])):w[M])&&(Array.isArray(w)?n(2,w=w.map((e=>_e(e)||e))):n(2,w=_e()||w))}(S),4&e.$$.dirty[0]&&w&&("string"==typeof w?n(2,w={[M]:w,label:w}):m&&Array.isArray(w)&&w.length>0&&n(2,w=w.map((e=>"string"==typeof e?{value:e,label:e}:e)))),73728&e.$$.dirty[0]&&(!G&&B||(n(31,Ce=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},G)),d&&n(31,Ce.id=d,Ce),B||n(31,Ce.readonly=!0,Ce))),128&e.$$.dirty[0]|262144&e.$$.dirty[2]&&(m&&w&&(Array.isArray(w)?n(2,w=[...w]):n(2,w=[w])),$e&&!m&&w&&n(2,w=null)),132&e.$$.dirty[0]&&m&&w&&w.length>1&&Oe(),4&e.$$.dirty[0]&&w&&(m?JSON.stringify(w)!==JSON.stringify(ye)&&Oe()&&h("select",w):ye&&JSON.stringify(w[M])===JSON.stringify(ye[M])||h("select",w)),132&e.$$.dirty[0]|32768&e.$$.dirty[2]&&!w&&m&&ye&&h("select",w),2&e.$$.dirty[0]|131072&e.$$.dirty[2]&&b!==we&&(b||H?Pe():p&&p.blur()),8&e.$$.dirty[0]|65536&e.$$.dirty[2]&&$!==be&&0!==$.length&&(n(1,b=!0),n(5,H=!0),T?Se():(n(5,H=!0),m&&n(30,ve=void 0))),12&e.$$.dirty[0]&&n(29,i=w&&0===$.length),536904208&e.$$.dirty[0]&&n(37,o=i&&V&&!v&&!z),132&e.$$.dirty[0]|393216&e.$$.dirty[1]&&n(36,s=k&&m?x:w?"":x),132&e.$$.dirty[0]&&n(35,a=m&&w&&w.length>0),141&e.$$.dirty[0]|218103808&e.$$.dirty[1]|526326&e.$$.dirty[2]&&n(34,l={Item:ue,filterText:$,optionIdentifier:M,noOptionsMessage:J,hideEmptyState:K,isVirtualList:W,VirtualList:pe,value:w,isMulti:m,getGroupHeaderLabel:P,items:r,itemHeight:Y,getOptionLabel:j,listPlacement:q,parent:f,listAutoWidth:Q,listOffset:ae}),132&e.$$.dirty[0]&&n(33,c=w?function(){let e;return e=m&&w.length>0?w.map((e=>D(e))).join(", "):D(w),Ee(e)}():""),268435490&e.$$.dirty[0]|524288&e.$$.dirty[2]&&n(32,u=function(){if(!b||!r||0===r.length)return"";let e=r[xe];if(H&&e){let t=D(e),n=r?r.length:0;return je(t,n)}return Me()}())},[f,b,w,$,z,H,p,m,g,v,N,I,D,B,F,V,G,X,Z,ee,re,oe,se,le,he,de,fe,function(){n(2,w=void 0),n(5,H=!1),h("clear",w),Pe()},xe,i,ve,Ce,u,c,l,a,s,o,Ae,function(e){if(b)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),n(5,H=!0),n(30,ve=void 0);break;case"Tab":H||n(1,b=!1);break;case"Backspace":if(!m||$.length>0)return;if(m&&w&&w.length>0){if(Ae(void 0!==ve?ve:w.length-1),0===ve||void 0===ve)break;n(30,ve=w.length>ve?ve-1:void 0)}break;case"ArrowLeft":if(!m||$.length>0)return;void 0===ve?n(30,ve=w.length-1):w.length>ve&&0!==ve&&n(30,ve-=1);break;case"ArrowRight":if(!m||$.length>0||void 0===ve)return;ve===w.length-1?n(30,ve=void 0):ve<w.length-1&&n(30,ve+=1)}},Pe,function(e){if(!f)return;const t=e.path&&e.path.length>0?e.path[0]:e.target;f.contains(t)||f.contains(e.relatedTarget)||(n(1,b=!1),n(5,H=!1),n(30,ve=void 0),p&&p.blur())},function(){v||(n(1,b=!0),n(5,H=!H))},function(e){const{detail:t}=e;if(t){n(3,$="");const e=Object.assign({},t);e.isGroupHeader&&!e.isSelectable||(n(2,w=m?w?w.concat([e]):[e]:e),n(2,w),setTimeout((()=>{n(5,H=!1),n(30,ve=void 0)})))}},function(e){const{detail:t}=e;m?(n(2,w=w||[]),n(2,w=[...w,L(t)])):n(2,w=L(t)),h("itemCreated",t),n(3,$=""),n(5,H=!1),n(30,ve=void 0)},function(){n(3,$=""),n(5,H=!1)},d,y,x,k,S,C,O,_,A,P,E,j,M,T,R,L,()=>r,q,W,U,J,K,Q,Y,ae,ue,pe,ke,Ee,je,Me,ye,be,we,$e,r,function(e){ce[e?"unshift":"push"]((()=>{p=e,n(6,p)}))},function(){$=this.value,n(3,$)},function(e){xe=e,n(28,xe)},function(e){ce[e?"unshift":"push"]((()=>{f=e,n(0,f)}))}]}class fE extends qe{constructor(e){super(),ze(this,e,dE,uE,a,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function pE(e){let t,n,r,i,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,x,k,O,A,P,j,T,I,D,R,L,F,V,z,q;function H(t){e[18](t)}let W={containerClasses:"jse-filter-path",showIndicator:!0,items:e[6]};function U(t){e[19](t)}void 0!==e[0]&&(W.value=e[0]),a=new fE({props:W}),ce.push((()=>Le(a,"value",H,e[0])));let J={containerClasses:"jse-filter-relation",showIndicator:!0,items:e[8]};function K(t){e[21](t)}void 0!==e[1]&&(J.value=e[1]),u=new fE({props:J}),ce.push((()=>Le(u,"value",U,e[1])));let G={containerClasses:"jse-sort-path",showIndicator:!0,items:e[6]};function Q(t){e[22](t)}void 0!==e[3]&&(G.value=e[3]),w=new fE({props:G}),ce.push((()=>Le(w,"value",K,e[3])));let Y={containerClasses:"jse-sort-direction",showIndicator:!0,items:e[9]};function X(t){e[23](t)}void 0!==e[4]&&(Y.value=e[4]),O=new fE({props:Y}),ce.push((()=>Le(O,"value",Q,e[4])));let Z={containerClasses:"jse-projection-paths",isMulti:!0,showIndicator:!0,items:e[7]};return void 0!==e[5]&&(Z.value=e[5]),L=new fE({props:Z}),ce.push((()=>Le(L,"value",X,e[5]))),{c(){t=_("table"),n=_("tr"),r=_("th"),r.textContent="Filter",i=E(),o=_("td"),s=_("div"),Be(a.$$.fragment),c=E(),Be(u.$$.fragment),d=E(),f=_("input"),p=E(),m=_("tr"),g=_("th"),g.textContent="Sort",v=E(),y=_("td"),b=_("div"),Be(w.$$.fragment),k=E(),Be(O.$$.fragment),P=E(),j=_("tr"),T=_("th"),T.textContent="Pick",I=E(),D=_("td"),R=_("div"),Be(L.$$.fragment),N(r,"class","svelte-13taczd"),N(f,"class","jse-filter-value svelte-13taczd"),N(s,"class","jse-horizontal svelte-13taczd"),N(g,"class","svelte-13taczd"),N(b,"class","jse-horizontal svelte-13taczd"),N(T,"class","svelte-13taczd"),N(R,"class","jse-horizontal svelte-13taczd"),N(t,"class","jse-transform-wizard svelte-13taczd")},m(l,h){S(l,t,h),$(t,n),$(n,r),$(n,i),$(n,o),$(o,s),Fe(a,s,null),$(s,c),Fe(u,s,null),$(s,d),$(s,f),B(f,e[2]),$(t,p),$(t,m),$(m,g),$(m,v),$(m,y),$(y,b),Fe(w,b,null),$(b,k),Fe(O,b,null),$(t,P),$(t,j),$(j,T),$(j,I),$(j,D),$(D,R),Fe(L,R,null),V=!0,z||(q=M(f,"input",e[20]),z=!0)},p(e,t){const n={};64&t[0]&&(n.items=e[6]),!l&&1&t[0]&&(l=!0,n.value=e[0],ve((()=>l=!1))),a.$set(n);const r={};!h&&2&t[0]&&(h=!0,r.value=e[1],ve((()=>h=!1))),u.$set(r),4&t[0]&&f.value!==e[2]&&B(f,e[2]);const i={};64&t[0]&&(i.items=e[6]),!x&&8&t[0]&&(x=!0,i.value=e[3],ve((()=>x=!1))),w.$set(i);const o={};!A&&16&t[0]&&(A=!0,o.value=e[4],ve((()=>A=!1))),O.$set(o);const s={};128&t[0]&&(s.items=e[7]),!F&&32&t[0]&&(F=!0,s.value=e[5],ve((()=>F=!1))),L.$set(s)},i(e){V||(Ae(a.$$.fragment,e),Ae(u.$$.fragment,e),Ae(w.$$.fragment,e),Ae(O.$$.fragment,e),Ae(L.$$.fragment,e),V=!0)},o(e){Pe(a.$$.fragment,e),Pe(u.$$.fragment,e),Pe(w.$$.fragment,e),Pe(O.$$.fragment,e),Pe(L.$$.fragment,e),V=!1},d(e){e&&C(t),Ve(a),Ve(u),Ve(w),Ve(O),Ve(L),z=!1,q()}}}function mE(e,t,n){let r,i,o,s,a;var l,c,u,h,d,f,p;const m=tt("jsoneditor:TransformWizard");let{json:g}=t,{queryOptions:v={}}=t,{onChange:y}=t;const b=["==","!=","<","<=",">",">="].map((e=>({value:e,label:e}))),w=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}];let $=(null===(l=null==v?void 0:v.filter)||void 0===l?void 0:l.path)?_(v.filter.path):null,x=(null===(c=null==v?void 0:v.filter)||void 0===c?void 0:c.relation)?b.find((e=>e.value===v.filter.relation)):null,k=(null===(u=null==v?void 0:v.filter)||void 0===u?void 0:u.value)||"",S=(null===(h=null==v?void 0:v.sort)||void 0===h?void 0:h.path)?_(v.sort.path):null,C=(null===(d=null==v?void 0:v.sort)||void 0===d?void 0:d.direction)?w.find((e=>e.value===v.sort.direction)):null,O=(null===(f=null==v?void 0:v.projection)||void 0===f?void 0:f.paths)?v.projection.paths.map(_):null;function _(e){return{value:e,label:_s(e)?"(whole item)":_c(e)}}return e.$$set=e=>{"json"in e&&n(11,g=e.json),"queryOptions"in e&&n(10,v=e.queryOptions),"onChange"in e&&n(12,y=e.onChange)},e.$$.update=()=>{2048&e.$$.dirty[0]&&n(17,r=Array.isArray(g)),133120&e.$$.dirty[0]&&n(16,i=r?pn(g):[]),133120&e.$$.dirty[0]&&n(15,o=r?pn(g,!0):[]),65536&e.$$.dirty[0]&&n(6,s=i.map(_)),32768&e.$$.dirty[0]&&n(7,a=o?o.map(_):[]),17472&e.$$.dirty[0]&&(null===n(14,p=null==v?void 0:v.filter)||void 0===p?void 0:p.path)&&s.find((e=>{var t;return As(e.value,null===(t=null==v?void 0:v.filter)||void 0===t?void 0:t.path)})),1&e.$$.dirty[0]&&function(e){var t;As(null===(t=null==v?void 0:v.filter)||void 0===t?void 0:t.path,e)||(m("changeFilterPath",e),n(10,v=Qt.setIn(v,["filter","path"],e,!0)),y(v))}((null==$?void 0:$.value)||null),2&e.$$.dirty[0]&&function(e){var t;As(null===(t=null==v?void 0:v.filter)||void 0===t?void 0:t.relation,e)||(m("changeFilterRelation",e),n(10,v=Qt.setIn(v,["filter","relation"],e,!0)),y(v))}((null==x?void 0:x.value)||null),4&e.$$.dirty[0]&&function(e){var t;As(null===(t=null==v?void 0:v.filter)||void 0===t?void 0:t.value,e)||(m("changeFilterValue",e),n(10,v=Qt.setIn(v,["filter","value"],e,!0)),y(v))}(k||null),8&e.$$.dirty[0]&&function(e){var t;As(null===(t=null==v?void 0:v.sort)||void 0===t?void 0:t.path,e)||(m("changeSortPath",e),n(10,v=Qt.setIn(v,["sort","path"],e,!0)),y(v))}((null==S?void 0:S.value)||null),16&e.$$.dirty[0]&&function(e){var t;As(null===(t=null==v?void 0:v.sort)||void 0===t?void 0:t.direction,e)||(m("changeSortDirection",e),n(10,v=Qt.setIn(v,["sort","direction"],e,!0)),y(v))}((null==C?void 0:C.value)||null),32&e.$$.dirty[0]&&function(e){var t;As(null===(t=null==v?void 0:v.projection)||void 0===t?void 0:t.paths,e)||(m("changeProjectionPaths",e),n(10,v=Qt.setIn(v,["projection","paths"],e,!0)),y(v))}(O?O.map((e=>e.value)):null)},[$,x,k,S,C,O,s,a,b,w,v,g,y,l,p,o,i,r,function(e){$=e,n(0,$)},function(e){x=e,n(1,x)},function(){k=this.value,n(2,k)},function(e){S=e,n(3,S)},function(e){C=e,n(4,C)},function(e){O=e,n(5,O)}]}class gE extends qe{constructor(e){super(),ze(this,e,mE,pE,l,{json:11,queryOptions:10,onChange:12},null,[-1,-1])}}function vE(e,t,n){const r=e.slice();return r[5]=t[n],r}function yE(t){let n,r;return n=new bc({props:{data:GC}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function bE(t){let n,r;return n=new bc({props:{data:KC}}),{c(){Be(n.$$.fragment)},m(e,t){Fe(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){Ve(n,e)}}}function wE(e){let t,n,r,i,o,s,a,l,c,u,h=e[5].name+"";const d=[bE,yE],f=[];function p(e,t){return e[5].id===e[0]?0:1}function m(){return e[4](e[5])}return n=p(e),r=f[n]=d[n](e),{c(){t=_("button"),r.c(),i=E(),o=P(h),s=E(),N(t,"type","button"),N(t,"class","jse-query-language svelte-19cxesy"),N(t,"title",a=`Select ${e[5].name} as query language`),H(t,"selected",e[5].id===e[0])},m(e,r){S(e,t,r),f[n].m(t,null),$(t,i),$(t,o),$(t,s),l=!0,c||(u=M(t,"click",m),c=!0)},p(s,c){let u=n;n=p(e=s),n===u?f[n].p(e,c):(Oe(),Pe(f[u],1,1,(()=>{f[u]=null})),_e(),r=f[n],r?r.p(e,c):(r=f[n]=d[n](e),r.c()),Ae(r,1),r.m(t,i)),(!l||2&c)&&h!==(h=e[5].name+"")&&L(o,h),(!l||2&c&&a!==(a=`Select ${e[5].name} as query language`))&&N(t,"title",a),(!l||3&c)&&H(t,"selected",e[5].id===e[0])},i(e){l||(Ae(r),l=!0)},o(e){Pe(r),l=!1},d(e){e&&C(t),f[n].d(),c=!1,u()}}}function $E(e){let t,n,r,i=e[1],o=[];for(let t=0;t<i.length;t+=1)o[t]=wE(vE(e,i,t));const s=e=>Pe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=_("div"),n=_("div");for(let e=0;e<o.length;e+=1)o[e].c();N(n,"class","jse-select-query-language-container svelte-19cxesy"),N(t,"class","jse-select-query-language svelte-19cxesy")},m(e,i){S(e,t,i),$(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);r=!0},p(e,[t]){if(7&t){let r;for(i=e[1],r=0;r<i.length;r+=1){const s=vE(e,i,r);o[r]?(o[r].p(s,t),Ae(o[r],1)):(o[r]=wE(s),o[r].c(),Ae(o[r],1),o[r].m(n,null))}for(Oe(),r=i.length;r<o.length;r+=1)s(r);_e()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)Ae(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Pe(o[e]);r=!1},d(e){e&&C(t),O(o,e)}}}function xE(e,t,n){let{queryLanguages:r}=t,{queryLanguageId:i}=t,{onChangeQueryLanguage:o}=t;function s(e){n(0,i=e),o(e)}return e.$$set=e=>{"queryLanguages"in e&&n(1,r=e.queryLanguages),"queryLanguageId"in e&&n(0,i=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(3,o=e.onChangeQueryLanguage)},[i,r,s,o,e=>s(e.id)]}class kE extends qe{constructor(e){super(),ze(this,e,xE,$E,a,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3})}}function SE(t){let n,r,i,o,s;return r=new bc({props:{data:Nl}}),{c(){n=_("button"),Be(r.$$.fragment),N(n,"type","button"),N(n,"class","jse-config svelte-d01h2s"),N(n,"title","Select a query language")},m(e,a){S(e,n,a),Fe(r,n,null),t[6](n),i=!0,o||(s=M(n,"click",t[3]),o=!0)},p:e,i(e){i||(Ae(r.$$.fragment,e),i=!0)},o(e){Pe(r.$$.fragment,e),i=!1},d(e){e&&C(n),Ve(r),t[6](null),o=!1,s()}}}function CE(e){let t,n,r,i,o,s,a,l,c,u=e[0].length>1&&SE(e);return s=new bc({props:{data:ql}}),{c(){t=_("div"),n=_("div"),n.textContent="Transform",r=E(),u&&u.c(),i=E(),o=_("button"),Be(s.$$.fragment),N(n,"class","jse-title svelte-d01h2s"),N(o,"type","button"),N(o,"class","jse-close svelte-d01h2s"),N(t,"class","jse-header svelte-d01h2s")},m(h,d){S(h,t,d),$(t,n),$(t,r),u&&u.m(t,null),$(t,i),$(t,o),Fe(s,o,null),a=!0,l||(c=M(o,"click",e[2]),l=!0)},p(e,[n]){e[0].length>1?u?(u.p(e,n),1&n&&Ae(u,1)):(u=SE(e),u.c(),Ae(u,1),u.m(t,i)):u&&(Oe(),Pe(u,1,1,(()=>{u=null})),_e())},i(e){a||(Ae(u),Ae(s.$$.fragment,e),a=!0)},o(e){Pe(u),Pe(s.$$.fragment,e),a=!1},d(e){e&&C(t),u&&u.d(),Ve(s),l=!1,c()}}}function OE(e,t,n){let r,{queryLanguages:i}=t,{queryLanguageId:o}=t,{onChangeQueryLanguage:s}=t;const{close:a}=se("simple-modal"),{openAbsolutePopup:l,closeAbsolutePopup:c}=se("absolute-popup");return e.$$set=e=>{"queryLanguages"in e&&n(0,i=e.queryLanguages),"queryLanguageId"in e&&n(4,o=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(5,s=e.onChangeQueryLanguage)},[i,r,a,function(){l(kE,{queryLanguages:i,queryLanguageId:o,onChangeQueryLanguage:e=>{c(),s(e)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},o,s,function(e){ce[e?"unshift":"push"]((()=>{r=e,n(1,r)}))}]}class _E extends qe{constructor(e){super(),ze(this,e,OE,CE,l,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5})}}function AE(e){let t,n,r,i,o;const s=[EE,PE],a=[];function l(e,n){return 512&n[0]&&(t=null),null==t&&(t=!!Array.isArray(e[9])),t?0:1}return n=l(e,[-1,-1]),r=a[n]=s[n](e),{c(){r.c(),i=j()},m(e,t){a[n].m(e,t),S(e,i,t),o=!0},p(e,t){let o=n;n=l(e,t),n===o?a[n].p(e,t):(Oe(),Pe(a[o],1,1,(()=>{a[o]=null})),_e(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),Ae(r,1),r.m(i.parentNode,i))},i(e){o||(Ae(r),o=!0)},o(e){Pe(r),o=!1},d(e){a[n].d(e),e&&C(i)}}}function PE(t){let n;return{c(){n=P("(Only available for arrays, not for objects)")},m(e,t){S(e,n,t)},p:e,i:e,o:e,d(e){e&&C(n)}}}function EE(e){let t,n;return t=new gE({props:{queryOptions:e[7],json:e[9],onChange:e[16]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.queryOptions=e[7]),512&n[0]&&(r.json=e[9]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function jE(e){let t,n;return t=new zA({props:{externalContent:e[14],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:e[2],escapeUnicodeCharacters:e[3],onRenderValue:e[5],onError:console.error,onChange:Cr,onFocus:Cr,onBlur:Cr,onSortModal:Cr,onTransformModal:Cr,onClassName:e[6]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};16384&n[0]&&(r.externalContent=e[14]),4&n[0]&&(r.escapeControlCharacters=e[2]),8&n[0]&&(r.escapeUnicodeCharacters=e[3]),32&n[0]&&(r.onRenderValue=e[5]),64&n[0]&&(r.onClassName=e[6]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function ME(t){let n,r,i=t[12].toString()+"";return{c(){n=_("div"),r=P(i),N(n,"class","jse-preview jse-error svelte-15uz9w0")},m(e,t){S(e,n,t),$(n,r)},p(e,t){4096&t[0]&&i!==(i=e[12].toString()+"")&&L(r,i)},i:e,o:e,d(e){e&&C(n)}}}function TE(e){let t,n;return t=new zA({props:{externalContent:e[13],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:e[2],escapeUnicodeCharacters:e[3],onRenderValue:e[5],onError:console.error,onChange:Cr,onFocus:Cr,onBlur:Cr,onSortModal:Cr,onTransformModal:Cr,onClassName:e[6]}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.externalContent=e[13]),4&n[0]&&(r.escapeControlCharacters=e[2]),8&n[0]&&(r.escapeUnicodeCharacters=e[3]),32&n[0]&&(r.onRenderValue=e[5]),64&n[0]&&(r.onClassName=e[6]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function NE(e){let t,n,r,i,s,a,l,c,u,h,d,f,p,g,v,y,b,w,x,k,O,A,j,T,I,D,R,L,B,F,V,z,q,W,U,J,K,G,Q,Y,X,Z,ee,te,ne,re,ie,oe=e[15](e[0]).description+"";t=new _E({props:{queryLanguages:e[4],queryLanguageId:e[0],onChangeQueryLanguage:e[21]}}),w=new bc({props:{data:e[10]?Il:bl}});let se=e[10]&&AE(e);V=new bc({props:{data:e[11]?Il:bl}});let ae=e[11]&&jE(e);const le=[TE,ME],ce=[];function ue(e,t){return e[12]?1:0}return G=ue(e),Q=ce[G]=le[G](e),{c(){Be(t.$$.fragment),n=E(),r=_("div"),i=_("div"),s=_("div"),a=_("div"),a.innerHTML='<div class="jse-label-inner svelte-15uz9w0">Language</div>',l=E(),c=_("div"),u=E(),h=_("div"),h.innerHTML='<div class="jse-label-inner svelte-15uz9w0">Path</div>',d=E(),f=_("input"),g=E(),v=_("div"),y=_("div"),b=_("button"),Be(w.$$.fragment),x=P("\n                Wizard"),k=E(),se&&se.c(),O=E(),A=_("div"),A.innerHTML='<div class="jse-label-inner svelte-15uz9w0">Query</div>',j=E(),T=_("textarea"),I=E(),D=_("div"),R=_("div"),L=_("div"),B=_("div"),F=_("button"),Be(V.$$.fragment),z=P("\n                  Original"),q=E(),ae&&ae.c(),W=E(),U=_("div"),J=_("div"),J.innerHTML='<div class="jse-label-inner svelte-15uz9w0">Preview</div>',K=E(),Q.c(),Y=E(),X=_("div"),Z=_("button"),ee=P("Transform"),N(a,"class","jse-label svelte-15uz9w0"),N(c,"class","jse-description svelte-15uz9w0"),N(h,"class","jse-label svelte-15uz9w0"),N(f,"class","jse-path svelte-15uz9w0"),N(f,"type","text"),f.readOnly=!0,N(f,"title","Selected path"),f.value=p=_s(e[1])?"(whole document)":_c(e[1]),N(b,"type","button"),N(b,"class","svelte-15uz9w0"),N(y,"class","jse-label-inner svelte-15uz9w0"),N(v,"class","jse-label svelte-15uz9w0"),N(A,"class","jse-label svelte-15uz9w0"),N(T,"class","jse-query svelte-15uz9w0"),N(T,"spellcheck","false"),T.value=e[8],N(s,"class","jse-query-contents svelte-15uz9w0"),N(F,"type","button"),N(F,"class","svelte-15uz9w0"),N(B,"class","jse-label-inner svelte-15uz9w0"),N(L,"class","jse-label svelte-15uz9w0"),N(R,"class","jse-original-data svelte-15uz9w0"),H(R,"jse-hide",!e[11]),N(J,"class","jse-label svelte-15uz9w0"),N(U,"class","jse-preview-data svelte-15uz9w0"),N(D,"class","jse-data-contents svelte-15uz9w0"),H(D,"jse-hide-original-data",!e[11]),N(i,"class","jse-main-contents svelte-15uz9w0"),N(Z,"type","button"),N(Z,"class","jse-primary svelte-15uz9w0"),Z.disabled=te=!!e[12],N(X,"class","jse-actions svelte-15uz9w0"),N(r,"class","jse-contents svelte-15uz9w0")},m(o,p){Fe(t,o,p),S(o,n,p),S(o,r,p),$(r,i),$(i,s),$(s,a),$(s,l),$(s,c),c.innerHTML=oe,$(s,u),$(s,h),$(s,d),$(s,f),$(s,g),$(s,v),$(v,y),$(y,b),Fe(w,b,null),$(b,x),$(s,k),se&&se.m(s,null),$(s,O),$(s,A),$(s,j),$(s,T),$(i,I),$(i,D),$(D,R),$(R,L),$(L,B),$(B,F),Fe(V,F,null),$(F,z),$(R,q),ae&&ae.m(R,null),$(D,W),$(D,U),$(U,J),$(U,K),ce[G].m(U,null),$(r,Y),$(r,X),$(X,Z),$(Z,ee),ne=!0,re||(ie=[M(b,"click",e[19]),M(T,"input",e[17]),M(F,"click",e[20]),M(Z,"click",e[18]),m(DE.call(null,Z))],re=!0)},p(e,n){const r={};16&n[0]&&(r.queryLanguages=e[4]),1&n[0]&&(r.queryLanguageId=e[0]),t.$set(r),(!ne||1&n[0])&&oe!==(oe=e[15](e[0]).description+"")&&(c.innerHTML=oe),(!ne||2&n[0]&&p!==(p=_s(e[1])?"(whole document)":_c(e[1]))&&f.value!==p)&&(f.value=p);const i={};1024&n[0]&&(i.data=e[10]?Il:bl),w.$set(i),e[10]?se?(se.p(e,n),1024&n[0]&&Ae(se,1)):(se=AE(e),se.c(),Ae(se,1),se.m(s,O)):se&&(Oe(),Pe(se,1,1,(()=>{se=null})),_e()),(!ne||256&n[0])&&(T.value=e[8]);const o={};2048&n[0]&&(o.data=e[11]?Il:bl),V.$set(o),e[11]?ae?(ae.p(e,n),2048&n[0]&&Ae(ae,1)):(ae=jE(e),ae.c(),Ae(ae,1),ae.m(R,null)):ae&&(Oe(),Pe(ae,1,1,(()=>{ae=null})),_e()),(!ne||2048&n[0])&&H(R,"jse-hide",!e[11]);let a=G;G=ue(e),G===a?ce[G].p(e,n):(Oe(),Pe(ce[a],1,1,(()=>{ce[a]=null})),_e(),Q=ce[G],Q?Q.p(e,n):(Q=ce[G]=le[G](e),Q.c()),Ae(Q,1),Q.m(U,null)),(!ne||2048&n[0])&&H(D,"jse-hide-original-data",!e[11]),(!ne||4096&n[0]&&te!==(te=!!e[12]))&&(Z.disabled=te)},i(e){ne||(Ae(t.$$.fragment,e),Ae(w.$$.fragment,e),Ae(se),Ae(V.$$.fragment,e),Ae(ae),Ae(Q),ne=!0)},o(e){Pe(t.$$.fragment,e),Pe(w.$$.fragment,e),Pe(se),Pe(V.$$.fragment,e),Pe(ae),Pe(Q),ne=!1},d(e){Ve(t,e),e&&C(n),e&&C(r),Ve(w),se&&se.d(),Ve(V),ae&&ae.d(),ce[G].d(),re=!1,o(ie)}}}function IE(e){let t,n,r;return n=new yl({props:{$$slots:{default:[NE]},$$scope:{ctx:e}}}),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class","jse-modal jse-transform svelte-15uz9w0")},m(e,i){S(e,t,i),Fe(n,t,null),r=!0},p(e,t){const r={};32767&t[0]|8&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Pe(n.$$.fragment,e),r=!1},d(e){e&&C(t),Ve(n)}}}function DE(e){e.focus()}function RE(e,t,n){let r,i;const o=tt("jsoneditor:TransformModal");let{id:s="transform-modal-"+Ut()}=t,{json:a}=t,{selectedPath:l=[]}=t,{escapeControlCharacters:c}=t,{escapeUnicodeCharacters:u}=t,{queryLanguages:h}=t,{queryLanguageId:d}=t,{onChangeQueryLanguage:f}=t,{onRenderValue:p}=t,{onClassName:m}=t,{onTransform:g}=t;const{close:v}=se("simple-modal"),y=`${s}:${Qt.compileJSONPointer(l)}`,b=dP[y]||{};let w,$=!1!==dP.showWizard,x=!1!==dP.showOriginal,k=b.queryOptions||{},S=d===b.queryLanguageId&&b.query?b.query:_(d).createQuery(a,b.queryOptions||{}),C=b.isManual||!1,O={text:""};function _(e){return h.find((t=>t.id===e))||h[0]}const A=vs((function(e,t){try{o("previewTransform",{query:t});const r=_(d).executeQuery(e,t);n(13,O={json:r}),n(12,w=void 0)}catch(e){n(13,O={text:""}),n(12,w=e)}}),300);return e.$$set=e=>{"id"in e&&n(22,s=e.id),"json"in e&&n(23,a=e.json),"selectedPath"in e&&n(1,l=e.selectedPath),"escapeControlCharacters"in e&&n(2,c=e.escapeControlCharacters),"escapeUnicodeCharacters"in e&&n(3,u=e.escapeUnicodeCharacters),"queryLanguages"in e&&n(4,h=e.queryLanguages),"queryLanguageId"in e&&n(0,d=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(24,f=e.onChangeQueryLanguage),"onRenderValue"in e&&n(5,p=e.onRenderValue),"onClassName"in e&&n(6,m=e.onClassName),"onTransform"in e&&n(25,g=e.onTransform)},e.$$.update=()=>{8388610&e.$$.dirty[0]&&n(9,r=Qt.getIn(a,l)),512&e.$$.dirty[0]&&n(14,i={json:r}),768&e.$$.dirty[0]&&A(r,S),201326977&e.$$.dirty[0]&&(n(26,dP[y]={queryOptions:k,query:S,queryLanguageId:d,isManual:C},dP),o("store state in memory",y,dP[y]))},[d,l,c,u,h,p,m,k,S,r,$,x,w,O,i,_,function(e){n(7,k=e),n(8,S=_(d).createQuery(a,e)),n(27,C=!1),o("updateQueryByWizard",{queryOptions:k,query:S,isManual:C})},function(e){n(8,S=e.target.value),n(27,C=!0),o("handleChangeQuery",{query:S,isManual:C})},function(){try{o("handleTransform",{query:S});const e=_(d).executeQuery(r,S);g([{op:"replace",path:Qt.compileJSONPointer(l),value:e}]),v()}catch(e){console.error(e),n(13,O={text:""}),n(12,w=e.toString())}},function(){n(10,$=!$),n(26,dP.showWizard=$,dP)},function(){n(11,x=!x),n(26,dP.showOriginal=x,dP)},function(e){o("handleChangeQueryLanguage",e),n(0,d=e),f(e);const t=_(d);n(8,S=t.createQuery(a,k)),n(27,C=!1)},s,a,f,g,dP,C]}class LE extends qe{constructor(e){super(),ze(this,e,RE,IE,l,{id:22,json:23,selectedPath:1,escapeControlCharacters:2,escapeUnicodeCharacters:3,queryLanguages:4,queryLanguageId:0,onChangeQueryLanguage:24,onRenderValue:5,onClassName:6,onTransform:25},null,[-1,-1])}}const BE={};function FE(e){let t,n,r,i,o,s,a;function l(t){e[12](t)}let c={showIndicator:!0,items:e[4]};return void 0!==e[1]&&(c.value=e[1]),o=new fE({props:c}),ce.push((()=>Le(o,"value",l,e[1]))),{c(){t=_("tr"),n=_("th"),n.textContent="Property",r=E(),i=_("td"),Be(o.$$.fragment),N(n,"class","svelte-ery7bx"),N(i,"class","svelte-ery7bx")},m(e,s){S(e,t,s),$(t,n),$(t,r),$(t,i),Fe(o,i,null),a=!0},p(e,t){const n={};16&t&&(n.items=e[4]),!s&&2&t&&(s=!0,n.value=e[1],ve((()=>s=!1))),o.$set(n)},i(e){a||(Ae(o.$$.fragment,e),a=!0)},o(e){Pe(o.$$.fragment,e),a=!1},d(e){e&&C(t),Ve(o)}}}function VE(e){let t,n,r,i,s,a,l,c,u,h,d,f,p,g,v,y,b,w,x,k,O,A,j,T,I,D,R,L,B,F,V,z;n=new OC({props:{title:e[3]?"Sort array items":"Sort object keys"}});let q=e[3]&&(e[4].length>1||void 0===e[1])&&FE(e);function H(t){e[13](t)}let W={showIndicator:!0,items:e[5],isClearable:!1};return void 0!==e[2]&&(W.value=e[2]),O=new fE({props:W}),ce.push((()=>Le(O,"value",H,e[2]))),{c(){t=_("div"),Be(n.$$.fragment),r=E(),i=_("div"),s=_("table"),a=_("colgroup"),a.innerHTML='<col width="25%"/> \n        <col width="75%"/>',l=E(),c=_("tbody"),u=_("tr"),h=_("th"),h.textContent="Path",d=E(),f=_("td"),p=_("input"),v=E(),q&&q.c(),y=E(),b=_("tr"),w=_("th"),w.textContent="Direction",x=E(),k=_("td"),Be(O.$$.fragment),j=E(),T=_("div"),I=E(),D=_("div"),R=_("button"),L=P("Sort"),N(h,"class","svelte-ery7bx"),N(p,"class","jse-path svelte-ery7bx"),N(p,"type","text"),p.readOnly=!0,N(p,"title","Selected path"),p.value=g=_s(e[0])?"(whole document)":_c(e[0]),N(f,"class","svelte-ery7bx"),N(w,"class","svelte-ery7bx"),N(k,"class","svelte-ery7bx"),N(s,"class","svelte-ery7bx"),N(T,"class","jse-space svelte-ery7bx"),N(R,"type","button"),N(R,"class","jse-primary svelte-ery7bx"),R.disabled=B=!!e[3]&&!e[1],N(D,"class","jse-actions svelte-ery7bx"),N(i,"class","jse-contents svelte-ery7bx"),N(t,"class","jse-modal jse-sort svelte-ery7bx")},m(o,g){S(o,t,g),Fe(n,t,null),$(t,r),$(t,i),$(i,s),$(s,a),$(s,l),$(s,c),$(c,u),$(u,h),$(u,d),$(u,f),$(f,p),$(c,v),q&&q.m(c,null),$(c,y),$(c,b),$(b,w),$(b,x),$(b,k),Fe(O,k,null),$(i,j),$(i,T),$(i,I),$(i,D),$(D,R),$(R,L),F=!0,V||(z=[M(R,"click",e[6]),m(zE.call(null,R))],V=!0)},p(e,[t]){const r={};8&t&&(r.title=e[3]?"Sort array items":"Sort object keys"),n.$set(r),(!F||1&t&&g!==(g=_s(e[0])?"(whole document)":_c(e[0]))&&p.value!==g)&&(p.value=g),e[3]&&(e[4].length>1||void 0===e[1])?q?(q.p(e,t),26&t&&Ae(q,1)):(q=FE(e),q.c(),Ae(q,1),q.m(c,y)):q&&(Oe(),Pe(q,1,1,(()=>{q=null})),_e());const i={};!A&&4&t&&(A=!0,i.value=e[2],ve((()=>A=!1))),O.$set(i),(!F||10&t&&B!==(B=!!e[3]&&!e[1]))&&(R.disabled=B)},i(e){F||(Ae(n.$$.fragment,e),Ae(q),Ae(O.$$.fragment,e),F=!0)},o(e){Pe(n.$$.fragment,e),Pe(q),Pe(O.$$.fragment,e),F=!1},d(e){e&&C(t),Ve(n),q&&q.d(),Ve(O),V=!1,o(z)}}}function zE(e){e.focus()}function qE(e,t,n){let r,i,o;const s=tt("jsoneditor:SortModal");let{id:a}=t,{json:l}=t,{selectedPath:c}=t,{onSort:u}=t;const{close:h}=se("simple-modal"),d=`${a}:${Qt.compileJSONPointer(c)}`,f=Qt.getIn(l,c),p={value:1,label:"ascending"},m=[p,{value:-1,label:"descending"}];let g=BE[d]&&BE[d].selectedProperty||void 0,v=BE[d]&&BE[d].selectedDirection||p;function y(e){return{value:e,label:_s(e)?"(whole item)":_c(e)}}return e.$$set=e=>{"id"in e&&n(7,a=e.id),"json"in e&&n(8,l=e.json),"selectedPath"in e&&n(0,c=e.selectedPath),"onSort"in e&&n(9,u=e.onSort)},e.$$.update=()=>{8&e.$$.dirty&&n(11,i=r?pn(f):void 0),2048&e.$$.dirty&&n(4,o=i?i.map(y):void 0),18&e.$$.dirty&&void 0===g&&o&&1===o.length&&n(1,g=o[0]),1030&e.$$.dirty&&(n(10,BE[d]={selectedProperty:g,selectedDirection:v},BE),s("store state in memory",d,BE[d]))},n(3,r=Array.isArray(f)),[c,g,v,r,o,m,function(){if(r){if(!g)return;const e=g.value,t=v.value,n=hA(l,c,e,t);u(n)}else if(on(f)){const e=v.value,t=function(e,t=[],n=1){const r=Qt.getIn(e,t),i=Object.keys(r).slice();i.sort(((e,t)=>n*uA(e,t)));const o=[];for(let e=0;e<i.length;e++){const n=i[e],r=Qt.compileJSONPointer(t.concat(n));o.push({op:"move",from:r,path:r})}return o}(l,c,e);u(t)}else console.error("Cannot sort: no array or object");h()},a,l,u,BE,i,function(e){g=e,n(1,g),n(4,o),n(11,i),n(3,r)},function(e){v=e,n(2,v)}]}class HE extends qe{constructor(e){super(),ze(this,e,qE,VE,l,{id:7,json:8,selectedPath:0,onSort:9})}}function WE(e,t,n){const r=se("simple-modal");return[r.open,r.close]}class UE extends qe{constructor(e){super(),ze(this,e,WE,null,l,{open:0,close:1})}get open(){return this.$$.ctx[0]}get close(){return this.$$.ctx[1]}}function JE(e){let t,n,r={readOnly:e[2],indentation:e[3],externalContent:e[0],mainMenuBar:e[5],navigationBar:e[6],escapeControlCharacters:e[8],escapeUnicodeCharacters:e[9],validator:e[10],onError:e[13],onChange:e[21],onRequestRepair:e[23],onRenderValue:e[11],onClassName:e[12],onFocus:e[25],onBlur:e[26],onRenderMenu:e[27],onSortModal:e[29],onTransformModal:e[28]};return t=new zA({props:r}),e[54](t),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.readOnly=e[2]),8&n[0]&&(r.indentation=e[3]),1&n[0]&&(r.externalContent=e[0]),32&n[0]&&(r.mainMenuBar=e[5]),64&n[0]&&(r.navigationBar=e[6]),256&n[0]&&(r.escapeControlCharacters=e[8]),512&n[0]&&(r.escapeUnicodeCharacters=e[9]),1024&n[0]&&(r.validator=e[10]),8192&n[0]&&(r.onError=e[13]),2048&n[0]&&(r.onRenderValue=e[11]),4096&n[0]&&(r.onClassName=e[12]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(n){e[54](null),Ve(t,n)}}}function KE(e){let t,n,r={text:e[20](e[0]),readOnly:e[2],indentation:e[3],tabSize:e[4],mainMenuBar:e[5],statusBar:e[7],escapeUnicodeCharacters:e[9],validator:e[10],onChange:e[22],onSwitchToTreeMode:e[24],onError:e[13],onFocus:e[25],onBlur:e[26],onRenderMenu:e[27],onSortModal:e[29],onTransformModal:e[28]};return t=new tC({props:r}),e[53](t),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.text=e[20](e[0])),4&n[0]&&(r.readOnly=e[2]),8&n[0]&&(r.indentation=e[3]),16&n[0]&&(r.tabSize=e[4]),32&n[0]&&(r.mainMenuBar=e[5]),128&n[0]&&(r.statusBar=e[7]),512&n[0]&&(r.escapeUnicodeCharacters=e[9]),1024&n[0]&&(r.validator=e[10]),8192&n[0]&&(r.onError=e[13]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(n){e[53](null),Ve(t,n)}}}function GE(e){let t,n,r,i;const o=[KE,JE],s=[];function a(e,t){return e[1]===ft.CODE?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=j()},m(e,n){s[t].m(e,n),S(e,r,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(Oe(),Pe(s[l],1,1,(()=>{s[l]=null})),_e(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){i||(Ae(n),i=!0)},o(e){Pe(n),i=!1},d(e){s[t].d(e),e&&C(r)}}}function QE(t){let n,r,i=t[14],o=GE(t);return{c(){n=_("div"),o.c(),N(n,"class","jse-main svelte-1ogdbp0"),H(n,"jse-focus",t[15])},m(e,i){S(e,n,i),o.m(n,null),t[55](n),r=!0},p(t,s){16384&s[0]&&l(i,i=t[14])?(Oe(),Pe(o,1,1,e),_e(),o=GE(t),o.c(),Ae(o,1),o.m(n,null)):o.p(t,s),(!r||32768&s[0])&&H(n,"jse-focus",t[15])},i(e){r||(Ae(o),r=!0)},o(e){Pe(o),r=!1},d(e){e&&C(n),o.d(e),t[55](null)}}}function YE(e){let t,n,r,i,o;function s(t){e[52](t)}let a={};return void 0!==e[19]&&(a.open=e[19]),t=new UE({props:a}),ce.push((()=>Le(t,"open",s,e[19]))),i=new yl({props:{$$slots:{default:[QE]},$$scope:{ctx:e}}}),{c(){Be(t.$$.fragment),r=E(),Be(i.$$.fragment)},m(e,n){Fe(t,e,n),S(e,r,n),Fe(i,e,n),o=!0},p(e,r){const o={};!n&&524288&r[0]&&(n=!0,o.open=e[19],ve((()=>n=!1))),t.$set(o);const s={};524287&r[0]|1073741824&r[1]&&(s.$$scope={dirty:r,ctx:e}),i.$set(s)},i(e){o||(Ae(t.$$.fragment,e),Ae(i.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),Pe(i.$$.fragment,e),o=!1},d(e){Ve(t,e),e&&C(r),Ve(i,e)}}}function XE(e){let t,n;return t=new dt({props:{$$slots:{default:[YE]},$$scope:{ctx:e}}}),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(e,n){const r={};1048575&n[0]|1073741824&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function ZE(e){this.$set(e)}function ej(){this.$destroy()}function tj(e,t,n){let r;const i=tt("jsoneditor:Main");let o,s,a,l,c,{content:u={text:""}}=t,{readOnly:h=!1}=t,{indentation:d=2}=t,{tabSize:f=4}=t,{mode:p=ft.TREE}=t,{mainMenuBar:m=!0}=t,{navigationBar:g=!0}=t,{statusBar:v=!0}=t,{escapeControlCharacters:y=!1}=t,{escapeUnicodeCharacters:b=!1}=t,{validator:w=null}=t,{queryLanguages:$=[qA]}=t,{queryLanguageId:x=$[0].id}=t,{onChangeQueryLanguage:k=Cr}=t,{onChange:S=null}=t,{onRenderValue:C=hP}=t,{onClassName:O=Cr}=t,{onRenderMenu:_=Cr}=t,{onChangeMode:A=Cr}=t,{onError:P=(e=>{console.error(e),alert(e.toString())})}=t,{onFocus:E=Cr}=t,{onBlur:j=Cr}=t,M=Ut(),T=!1;function N(){a?a.focus():s&&s.focus()}function I(e,t,r){n(0,u=e),S&&S(e,t,r)}async function D(e){p!==e&&(n(1,p=e),await me(),N(),A(e))}const R={separator:!0};function L(e){i("handleChangeQueryLanguage",e),n(30,x=e),k(e)}return e.$$set=e=>{"content"in e&&n(0,u=e.content),"readOnly"in e&&n(2,h=e.readOnly),"indentation"in e&&n(3,d=e.indentation),"tabSize"in e&&n(4,f=e.tabSize),"mode"in e&&n(1,p=e.mode),"mainMenuBar"in e&&n(5,m=e.mainMenuBar),"navigationBar"in e&&n(6,g=e.navigationBar),"statusBar"in e&&n(7,v=e.statusBar),"escapeControlCharacters"in e&&n(8,y=e.escapeControlCharacters),"escapeUnicodeCharacters"in e&&n(9,b=e.escapeUnicodeCharacters),"validator"in e&&n(10,w=e.validator),"queryLanguages"in e&&n(31,$=e.queryLanguages),"queryLanguageId"in e&&n(30,x=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(32,k=e.onChangeQueryLanguage),"onChange"in e&&n(33,S=e.onChange),"onRenderValue"in e&&n(11,C=e.onRenderValue),"onClassName"in e&&n(12,O=e.onClassName),"onRenderMenu"in e&&n(34,_=e.onRenderMenu),"onChangeMode"in e&&n(35,A=e.onChangeMode),"onError"in e&&n(13,P=e.onError),"onFocus"in e&&n(36,E=e.onFocus),"onBlur"in e&&n(37,j=e.onBlur)},e.$$.update=()=>{if(1&e.$$.dirty[0]){const e=Cn(u);e&&console.error("Error: "+e)}2&e.$$.dirty[0]&&n(51,r=p===ft.CODE),2&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&(c=[{text:"code",title:`Switch to code mode (current mode: ${p})`,className:"jse-group-button jse-first"+(r?" jse-selected":""),onClick:()=>D(ft.CODE)},{text:"tree",title:`Switch to tree mode (current mode: ${p})`,className:"jse-group-button jse-last"+(r?"":" jse-selected"),onClick:()=>D(ft.TREE)}])},[u,p,h,d,f,m,g,v,y,b,w,C,O,P,M,T,o,s,a,l,function(e){return On(e)?e.text:JSON.stringify(e.json,null,d)},I,function(e,t){I({text:e,json:void 0},{text:t,json:void 0},null)},async function(){n(1,p=ft.CODE),await me(),A(ft.CODE)},async function(){n(1,p=ft.TREE),await me(),A(ft.TREE)},function(){n(15,T=!0),E&&E()},function(){n(15,T=!1),j&&j()},function(e,t){const n=e===ft.TREE||e===ft.CODE?(r=t[0])&&!0===r.space&&1===Object.keys(r).length?c.concat(t):c.concat([R],t):t;var r;return _(e,n)||n},function({id:e,json:t,selectedPath:n,onTransform:r,onClose:i}){console.log("json",t),h||l(LE,{id:e,json:t,selectedPath:n,escapeControlCharacters:y,escapeUnicodeCharacters:b,queryLanguages:$,queryLanguageId:x,onChangeQueryLanguage:L,onRenderValue:C,onClassName:O,onTransform:r},jt,{onClose:i})},function({id:e,json:t,selectedPath:n,onSort:r,onClose:i}){h||l(HE,{id:e,json:t,selectedPath:n,onSort:r},Et,{onClose:i})},x,$,k,S,_,A,E,j,function(){return u},function(e){i("set");const t=Cn(e);if(t)throw new Error(t);n(14,M=Ut()),n(0,u=e)},function(e){i("update");const t=Cn(e);if(t)throw new Error(t);n(0,u=e)},function(e){if(On(u))try{n(0,u={json:JSON.parse(u.text),text:void 0})}catch(e){throw new Error("Cannot apply patch: current document contains invalid JSON")}return s?s.patch(e):a?a.patch(e):void 0},function(e){if(s)return s.expand(e);throw new Error(`Method expand is not available in mode "${p}"`)},function(e){if(a)a.openTransformModal(e);else{if(!s)throw new Error(`Method transform is not available in mode "${p}"`);s.openTransformModal(e)}},function(){return s?s.acceptAutoRepair():u},function(e){if(s)return s.scrollTo(e);throw new Error(`Method scrollTo is not available in mode "${p}"`)},function(e){if(s)return s.findElement(e);throw new Error(`Method findElement is not available in mode "${p}"`)},N,function(){a&&a.refresh()},ZE,ej,r,function(e){l=e,n(19,l)},function(e){ce[e?"unshift":"push"]((()=>{a=e,n(18,a)}))},function(e){ce[e?"unshift":"push"]((()=>{s=e,n(17,s)}))},function(e){ce[e?"unshift":"push"]((()=>{o=e,n(16,o)}))}]}class nj extends qe{constructor(e){super(),ze(this,e,tj,XE,l,{content:0,readOnly:2,indentation:3,tabSize:4,mode:1,mainMenuBar:5,navigationBar:6,statusBar:7,escapeControlCharacters:8,escapeUnicodeCharacters:9,validator:10,queryLanguages:31,queryLanguageId:30,onChangeQueryLanguage:32,onChange:33,onRenderValue:11,onClassName:12,onRenderMenu:34,onChangeMode:35,onError:13,onFocus:36,onBlur:37,get:38,set:39,update:40,patch:41,expand:42,transform:43,acceptAutoRepair:44,scrollTo:45,findElement:46,focus:47,refresh:48,updateProps:49,destroy:50},null,[-1,-1])}get get(){return this.$$.ctx[38]}get set(){return this.$$.ctx[39]}get update(){return this.$$.ctx[40]}get patch(){return this.$$.ctx[41]}get expand(){return this.$$.ctx[42]}get transform(){return this.$$.ctx[43]}get acceptAutoRepair(){return this.$$.ctx[44]}get scrollTo(){return this.$$.ctx[45]}get findElement(){return this.$$.ctx[46]}get focus(){return this.$$.ctx[47]}get refresh(){return this.$$.ctx[48]}get updateProps(){return ZE}get destroy(){return ej}}Kt((function(e,t){e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(!a&&Gt)return Gt(s);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=Gt,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.regexpCode=n.getEsmExportName=n.getProperty=n.safeStringify=n.stringify=n.strConcat=n.addCodeArg=n.str=n._=n.nil=n._Code=n.Name=n.IDENTIFIER=n._CodeOrName=void 0;class r{}n._CodeOrName=r,n.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends r{constructor(e){if(super(),!n.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}n.Name=i;class o extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function s(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new o(n)}n._Code=o,n.nil=new o(""),n._=s;const a=new o("+");function l(e,...t){const n=[h(e[0])];let r=0;for(;r<t.length;)n.push(a),c(n,t[r]),n.push(a,h(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===a){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new o(n)}function c(e,t){var n;t instanceof o?e.push(...t._items):e.push(t instanceof i?t:"number"==typeof(n=t)||"boolean"==typeof n||null===n?n:h(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:`"${e}${t.slice(1)}`}function h(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}n.str=l,n.addCodeArg=c,n.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:l`${e}${t}`},n.stringify=function(e){return new o(h(e))},n.safeStringify=h,n.getProperty=function(e){return"string"==typeof e&&n.IDENTIFIER.test(e)?new o(`.${e}`):s`[${e}]`},n.getEsmExportName=function(e){if("string"==typeof e&&n.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},n.regexpCode=function(e){return new o(e.toString())}},{}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.or=n.and=n.not=n.CodeGen=n.operators=n.varKinds=n.ValueScopeName=n.ValueScope=n.Scope=n.Name=n.regexpCode=n.stringify=n.getProperty=n.nil=n.strConcat=n.str=n._=void 0;const r=e("./code"),i=e("./scope");var o=e("./code");Object.defineProperty(n,"_",{enumerable:!0,get:()=>o._}),Object.defineProperty(n,"str",{enumerable:!0,get:()=>o.str}),Object.defineProperty(n,"strConcat",{enumerable:!0,get:()=>o.strConcat}),Object.defineProperty(n,"nil",{enumerable:!0,get:()=>o.nil}),Object.defineProperty(n,"getProperty",{enumerable:!0,get:()=>o.getProperty}),Object.defineProperty(n,"stringify",{enumerable:!0,get:()=>o.stringify}),Object.defineProperty(n,"regexpCode",{enumerable:!0,get:()=>o.regexpCode}),Object.defineProperty(n,"Name",{enumerable:!0,get:()=>o.Name});var s=e("./scope");Object.defineProperty(n,"Scope",{enumerable:!0,get:()=>s.Scope}),Object.defineProperty(n,"ValueScope",{enumerable:!0,get:()=>s.ValueScope}),Object.defineProperty(n,"ValueScopeName",{enumerable:!0,get:()=>s.ValueScopeName}),Object.defineProperty(n,"varKinds",{enumerable:!0,get:()=>s.varKinds}),n.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){return`${e?i.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=j(this.rhs,e,t),this}get names(){return E(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class f extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=j(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const i=n[r];i.optimizeNames(e,t)||(M(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>P(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(T(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=j(this.condition,e,t),this}get names(){const e=super.names;return E(e,this.condition),this.else&&P(e,this.else.names),e}}b.kind="if";class w extends g{}w.kind="for";class $ extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=j(this.iteration,e,t),this}get names(){return P(super.names,this.iteration.names)}}class x extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:n,from:r,to:o}=this;return`for(${t} ${n}=${r}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=E(super.names,this.from);return E(e,this.to)}}class k extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=j(this.iterable,e,t),this}get names(){return P(super.names,this.iterable.names)}}class S extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}S.kind="func";class C extends m{render(e){return"return "+super.render(e)}}C.kind="return";class O extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&P(e,this.catch.names),this.finally&&P(e,this.finally.names),e}}class _ extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}_.kind="catch";class A extends g{render(e){return"finally"+super.render(e)}}function P(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function E(e,t){return t instanceof r._CodeOrName?P(e,t.names):e}function j(e,t,n){return e instanceof r.Name?o(e):(i=e)instanceof r._Code&&i._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=o(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var i;function o(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function M(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function T(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${R(e)}`}A.kind="finally",n.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new l(e,i,n)),i}const(e,t,n){return this._def(i.varKinds.const,e,t,n)}let(e,t,n){return this._def(i.varKinds.let,e,t,n)}var(e,t,n){return this._def(i.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,t){return this._leafNode(new u(e,n.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,i]of e)t.length>1&&t.push(","),t.push(n),(n!==i||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,i));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new $(e),t)}forRange(e,t,n,r,o=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const s=this._scope.toName(e);return this._for(new x(o,s,t,n),(()=>r(s)))}forOf(e,t,n,o=i.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new k("of",o,s,t),(()=>n(s)))}forIn(e,t,n,o=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new k("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new h(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new C;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new O;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new _(e),t(e)}return n&&(this._currNode=r.finally=new A,this.code(n)),this._endBlockNode(_,A)}throw(e){return this._leafNode(new f(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,i){return this._blockNode(new S(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},n.not=T;const N=D(n.operators.AND);n.and=function(...e){return e.reduce(N)};const I=D(n.operators.OR);function D(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${R(t)} ${e} ${R(n)}`}function R(e){return e instanceof r.Name?e:r._`(${e})`}n.or=function(...e){return e.reduce(I)}},{"./code":1,"./scope":3}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueScope=n.ValueScopeName=n.Scope=n.varKinds=n.UsedValueState=void 0;const r=e("./code");class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=n.UsedValueState||(n.UsedValueState={})),n.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}n.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}n.ValueScopeName=a;const l=r._`\n`;n.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:i}=r,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[i];if(s){const e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,r);const a=this._scope[i]||(this._scope[i]=[]),l=a.length;return a[l]=t.ref,r.setValue(t,{property:i,itemIndex:l}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,t,s={},a){let l=r.nil;for(const c in e){const u=e[c];if(!u)continue;const h=s[c]=s[c]||new Map;u.forEach((e=>{if(h.has(e))return;h.set(e,o.Started);let s=t(e);if(s)l=r._`${l}${this.opts.es5?n.varKinds.var:n.varKinds.const} ${e} = ${s};${this.opts._n}`;else{if(!(s=null==a?void 0:a(e)))throw new i(e);l=r._`${l}${s}${this.opts._n}`}h.set(e,o.Completed)}))}return l}}},{"./code":1}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendErrors=n.resetErrorsCount=n.reportExtraError=n.reportError=n.keyword$DataError=n.keywordError=void 0;const r=e("./codegen"),i=e("./util"),o=e("./names");function s(e,t){const n=e.const("err",t);e.if(r._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,r._`[${n}]`)),r._`${o.default.vErrors}.push(${n})`),e.code(r._`${o.default.errors}++`)}function a(e,t){const{gen:n,validateName:i,schemaEnv:o}=e;o.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${i}.errors`,t),n.return(!1))}n.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},n.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},n.reportError=function(e,t=n.keywordError,i,o){const{it:l}=e,{gen:u,compositeRule:h,allErrors:d}=l,f=c(e,t,i);(null!=o?o:h||d)?s(u,f):a(l,r._`[${f}]`)},n.reportExtraError=function(e,t=n.keywordError,r){const{it:i}=e,{gen:l,compositeRule:u,allErrors:h}=i;s(l,c(e,t,r)),u||h||a(i,o.default.vErrors)},n.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(r._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},n.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:i,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(l,r._`${o.default.vErrors}[${s}]`),e.if(r._`${l}.instancePath === undefined`,(()=>e.assign(r._`${l}.instancePath`,(0,r.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(r._`${l}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${l}.schema`,n),e.assign(r._`${l}.data`,i))}))};const l={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function c(e,t,n){const{createErrors:i}=e.it;return!1===i?r._`{}`:function(e,t,n={}){const{gen:i,it:s}=e,a=[u(s,n),h(e,n)];return function(e,{params:t,message:n},i){const{keyword:s,data:a,schemaValue:c,it:u}=e,{opts:h,propertyName:d,topSchemaRef:f,schemaPath:p}=u;i.push([l.keyword,s],[l.params,"function"==typeof t?t(e):t||r._`{}`]),h.messages&&i.push([l.message,"function"==typeof n?n(e):n]),h.verbose&&i.push([l.schema,c],[l.parentSchema,r._`${f}${p}`],[o.default.data,a]),d&&i.push([l.propertyName,d])}(e,t,a),i.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,n)]}function h({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:o}){let s=o?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,i.getErrorPath)(n,i.Type.Str)}`),[l.schemaPath,s]}},{"./codegen":2,"./names":6,"./util":10}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveSchema=n.getCompilingSchema=n.resolveRef=n.compileSchema=n.SchemaEnv=void 0;const r=e("./codegen"),i=e("../runtime/validation_error"),o=e("./names"),s=e("./resolve"),a=e("./util"),l=e("./validate");class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,h=new r.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let f;e.$async&&(f=h.scopeValue("Error",{ref:i.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=h.scopeName("validate");e.validateName=p;const m={gen:h,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),h.optimize(this.opts.code.optimize);const t=h.toString();g=`${h.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function h(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function d(e){for(const r of this._compilations)if((t=r).schema===(n=e).schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function f(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let i=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return g.call(this,n,e);const o=(0,s.normalizeId)(r),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=p.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(i=(0,s.resolveUrl)(this.opts.uriResolver,i,r)),new c({schema:t,schemaId:n,root:e,baseId:i})}return g.call(this,n,a)}}n.SchemaEnv=c,n.compileSchema=u,n.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=f.call(this,e,n);if(void 0===o){const i=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;i&&(o=new c({schema:i,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[n]=h.call(this,o):void 0},n.getCompilingSchema=d,n.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:r}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(r)];if(void 0===e)return;const i="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(r)&&i&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,i))}let o;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=p.call(this,r,e)}const{schemaId:l}=this.opts;return o=o||new c({schema:n,schemaId:l,root:r,baseId:t}),o.schema!==o.root.schema?o:void 0}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./codegen"),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};n.default=i},{"./codegen":2}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./resolve");class i extends Error{constructor(e,t,n,i){super(i||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}n.default=i},{"./resolve":8}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSchemaRefs=n.resolveUrl=n.normalizeId=n._getFullPath=n.getFullPath=n.inlineRef=void 0;const r=e("./util"),i=e("fast-deep-equal"),o=e("json-schema-traverse"),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);n.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=c(e))),1/0===t))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=f(t));const r=e.parse(t);return h(e,r)}function h(e,t){return e.serialize(t).split("#")[0]+"#"}n.getFullPath=u,n._getFullPath=h;const d=/#\/?$/;function f(e){return e?e.replace(d,""):""}n.normalizeId=f,n.resolveUrl=function(e,t,n){return n=f(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;n.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=f(e[n]||t),a={"":s},l=u(r,s,!1),c={},h=new Set;return o(e,{allKeys:!0},((e,t,r,i)=>{if(void 0===i)return;const o=l+t;let s=a[i];function u(t){if(t=f(s?(0,this.opts.uriResolver.resolve)(s,t):t),h.has(t))throw m(t);h.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?d(e,n.schema,t):t!==f(o)&&("#"===t[0]?(d(e,c[t],t),c[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),c;function d(e,t,n){if(void 0!==t&&!i(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRules=n.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);n.isJSONType=function(e){return"string"==typeof e&&r.has(e)},n.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkStrictMode=n.getErrorPath=n.Type=n.useFunc=n.setEvaluated=n.evaluatedPropsToName=n.mergeEvaluated=n.eachItem=n.unescapeJsonPointer=n.escapeJsonPointer=n.escapeFragment=n.unescapeFragment=n.schemaRefOrVal=n.schemaHasRulesButRef=n.schemaHasRules=n.checkUnknownRules=n.alwaysValidSchema=n.toHash=void 0;const r=e("./codegen"),i=e("./codegen/code");function o(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const i=r.RULES.keywords;for(const n in t)i[n]||p(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:i}){return(o,s,a,l)=>{const c=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(o,s,a):t(o,s,a),a):s instanceof r.Name?(t(o,a,s),s):n(s,a);return l!==r.Name||c instanceof r.Name?c:i(o,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&h(e,n,t),n}function h(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}n.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},n.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},n.checkUnknownRules=o,n.schemaHasRules=s,n.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},n.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,i,o){if(!o){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(i)}`},n.unescapeFragment=function(e){return l(decodeURIComponent(e))},n.escapeFragment=function(e){return encodeURIComponent(a(e))},n.escapeJsonPointer=a,n.unescapeJsonPointer=l,n.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},n.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),h(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},n.evaluatedPropsToName=u,n.setEvaluated=h;const d={};var f;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}n.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(f=n.Type||(n.Type={})),n.getErrorPath=function(e,t,n){if(e instanceof r.Name){const i=t===f.Num;return n?i?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:i?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},n.checkStrictMode=p},{"./codegen":2,"./codegen/code":1}],11:[function(e,t,n){function r(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(n,"__esModule",{value:!0}),n.shouldUseRule=n.shouldUseGroup=n.schemaHasRulesForType=void 0,n.schemaHasRulesForType=function({schema:e,self:t},n){const i=t.RULES.types[n];return i&&!0!==i&&r(e,i)},n.shouldUseGroup=r,n.shouldUseRule=i},{}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.boolOrEmptySchema=n.topBoolOrEmptySchema=void 0;const r=e("../errors"),i=e("../codegen"),o=e("../names"),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:i}=e;(0,r.reportError)({gen:n,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},s,void 0,t)}n.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(i._`${r}.errors`,null),t.return(!0))},n.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reportTypeError=n.checkDataTypes=n.checkDataType=n.coerceAndCheckDataType=n.getJSONTypes=n.getSchemaTypes=n.DataType=void 0;const r=e("../rules"),i=e("./applicability"),o=e("../errors"),s=e("../codegen"),a=e("../util");var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=n.DataType||(n.DataType={})),n.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},n.getJSONTypes=c,n.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:o}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(c){const i=d(t,r,o.strictNumbers,l.Wrong);n.if(i,(()=>{a.length?function(e,t,n){const{gen:r,data:i,opts:o}=e,a=r.let("dataType",s._`typeof ${i}`),l=r.let("coerced",s._`undefined`);"array"===o.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>r.assign(i,s._`${i}[0]`).assign(a,s._`typeof ${i}`).if(d(t,i,o.strictNumbers),(()=>r.assign(l,i))))),r.if(s._`${l} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===o.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${i}`).elseIf(s._`${i} === null`).assign(l,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(l,s._`+${i}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,s._`+${i}`);case"boolean":return void r.elseIf(s._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf(s._`${i} === "true" || ${i} === 1`).assign(l,!0);case"null":return r.elseIf(s._`${i} === "" || ${i} === 0 || ${i} === false`),void r.assign(l,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(l,s._`[${i}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${l} !== undefined`,(()=>{r.assign(i,l),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,l)}))}(e,t,a):p(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function h(e,t,n,r=l.Correct){const i=r===l.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${i} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${i} ${e}`}return r===l.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return h(e[0],t,n,r);let i;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;i=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=s.nil;o.number&&delete o.integer;for(const e in o)i=(0,s.and)(i,h(e,t,n,r));return i}n.checkDataType=h,n.checkDataTypes=d;const f={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,i=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);(0,o.reportError)(t,f)}n.reportTypeError=p},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assignDefaults=void 0;const r=e("../codegen"),i=e("../util");function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,i.checkStrictMode)(e,`default is ignored for: ${c}`);let u=r._`${c} === undefined`;"empty"===l.useDefaults&&(u=r._`${u} || ${c} === null || ${c} === ""`),o.if(u,r._`${c} = ${(0,r.stringify)(n)}`)}n.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const t in n)o(e,t,n[t].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>o(e,n,t.default)))}},{"../codegen":2,"../util":10}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getData=n.KeywordCxt=n.validateFunctionCode=void 0;const r=e("./boolSchema"),i=e("./dataType"),o=e("./applicability"),s=e("./dataType"),a=e("./defaults"),l=e("./keyword"),c=e("./subschema"),u=e("../codegen"),h=e("../names"),d=e("../resolve"),f=e("../util"),p=e("../errors");function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},o){i.code.es5?e.func(t,u._`${h.default.data}, ${h.default.valCxt}`,r.$async,(()=>{e.code(u._`"use strict"; ${g(n,i)}`),function(e,t){e.if(h.default.valCxt,(()=>{e.var(h.default.instancePath,u._`${h.default.valCxt}.${h.default.instancePath}`),e.var(h.default.parentData,u._`${h.default.valCxt}.${h.default.parentData}`),e.var(h.default.parentDataProperty,u._`${h.default.valCxt}.${h.default.parentDataProperty}`),e.var(h.default.rootData,u._`${h.default.valCxt}.${h.default.rootData}`),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{e.var(h.default.instancePath,u._`""`),e.var(h.default.parentData,u._`undefined`),e.var(h.default.parentDataProperty,u._`undefined`),e.var(h.default.rootData,h.default.data),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`{}`)}))}(e,i),e.code(o)})):e.func(t,u._`${h.default.data}, ${function(e){return u._`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?u._`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}(i)}`,r.$async,(()=>e.code(g(n,i)).code(o)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function v(e,t){b(e)&&(w(e),y(e))?function(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&x(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=r.const("_errs",h.default.errors);$(e,o),r.var(t,u._`${o} === ${h.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,f.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function $(e,t){if(e.opts.jtd)return k(e,[],!1,t);const n=(0,i.getSchemaTypes)(e.schema);k(e,n,!(0,i.coerceAndCheckDataType)(e,n),t)}function x({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(!0===i.$comment)e.code(u._`${h.default.self}.logger.log(${o})`);else if("function"==typeof i.$comment){const n=u.str`${r}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(u._`${h.default.self}.opts.$comment(${o}, ${n}, ${i}.schema)`)}}function k(e,t,n,r){const{gen:i,schema:a,data:l,allErrors:c,opts:d,self:p}=e,{RULES:m}=p;function g(f){(0,o.shouldUseGroup)(a,f)&&(f.type?(i.if((0,s.checkDataType)(f.type,l,d.strictNumbers)),S(e,f),1===t.length&&t[0]===f.type&&n&&(i.else(),(0,s.reportTypeError)(e)),i.endIf()):S(e,f),c||i.if(u._`${h.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{O(e.dataTypes,t)||_(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>O(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&_(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if("object"==typeof i&&(0,o.shouldUseRule)(e.schema,i)){const{type:n}=i.definition;n.length&&!n.some((e=>C(t,e)))&&_(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes))}(e,t),i.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):i.block((()=>P(e,"$ref",m.all.$ref.definition)))}function S(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,o.shouldUseRule)(r,n)&&P(e,n.keyword,n.definition,t.type)}))}function C(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function O(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function _(e,t){(0,f.checkStrictMode)(e,t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,e.opts.strictTypes)}n.validateFunctionCode=function(e){b(e)&&(w(e),y(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&x(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,f.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(h.default.vErrors,null),r.let(h.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),$(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if(u._`${h.default.errors} === 0`,(()=>t.return(h.default.data)),(()=>t.throw(u._`new ${i}(${h.default.vErrors})`))):(t.assign(u._`${r}.errors`,h.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),r instanceof u.Name&&e.assign(u._`${t}.items`,r)}(e),t.return(u._`${h.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class A{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",M(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",h.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:i,def:o}=this;n.if((0,u.or)(u._`${r} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:i}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,i.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return v(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=f.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=f.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function P(e,t,n,r){const i=new A(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,l.funcKeywordCode)(i,n):"macro"in n?(0,l.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(i,n)}n.KeywordCxt=A;const E=/^\/(?:[^~]|~0|~1)*$/,j=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function M(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,o;if(""===e)return h.default.rootData;if("/"===e[0]){if(!E.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=h.default.rootData}else{const s=j.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(i=s[2],"#"===i){if(a>=t)throw new Error(l("property/index",a));return r[t-a]}if(a>t)throw new Error(l("data",a));if(o=n[t-a],!i)return o}let s=o;const a=i.split("/");for(const e of a)e&&(o=u._`${o}${(0,u.getProperty)((0,f.unescapeJsonPointer)(e))}`,s=u._`${s} && ${o}`);return s;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}n.getData=M},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateKeywordUsage=n.validSchemaType=n.funcKeywordCode=n.macroKeywordCode=void 0;const r=e("../codegen"),i=e("../names"),o=e("../../vocabularies/code"),s=e("../errors");function a(e){const{gen:t,data:n,it:i}=e;t.if(i.parentData,(()=>t.assign(n,r._`${i.parentData}[${i.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}n.macroKeywordCode=function(e,t){const{gen:n,keyword:i,schema:o,parentSchema:s,it:a}=e,c=t.macro.call(a.self,o,s,a),u=l(n,i,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const h=n.name("valid");e.subschema({schema:c,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},h),e.pass(h,(()=>e.error(!0)))},n.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:h,parentSchema:d,$data:f,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!f&&t.compile?t.compile.call(p.self,h,d,p):t.validate,g=l(c,u,m),v=c.let("valid");function y(n=(t.async?r._`await `:r.nil)){c.assign(v,r._`${n}${(0,o.callValidateCode)(e,g,p.opts.passContext?i.default.this:i.default.self,!("compile"in t&&!f||!1===t.schema))}`,t.modifying)}function b(e){var n;c.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(r._`await `)),(t=>c.assign(v,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>c.assign(e,r._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=r._`${g}.errors`;return c.assign(e,null),y(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(i.default.vErrors,r._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,r._`${i.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},n.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},n.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendSubschemaMode=n.extendSubschemaData=n.getSubschema=void 0;const r=e("../codegen"),i=e("../util");n.getSubschema=function(e,{keyword:t,schemaProp:n,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===n?{schema:o,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(n)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},n.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:o,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:l}=t;u(c.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,i.getErrorPath)(n,o,l.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==s&&(u(s instanceof r.Name?s:c.let("data",s,!0)),void 0!==l&&(e.propertyName=l)),a&&(e.dataTypes=a)},n.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){void 0!==r&&(e.compositeRule=r),void 0!==i&&(e.createErrors=i),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}},{"../codegen":2,"../util":10}],18:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var r=e("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:()=>r.KeywordCxt});var i=e("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:()=>i._}),Object.defineProperty(n,"str",{enumerable:!0,get:()=>i.str}),Object.defineProperty(n,"stringify",{enumerable:!0,get:()=>i.stringify}),Object.defineProperty(n,"nil",{enumerable:!0,get:()=>i.nil}),Object.defineProperty(n,"Name",{enumerable:!0,get:()=>i.Name}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:()=>i.CodeGen});const o=e("./runtime/validation_error"),s=e("./compile/ref_error"),a=e("./compile/rules"),l=e("./compile"),c=e("./compile/codegen"),u=e("./compile/resolve"),h=e("./compile/validate/dataType"),d=e("./compile/util"),f=e("./refs/data.json"),p=e("./runtime/uri"),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,i,o,s,a,l,c,u,h,d,f,g,v,y,b,w,$,x,k,S,C,O,_;const A=e.strict,P=null===(t=e.code)||void 0===t?void 0:t.optimize,E=!0===P||void 0===P?1:P||0,j=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,M=null!==(i=e.uriResolver)&&void 0!==i?i:p.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:A)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:A)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:A)&&void 0!==u?u:"log",strictTuples:null!==(d=null!==(h=e.strictTuples)&&void 0!==h?h:A)&&void 0!==d?d:"log",strictRequired:null!==(g=null!==(f=e.strictRequired)&&void 0!==f?f:A)&&void 0!==g&&g,code:e.code?{...e.code,optimize:E,regExp:j}:{optimize:E,regExp:j},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===($=e.inlineRefs)||void 0===$||$,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(k=e.addUsedSchema)||void 0===k||k,validateSchema:null===(S=e.validateSchema)||void 0===S||S,validateFormats:null===(C=e.validateFormats)||void 0===C||C,unicodeRegExp:null===(O=e.unicodeRegExp)||void 0===O||O,int32range:null===(_=e.int32range)||void 0===_||_,uriResolver:M}}class ${constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return A;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),x.call(this,y,e,"NOT SUPPORTED"),x.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=_.call(this),e.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&O.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=f;"id"===n&&(r={...f},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await i.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function i(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await i.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let i;if("object"==typeof e){const{schemaId:t}=this.opts;if(i=e[t],void 0!==i&&"string"!=typeof i)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,u.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(E.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>j.call(this,e))),this;T.call(this,t);const r={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>j.call(this,e,r):e=>r.type.forEach((t=>j.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,o=i[e];r&&o&&(i[e]=I(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,i=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(o||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function x(e,t,n,r="error"){for(const i in e){const o=i;o in t&&this.logger[r](`${n}: option ${i}. ${e[o]}`)}}function k(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function C(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function O(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function _(){const e={...this.opts};for(const t of g)delete e[t];return e}n.default=$,$.ValidationError=o.default,$.MissingRefError=s.default;const A={log(){},warn(){},error(){}},P=/^[a-z_$][a-z0-9_$:-]*$/i;function E(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!P.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function j(e,t,n){var r;const i=null==t?void 0:t.post;if(n&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=i?o.post:o.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?M.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function M(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function T(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=I(t)),e.validateSchema=this.compile(t,!0))}const N={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function I(e){return{anyOf:[e,N]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(e,t,n){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(e,t,n){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("fast-deep-equal");r.code='require("ajv/dist/runtime/equal").default',n.default=r},{"fast-deep-equal":63}],22:[function(e,t,n){function r(e){const t=e.length;let n,r=0,i=0;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),56320==(64512&n)&&i++);return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("uri-js");r.code='require("ajv/dist/runtime/uri").default',n.default=r},{"uri-js":65}],24:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}n.default=r},{}],25:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateAdditionalItems=void 0;const r=e("../../compile/codegen"),i=e("../../compile/util"),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,i.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:o,data:s,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",r._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(r._`${c} <= ${t.length}`);else if("object"==typeof o&&!(0,i.alwaysValidSchema)(l,o)){const o=n.var("valid",r._`${c} <= ${t.length}`);n.if((0,r.not)(o),(()=>function(o){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:i.Type.Num},o),l.allErrors||n.if((0,r.not)(o),(()=>n.break()))}))}(o))),e.ok(o)}}n.validateAdditionalItems=s,n.default=o},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),i=e("../../compile/codegen"),o=e("../../compile/names"),s=e("../../compile/util");n.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=u;if(u.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const f=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(i._`delete ${l}[${e}]`)}function g(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(h||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===d.removeAdditional?(v(r,n,!1),t.if((0,i.not)(n),(()=>{e.reset(),m(r)}))):(v(r,n),h||t.if((0,i.not)(n),(()=>t.break())))}}}function v(t,n,r){const i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}t.forIn("key",l,(n=>{f.length||p.length?t.if(function(n){let o;if(f.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");o=(0,r.isOwnProperty)(t,e,n)}else o=f.length?(0,i.or)(...f.map((e=>i._`${n} === ${e}`))):i.nil;return p.length&&(o=(0,i.or)(o,...p.map((t=>i._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,i.not)(o)}(n),(()=>g(n))):g(n)})),e.ok(i._`${c} === ${o.default.errors}`)}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/util");n.default={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(i,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}}},{"../../compile/util":10}],28:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code");n.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}}},{"../code":42}],29:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util");n.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:o,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:h}=o;a.opts.next?(l=void 0===u?1:u,c=h):l=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,i.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,i.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${l}`;return void 0!==c&&(t=r._`${t} && ${d} <= ${c}`),void e.pass(t)}a.items=!0;const f=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===c?t.if(r._`${e} >= ${l}`,(()=>t.assign(f,!0).break())):(t.if(r._`${e} > ${c}`,(()=>t.assign(f,!1).break())),1===l?t.assign(f,!0):t.if(r._`${e} >= ${l}`,(()=>t.assign(f,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},n),r()}))}void 0===c&&1===l?m(f,(()=>t.if(f,(()=>t.break())))):0===l?(t.let(f,!0),void 0!==c&&t.if(r._`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,(()=>e.reset()))}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSchemaDeps=n.validatePropertyDeps=n.error=void 0;const r=e("../../compile/codegen"),i=e("../../compile/util"),o=e("../code");n.error={message:({params:{property:e,depsCount:t,deps:n}})=>r.str`must have ${1===t?"property":"properties"} ${n} when property ${e} is present`,params:({params:{property:e,depsCount:t,deps:n,missingProperty:i}})=>r._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:n.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:n)[r]=e[r]);return[t,n]}(e);a(e,t),l(e,n)}};function a(e,t=e.schema){const{gen:n,data:i,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,o.propertyInData)(n,i,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,o.checkReportMissingProp)(e,t)})):(n.if(r._`${u} && (${(0,o.checkMissingProp)(e,c,a)})`),(0,o.reportMissingProp)(e,a),n.else())}}function l(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)(0,i.alwaysValidSchema)(a,t[c])||(n.if((0,o.propertyInData)(n,r,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}n.validatePropertyDeps=a,n.validateSchemaDeps=l,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util");function o(e,t){const n=e.schema[t];return void 0!==n&&!(0,i.alwaysValidSchema)(e,n)}n.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:s}=e;void 0===n.then&&void 0===n.else&&(0,i.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const a=o(s,"then"),l=o(s,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,h("then",n),h("else",n))}else a?t.if(u,h("then")):t.if((0,r.not)(u),h("else"));function h(n,i){return()=>{const o=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(o,c),i?t.assign(i,r._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./additionalItems"),i=e("./prefixItems"),o=e("./items"),s=e("./items2020"),a=e("./contains"),l=e("./dependencies"),c=e("./propertyNames"),u=e("./additionalProperties"),h=e("./properties"),d=e("./patternProperties"),f=e("./not"),p=e("./anyOf"),m=e("./oneOf"),g=e("./allOf"),v=e("./if"),y=e("./thenElse");n.default=function(e=!1){const t=[f.default,p.default,m.default,g.default,v.default,y.default,c.default,u.default,l.default,h.default,d.default];return e?t.push(i.default,s.default):t.push(r.default,o.default),t.push(a.default),t}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTuple=void 0;const r=e("../../compile/codegen"),i=e("../../compile/util"),o=e("../code"),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,i.alwaysValidSchema)(n,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:o,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:r,errSchemaPath:o}=c,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);r.strictTuples&&!a&&(0,i.checkStrictMode)(c,`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`,r.strictTuples)}(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=i.mergeEvaluated.items(o,n.length,c.items));const u=o.name("valid"),h=o.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,i.alwaysValidSchema)(c,t)||(o.if(r._`${h} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}n.validateTuple=a,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util"),o=e("../code"),s=e("./additionalItems");n.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,i.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/util");n.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if((0,r.alwaysValidSchema)(i,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util");n.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,o)=>{let a;(0,i.alwaysValidSchema)(s,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if(r._`${u} && ${l}`).assign(l,!1).assign(c,r._`[${c}, ${o}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,o),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),i=e("../../compile/codegen"),o=e("../../compile/util"),s=e("../../compile/util");n.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,h=(0,r.allSchemaProperties)(n),d=h.filter((e=>(0,o.alwaysValidSchema)(c,n[e])));if(0===h.length||d.length===h.length&&(!c.opts.unevaluated||!0===c.props))return;const f=u.strictSchema&&!u.allowMatchingProperties&&l.properties,p=t.name("valid");!0===c.props||c.props instanceof i.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in f)new RegExp(e).test(t)&&(0,o.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",a,(o=>{t.if(i._`${(0,r.usePattern)(e,n)}.test(${o})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:s.Type.Str},p),c.opts.unevaluated&&!0!==m?t.assign(i._`${m}[${o}]`,!0):r||c.allErrors||t.if((0,i.not)(p),(()=>t.break()))}))}))}!function(){for(const e of h)f&&g(e),c.allErrors?v(e):(t.var(p,!0),v(e),t.if(p))}()}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./items");n.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")}},{"./items":33}],39:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/validate"),i=e("../code"),o=e("../../compile/util"),s=e("./additionalProperties");n.default={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,i.allSchemaProperties)(n);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(u),c.props));const h=u.filter((e=>!(0,o.alwaysValidSchema)(c,n[e])));if(0===h.length)return;const d=t.name("valid");for(const n of h)f(n)?p(n):(t.if((0,i.propertyInData)(t,l,n,c.opts.ownProperties)),p(n),c.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(d);function f(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util");n.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:o,it:s}=e;if((0,i.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/util");n.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}}},{"../../compile/util":10}],42:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateUnion=n.validateArray=n.usePattern=n.callValidateCode=n.schemaProperties=n.allSchemaProperties=n.noPropertyInData=n.propertyInData=n.isOwnProperty=n.hasPropFunc=n.reportMissingProp=n.checkMissingProp=n.checkReportMissingProp=void 0;const r=e("../compile/codegen"),i=e("../compile/util"),o=e("../compile/names"),s=e("../compile/util");function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,i){const o=r._`${t}${(0,r.getProperty)(n)} === undefined`;return i?(0,r.or)(o,(0,r.not)(l(e,t,n))):o}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}n.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:o}=e;n.if(c(n,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},n.checkMissingProp=function({gen:e,data:t,it:{opts:n}},i,o){return(0,r.or)(...i.map((i=>(0,r.and)(c(e,t,i,n.ownProperties),r._`${o} = ${i}`))))},n.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},n.hasPropFunc=a,n.isOwnProperty=l,n.propertyInData=function(e,t,n,i){const o=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return i?r._`${o} && ${l(e,t,n)}`:o},n.noPropertyInData=c,n.allSchemaProperties=u,n.schemaProperties=function(e,t){return u(t).filter((n=>!(0,i.alwaysValidSchema)(e,t[n])))},n.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:i,schemaPath:s,errorPath:a},it:l},c,u,h){const d=h?r._`${e}, ${t}, ${i}${s}`:t,f=[[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,a)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&f.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...f)}`;return u!==r.nil?r._`${c}.call(${u}, ${p})`:r._`${c}(${p})`};const h=r._`new RegExp`;n.usePattern=function({gen:e,it:{opts:t}},n){const i=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(n,i);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===o.code?h:(0,s.useFunc)(e,o)}(${n}, ${i})`})},n.validateArray=function(e){const{gen:t,data:n,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",r._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:o,dataProp:n,dataPropType:i.Type.Num},a),t.if((0,r.not)(a),s)}))}},n.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,i.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,i)=>{const s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},l);t.assign(a,r._`${a} || ${l}`),e.mergeValidEvaluated(s,l)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./id"),i=e("./ref");n.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default]},{"./id":43,"./ref":45}],45:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.callRef=n.getValidate=void 0;const r=e("../../compile/ref_error"),i=e("../code"),o=e("../../compile/codegen"),s=e("../../compile/names"),a=e("../../compile"),l=e("../../compile/util"),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:i}=e,{baseId:s,schemaEnv:l,validateName:c,opts:d,self:f}=i,{root:p}=l;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(l===p)return h(e,c,l,l.$async);const n=t.scopeValue("root",{ref:p});return h(e,o._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(f,p,s,n);if(void 0===m)throw new r.default(i.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);h(e,n,t,t.$async)}(m):function(r){const i=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,o.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function h(e,t,n,r){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:h,opts:d}=c,f=d.passContext?s.default.this:o.nil;function p(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const r=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(r&&!r.dynamicProps)void 0!==r.props&&(c.props=l.mergeEvaluated.props(a,r.props,c.props));else{const t=a.var("props",o._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,o.Name)}if(!0!==c.items)if(r&&!r.dynamicItems)void 0!==r.items&&(c.items=l.mergeEvaluated.items(a,r.items,c.items));else{const t=a.var("items",o._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,o.Name)}}r?function(){if(!h.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${(0,i.callValidateCode)(e,t,f)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),p(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,i.callValidateCode)(e,t,f),(()=>m(t)),(()=>p(t)))}n.getValidate=u,n.callRef=h,n.default=c},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../discriminator/types"),o=e("../../compile"),s=e("../../compile/util");n.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=a.propertyName;if("string"!=typeof h)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),f=t.const("tag",r._`${n}${(0,r.getProperty)(h)}`);function p(n){const i=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:n},i);return e.mergeEvaluated(o,r.Name),i}t.if(r._`typeof ${f} == "string"`,(()=>function(){const n=function(){var e;const t={},n=i(l);let r=!0;for(let t=0;t<u.length;t++){let l=u[t];(null==l?void 0:l.$ref)&&!(0,s.schemaHasRulesButRef)(l,c.self.RULES)&&(l=o.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==l?void 0:l.$ref),l instanceof o.SchemaEnv&&(l=l.schema));const d=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[h];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);r=r&&(n||i(l)),a(d,t)}if(!r)throw new Error(`discriminator: "${h}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(h)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${h}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${f} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:f,tagName:h}),t.endIf()}()),(()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:f,tagName:h}))),e.ok(d)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n.DiscrError||(n.DiscrError={}))},{}],48:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./core"),i=e("./validation"),o=e("./applicator"),s=e("./format"),a=e("./metadata"),l=[r.default,i.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];n.default=l},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:i,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:h,self:d}=l;c.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:d.formats,code:c.code.formats}),s=n.const("fDef",r._`${o}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,r._`${s}.type || "string"`).assign(u,r._`${s}.validate`)),(()=>n.assign(l,r._`"string"`).assign(u,s))),e.fail$data((0,r.or)(!1===c.strictSchema?r.nil:r._`${a} && !${u}`,function(){const e=h.$async?r._`(${s}.async ? await ${u}(${i}) : ${u}(${i}))`:r._`${u}(${i})`,n=r._`(typeof ${u} == "function" ? ${e} : ${u}.test(${i}))`;return r._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const o=d.formats[s];if(!o)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}d.logger.warn(e())}();if(!0===o)return;const[a,l,f]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):c.code.formats?r._`${c.code.formats}${(0,r.getProperty)(s)}`:void 0,i=n.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,i]:[e.type||"string",e.validate,r._`${i}.validate`]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!h.$async)throw new Error("async format in sync schema");return r._`await ${f}(${i})`}return"function"==typeof l?r._`${f}(${i})`:r._`${f}.test(${i})`}())}())}}},{"../../compile/codegen":2}],50:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./format");n.default=[r.default]},{"./format":49}],51:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.contentVocabulary=n.metadataVocabulary=void 0,n.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],n.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util"),o=e("../../runtime/equal");n.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(r._`!${(0,i.useFunc)(t,o.default)}(${n}, ${a})`):e.fail(r._`${l} !== ${n}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util"),o=e("../../runtime/equal");n.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");let u;const h=()=>null!=u?u:u=(0,i.useFunc)(t,o.default);let d;if(a.length>=c.opts.loopEnum||s)d=t.let("valid"),e.block$data(d,(function(){t.assign(d,!1),t.forOf("v",l,(e=>t.if(r._`${h()}(${n}, ${e})`,(()=>t.assign(d,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);d=(0,r.or)(...a.map(((t,i)=>function(e,t){const i=a[t];return"object"==typeof i&&null!==i?r._`${h()}(${n}, ${e}[${t}])`:r._`${n} === ${i}`}(e,i))))}e.pass(d)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./limitNumber"),i=e("./multipleOf"),o=e("./limitLength"),s=e("./pattern"),a=e("./limitProperties"),l=e("./required"),c=e("./limitItems"),u=e("./uniqueItems"),h=e("./const"),d=e("./enum");n.default=[r.default,i.default,o.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,d.default]},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>r.str`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`${n}.length ${"maxItems"===t?r.operators.GT:r.operators.LT} ${i}`)}}},{"../../compile/codegen":2}],56:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=e("../../compile/util"),o=e("../../runtime/ucs2length");n.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>r.str`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,l="maxLength"===t?r.operators.GT:r.operators.LT,c=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,i.useFunc)(e.gen,o.default)}(${n})`;e.fail$data(r._`${c} ${l} ${s}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),i=r.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`${n} ${o[t].fail} ${i} || isNaN(${n})`)}};n.default=a},{"../../compile/codegen":2}],58:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>r.str`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`Object.keys(${n}).length ${"maxProperties"===t?r.operators.GT:r.operators.LT} ${i}`)}}},{"../../compile/codegen":2}],59:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${i} === 0 || (${a} = ${n}/${i}, ${l}))`)}}},{"../../compile/codegen":2}],60:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),i=e("../../compile/codegen");n.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:o,schemaCode:s,it:a}=e,l=n?i._`(new RegExp(${s}, ${a.opts.unicodeRegExp?"u":""}))`:(0,r.usePattern)(e,o);e.fail$data(i._`!${l}.test(${t})`)}}},{"../../compile/codegen":2,"../code":42}],61:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),i=e("../../compile/codegen"),o=e("../../compile/util");n.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>i.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const h=n.length>=u.loopRequired;if(c.allErrors?function(){if(h||l)e.block$data(i.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(h||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,(0,r.propertyInData)(t,a,n,u.ownProperties)),t.if((0,i.not)(o),(()=>{e.error(),t.break()}))}),i.nil)}(o,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,o)),(0,r.reportMissingProp)(e,o),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)void 0!==(null==t?void 0:t[e])||r.has(e)||(0,o.checkStrictMode)(c,`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`,c.opts.strictRequired)}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/validate/dataType"),i=e("../../compile/codegen"),o=e("../../compile/util"),s=e("../../runtime/equal");n.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>i.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:h}=e;if(!a&&!l)return;const d=t.let("valid"),f=c.items?(0,r.getSchemaTypes)(c.items):[];function p(o,s){const a=t.name("item"),l=(0,r.checkDataTypes)(f,a,h.opts.strictNumbers,r.DataType.Wrong),c=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(a,i._`${n}[${o}]`),t.if(l,i._`continue`),f.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,i._`${c}[${a}]`),e.error(),t.assign(d,!1).break()})).code(i._`${c}[${a}] = ${o}`)}))}function m(r,a){const l=(0,o.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(i._`;${r}--;`,(()=>t.for(i._`${a} = ${r}; ${a}--;`,(()=>t.if(i._`${l}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(c)}))))))}e.block$data(d,(function(){const r=t.let("i",i._`${n}.length`),o=t.let("j");e.setParams({i:r,j:o}),t.assign(d,!0),t.if(i._`${r} > 1`,(()=>(f.length>0&&!f.some((e=>"object"===e||"array"===e))?p:m)(r,o)))}),i._`${u} === false`),e.ok(d)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(e,t,n){t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},{}],64:[function(e,t,n){var r=t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),i(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function i(e,t,n,o,s,a,l,c,u,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in t(o,s,a,l,c,u,h),o){var f=o[d];if(Array.isArray(f)){if(d in r.arrayKeywords)for(var p=0;p<f.length;p++)i(e,t,n,f[p],s+"/"+d+"/"+p,a,s,d,o,p)}else if(d in r.propsKeywords){if(f&&"object"==typeof f)for(var m in f)i(e,t,n,f[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,o,m)}else(d in r.keywords||e.allKeys&&!(d in r.skipKeywords))&&i(e,t,n,f,s+"/"+d,a,s,d,o)}n(o,s,a,l,c,u,h)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(e,t,n){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e,r){r("object"==typeof n&&void 0!==t?n:e.URI=e.URI||{})}(this,(function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+t(r,i,"[\\+\\-\\.]")+"*"),n(n(s+"|"+t(u,a,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?"+i),d=n(h+"\\."+h+"\\."+h+"\\."+h),f=n(o+"{1,4}"),p=n(n(f+"\\:"+f)+"|"+d),m=n(n(f+"\\:")+"{6}"+p),g=n("\\:\\:"+n(f+"\\:")+"{5}"+p),v=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+p),y=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+p),b=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+p),w=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+p),$=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+p),x=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),k=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),S=n([m,g,v,y,b,w,$,x,k].join("|")),C=n(n(u+"|"+s)+"+");n("[vV]"+o+"+\\."+t(u,a,"[\\:]")+"+"),n(n(s+"|"+t(u,a))+"*");var O=n(s+"|"+t(u,a,"[\\:\\@]"));return n(n(s+"|"+t(u,a,"[\\@]"))+"+"),n(n(O+"|"+t("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+C+")")+"?\\]?$")}}var s=o(!1),a=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,u=36,h=/^xn--/,d=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(p[e])}function y(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(f,".")).split("."),t).join(".");return r+i}function b(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},$=function(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=u)e=m(e/35);return m(r+36*e/(e+38))},x=function(e){var t,n=[],r=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var l=0;l<a;++l)e.charCodeAt(l)>=128&&v("not-basic"),n.push(e.charCodeAt(l));for(var h=a>0?a+1:0;h<r;){for(var d=i,f=1,p=u;;p+=u){h>=r&&v("invalid-input");var g=(t=e.charCodeAt(h++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u;(g>=u||g>m((c-i)/f))&&v("overflow"),i+=g*f;var y=p<=s?1:p>=s+26?26:p-s;if(g<y)break;var b=u-y;f>m(c/b)&&v("overflow"),f*=b}var w=n.length+1;s=$(i-d,w,0==d),m(i/w)>c-o&&v("overflow"),o+=m(i/w),i%=w,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},k=function(e){var t=[],n=(e=b(e)).length,r=128,i=0,o=72,s=!0,a=!1,l=void 0;try{for(var h,d=e[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;f<128&&t.push(g(f))}}catch(e){a=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(a)throw l}}var p=t.length,y=p;for(p&&t.push("-");y<n;){var x=c,k=!0,S=!1,C=void 0;try{for(var O,_=e[Symbol.iterator]();!(k=(O=_.next()).done);k=!0){var A=O.value;A>=r&&A<x&&(x=A)}}catch(e){S=!0,C=e}finally{try{!k&&_.return&&_.return()}finally{if(S)throw C}}var P=y+1;x-r>m((c-i)/P)&&v("overflow"),i+=(x-r)*P,r=x;var E=!0,j=!1,M=void 0;try{for(var T,N=e[Symbol.iterator]();!(E=(T=N.next()).done);E=!0){var I=T.value;if(I<r&&++i>c&&v("overflow"),I==r){for(var D=i,R=u;;R+=u){var L=R<=o?1:R>=o+26?26:R-o;if(D<L)break;var B=D-L,F=u-L;t.push(g(w(L+B%F,0))),D=m(B/F)}t.push(g(w(D,0))),o=$(i,P,y==p),i=0,++y}}}catch(e){j=!0,M=e}finally{try{!E&&N.return&&N.return()}finally{if(j)throw M}}++i,++r}return t.join("")},S=function(e){return y(e,(function(e){return d.test(e)?"xn--"+k(e):e}))},C=function(e){return y(e,(function(e){return h.test(e)?x(e.slice(4).toLowerCase()):e}))},O={};function _(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function P(e,t){function n(e){var n=A(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,_).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,_).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,_).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,_).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,_).replace(t.PCT_ENCODED,i)),e}function E(e){return e.replace(/^0*(.*)/,"$1")||"0"}function j(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(E).join("."):e}function M(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=l(s,2),c=a[0],u=a[1],h=u?u.split(":").map(E):[],d=c.split(":").map(E),f=t.IPV4ADDRESS.test(d[d.length-1]),p=f?7:8,m=d.length-p,g=Array(p),v=0;v<p;++v)g[v]=h[v]||d[m+v]||"";f&&(g[p-1]=j(g[p-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),$=g.slice(y.index+y.length);b=w.join(":")+"::"+$.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var T=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,N=void 0==="".match(/(){0}/)[1];function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(T);if(i){N?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=M(j(n.host,r),r)),n.reference=void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?"relative":void 0===n.fragment?"absolute":"uri":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=O[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)P(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=S(n.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}P(n,s)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function D(e,t){var n=!1!==t.iri?a:s,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(M(j(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var R=/^\.\.?\//,L=/^\/\.(\/|$)/,B=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function V(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(L))e=e.replace(L,"/");else if(e.match(B))e=e.replace(B,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(F);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,r=[],i=O[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?C(e.host):S(e.host.replace(n.PCT_ENCODED,A).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}P(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=D(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=V(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=I(z(e,n),n),t=I(z(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=V(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=V(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=V(t.path):(r.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,r.path=V(r.path)),r.query=t.query):(r.path=e.path,r.query=void 0!==t.query?t.query:e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function H(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,A)}var W={scheme:"http",domainHost:!0,parse:(e,t)=>(e.host||(e.error=e.error||"HTTP URIs must have a host."),e),serialize(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function J(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var K={scheme:"ws",domainHost:!0,parse(e,t){var n=e;return n.secure=J(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize(e,t){if(e.port!==(J(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=l(n,2),i=r[0],o=r[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},Q={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",X="[0-9A-Fa-f]",Z=n(n("%[EFef][0-9A-Fa-f]%"+X+X+"%"+X+X)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+X+X)+"|"+n("%"+X+X)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(Y,"g"),ne=new RegExp(Z,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),ie=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ie;function se(e){var t=A(e);return t.match(te)?t:e}var ae={scheme:"mailto",parse(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),h=0,d=u.length;h<d;++h)r.push(u[h]);break;case"subject":n.subject=H(c[1],t);break;case"body":n.body=H(c[1],t);break;default:i=!0,o[H(c[0],t)]=H(c[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var f=0,p=r.length;f<p;++f){var m=r[f].split("@");if(m[0]=H(m[0]),t.unicodeSupport)m[1]=H(m[1],t).toLowerCase();else try{m[1]=S(H(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[f]=m.join("@")}return n},serialize(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var s=0,a=o.length;s<a;++s){var l=String(o[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(ne,se).replace(ne,i).replace(re,_),h=l.slice(c+1);try{h=t.iri?C(h):S(H(h,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=u+"@"+h}r.path=o.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var p in d)d[p]!==Q[p]&&f.push(p.replace(ne,se).replace(ne,i).replace(ie,_)+"="+d[p].replace(ne,se).replace(ne,i).replace(oe,_));return f.length&&(r.query=f.join("&")),r}},le=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse(e,t){var n=e.path&&e.path.match(le),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=O[i+":"+(t.nid||o)];r.nid=o,r.nss=s,r.path=void 0,a&&(r=a.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize(e,t){var n=e.nid,r=O[(t.scheme||e.scheme||"urn")+":"+(t.nid||n)];r&&(e=r.serialize(e,t));var i=e;return i.path=(n||t.nid)+":"+e.nss,i}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,he={scheme:"urn:uuid",parse(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ue)||(n.error=n.error||"UUID is not valid."),n},serialize(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};O[W.scheme]=W,O[U.scheme]=U,O[K.scheme]=K,O[G.scheme]=G,O[ae.scheme]=ae,O[ce.scheme]=ce,O[he.scheme]=he,e.SCHEMES=O,e.pctEncChar=_,e.pctDecChars=A,e.parse=I,e.removeDotSegments=V,e.serialize=z,e.resolveComponents=q,e.resolve=function(e,t,n){var r=function(e,t){var n={scheme:"null"};if(t)for(var r in t)n[r]=t[r];return n}(0,n);return z(q(I(e,r),I(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=z(I(e,t),t):"object"===r(e)&&(e=I(z(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=z(I(e,n),n):"object"===r(e)&&(e=z(e,n)),"string"==typeof t?t=z(I(t,n),n):"object"===r(t)&&(t=z(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,_)},e.unescapeComponent=H,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],ajv:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MissingRefError=n.ValidationError=n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;const r=e("./core"),i=e("./vocabularies/draft7"),o=e("./vocabularies/discriminator"),s=e("./refs/json-schema-draft-07.json"),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.exports=n=c,Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var u=e("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:()=>u.KeywordCxt});var h=e("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:()=>h._}),Object.defineProperty(n,"str",{enumerable:!0,get:()=>h.str}),Object.defineProperty(n,"stringify",{enumerable:!0,get:()=>h.stringify}),Object.defineProperty(n,"nil",{enumerable:!0,get:()=>h.nil}),Object.defineProperty(n,"Name",{enumerable:!0,get:()=>h.Name}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:()=>h.CodeGen});var d=e("./runtime/validation_error");Object.defineProperty(n,"ValidationError",{enumerable:!0,get:()=>d.default});var f=e("./compile/ref_error");Object.defineProperty(n,"MissingRefError",{enumerable:!0,get:()=>f.default})},{"./compile/codegen":2,"./compile/ref_error":7,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./runtime/validation_error":24,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv")})),Kt((function(e,t){!function(e){function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!1===r(e[o],i[o]))return!1;return!0}if(!0===n(e)){var s={};for(var a in e)if(hasOwnProperty.call(e,a)){if(!1===r(e[a],i[a]))return!1;s[a]=!0}for(var l in i)if(hasOwnProperty.call(i,l)&&!0!==s[l])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}var o;o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var s=0,a=2,l={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},c="EOF",u="UnquotedIdentifier",h="QuotedIdentifier",d="Rbracket",f="Rparen",p="Comma",m="Colon",g="Rbrace",v="Number",y="Current",b="Expref",w="Pipe",$="Or",x="And",k="EQ",S="GT",C="LT",O="GTE",_="LTE",A="NE",P="Flatten",E="Star",j="Filter",M="Dot",T="Not",N="Lbrace",I="Lbracket",D="Lparen",R="Literal",L={".":M,"*":E,",":p,":":m,"{":N,"}":g,"]":d,"(":D,")":f,"@":y},B={"<":!0,">":!0,"=":!0,"!":!0},F={" ":!0,"\t":!0,"\n":!0};function V(e){return e>="0"&&e<="9"||"-"===e}function z(){}z.prototype={tokenize:function(e){var t,n,r,i,o=[];for(this._current=0;this._current<e.length;)if((i=e[this._current])>="a"&&i<="z"||i>="A"&&i<="Z"||"_"===i)t=this._current,n=this._consumeUnquotedIdentifier(e),o.push({type:u,value:n,start:t});else if(void 0!==L[e[this._current]])o.push({type:L[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(V(e[this._current]))r=this._consumeNumber(e),o.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),o.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),o.push({type:h,value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),o.push({type:R,value:n,start:t});else if("`"===e[this._current]){t=this._current;var s=this._consumeLiteral(e);o.push({type:R,value:s,start:t})}else if(void 0!==B[e[this._current]])o.push(this._consumeOperator(e));else if(void 0!==F[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,o.push({type:x,value:"&&",start:t})):o.push({type:b,value:"&",start:t});else{if("|"!==e[this._current]){var a=new Error("Unknown character:"+e[this._current]);throw a.name="LexerError",a}t=this._current,this._current++,"|"===e[this._current]?(this._current++,o.push({type:$,value:"||",start:t})):o.push({type:w,value:"|",start:t})}return o},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;V(e[this._current])&&this._current<n;)this._current++;var r=parseInt(e.slice(t,this._current));return{type:v,value:r,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:j,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:P,value:"[]",start:t}):{type:I,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:A,value:"!=",start:t}):{type:T,value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:_,value:"<=",start:t}):{type:C,value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:O,value:">=",start:t}):{type:S,value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:k,value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,r=e.length;"`"!==e[this._current]&&this._current<r;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var s=o(e.slice(n,this._current));return s=s.replace("\\`","`"),t=this._looksLikeJSON(s)?JSON.parse(s):JSON.parse('"'+s+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var q={};function H(){}function W(e){this.runtime=e}function U(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}q[c]=0,q[u]=0,q[h]=0,q[d]=0,q[f]=0,q[p]=0,q[g]=0,q[v]=0,q[y]=0,q[b]=0,q[w]=1,q[$]=2,q[x]=3,q[k]=5,q[S]=5,q[C]=5,q[O]=5,q[_]=5,q[A]=5,q[P]=9,q[E]=20,q[j]=21,q[M]=40,q[T]=45,q[N]=50,q[I]=55,q[D]=60,H.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if(this._lookahead(0)!==c){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=(new z).tokenize(e);t.push({type:c,value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),r=this._lookahead(0);e<q[r];)this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case R:return{type:"Literal",value:e.value};case u:return{type:"Field",name:e.value};case h:var r={type:"Field",name:e.value};if(this._lookahead(0)===D)throw new Error("Quoted identifier not allowed for function names.");return r;case T:return{type:"NotExpression",children:[t=this.expression(q.Not)]};case E:return t=null,{type:"ValueProjection",children:[{type:"Identity"},t=this._lookahead(0)===d?{type:"Identity"}:this._parseProjectionRHS(q.Star)]};case j:return this.led(e.type,{type:"Identity"});case N:return this._parseMultiselectHash();case P:return{type:"Projection",children:[{type:P,children:[{type:"Identity"}]},t=this._parseProjectionRHS(q.Flatten)]};case I:return this._lookahead(0)===v||this._lookahead(0)===m?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):this._lookahead(0)===E&&this._lookahead(1)===d?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(q.Star)]}):this._parseMultiselectList();case y:return{type:y};case b:return{type:"ExpressionReference",children:[n=this.expression(q.Expref)]};case D:for(var i=[];this._lookahead(0)!==f;)this._lookahead(0)===y?(n={type:y},this._advance()):n=this.expression(0),i.push(n);return this._match(f),i[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case M:var r=q.Dot;return this._lookahead(0)!==E?{type:"Subexpression",children:[t,n=this._parseDotRHS(r)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(r)]});case w:return n=this.expression(q.Pipe),{type:w,children:[t,n]};case $:return{type:"OrExpression",children:[t,n=this.expression(q.Or)]};case x:return{type:"AndExpression",children:[t,n=this.expression(q.And)]};case D:for(var i,o=t.name,s=[];this._lookahead(0)!==f;)this._lookahead(0)===y?(i={type:y},this._advance()):i=this.expression(0),this._lookahead(0)===p&&this._match(p),s.push(i);return this._match(f),{type:"Function",name:o,children:s};case j:var a=this.expression(0);return this._match(d),{type:"FilterProjection",children:[t,n=this._lookahead(0)===P?{type:"Identity"}:this._parseProjectionRHS(q.Filter),a]};case P:return{type:"Projection",children:[{type:P,children:[t]},this._parseProjectionRHS(q.Flatten)]};case k:case A:case S:case O:case C:case _:return this._parseComparator(t,e);case I:var l=this._lookaheadToken(0);return l.type===v||l.type===m?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match(E),this._match(d),{type:"Projection",children:[t,n=this._parseProjectionRHS(q.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===m||this._lookahead(1)===m)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(d),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(q.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);n!==d&&t<3;){if(n===m)t++,this._advance();else{if(n!==v){var r=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match(d),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(q[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return[u,h,E].indexOf(t)>=0?this.expression(e):t===I?(this._match(I),this._parseMultiselectList()):t===N?(this._match(N),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(q[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===I)t=this.expression(e);else if(this._lookahead(0)===j)t=this.expression(e);else{if(this._lookahead(0)!==M){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match(M),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];this._lookahead(0)!==d;){var t=this.expression(0);if(e.push(t),this._lookahead(0)===p&&(this._match(p),this._lookahead(0)===d))throw new Error("Unexpected token Rbracket")}return this._match(d),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r=[],i=[u,h];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(m),n={type:"KeyValuePair",name:t,value:this.expression(0)},r.push(n),this._lookahead(0)===p)this._match(p);else if(this._lookahead(0)===g){this._match(g);break}}return{type:"MultiSelectHash",children:r}}},W.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var s,a,l,c,u,h,d,f,p;switch(e.type){case"Field":return null!==o&&n(o)?void 0===(h=o[e.name])?null:h:null;case"Subexpression":for(l=this.visit(e.children[0],o),p=1;p<e.children.length;p++)if(null===(l=this.visit(e.children[1],l)))return null;return l;case"IndexExpression":return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case"Index":if(!t(o))return null;var m=e.value;return m<0&&(m=o.length+m),void 0===(l=o[m])&&(l=null),l;case"Slice":if(!t(o))return null;var g=e.children.slice(0),v=this.computeSliceParams(o.length,g),$=v[0],x=v[1],E=v[2];if(l=[],E>0)for(p=$;p<x;p+=E)l.push(o[p]);else for(p=$;p>x;p+=E)l.push(o[p]);return l;case"Projection":var j=this.visit(e.children[0],o);if(!t(j))return null;for(f=[],p=0;p<j.length;p++)null!==(a=this.visit(e.children[1],j[p]))&&f.push(a);return f;case"ValueProjection":if(!n(j=this.visit(e.children[0],o)))return null;f=[];var M=function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}(j);for(p=0;p<M.length;p++)null!==(a=this.visit(e.children[1],M[p]))&&f.push(a);return f;case"FilterProjection":if(!t(j=this.visit(e.children[0],o)))return null;var T=[],N=[];for(p=0;p<j.length;p++)i(s=this.visit(e.children[2],j[p]))||T.push(j[p]);for(var I=0;I<T.length;I++)null!==(a=this.visit(e.children[1],T[I]))&&N.push(a);return N;case"Comparator":switch(c=this.visit(e.children[0],o),u=this.visit(e.children[1],o),e.name){case k:l=r(c,u);break;case A:l=!r(c,u);break;case S:l=c>u;break;case O:l=c>=u;break;case C:l=c<u;break;case _:l=c<=u;break;default:throw new Error("Unknown comparator: "+e.name)}return l;case P:var D=this.visit(e.children[0],o);if(!t(D))return null;var R=[];for(p=0;p<D.length;p++)t(a=D[p])?R.push.apply(R,a):R.push(a);return R;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(f=[],p=0;p<e.children.length;p++)f.push(this.visit(e.children[p],o));return f;case"MultiSelectHash":if(null===o)return null;var L;for(f={},p=0;p<e.children.length;p++)f[(L=e.children[p]).name]=this.visit(L.value,o);return f;case"OrExpression":return i(s=this.visit(e.children[0],o))&&(s=this.visit(e.children[1],o)),s;case"AndExpression":return!0===i(c=this.visit(e.children[0],o))?c:this.visit(e.children[1],o);case"NotExpression":return i(c=this.visit(e.children[0],o));case"Literal":return e.value;case w:return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case y:return o;case"Function":var B=[];for(p=0;p<e.children.length;p++)B.push(this.visit(e.children[p],o));return this.runtime.callFunction(e.name,B);case"ExpressionReference":var F=e.children[0];return F.jmespathType=b,F;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var s=new Error("Invalid slice, step cannot be 0");throw s.name="RuntimeError",s}var a=i<0;return n=null===n?a?e-1:0:this.capSliceRange(e,n,i),r=null===r?a?-1:e:this.capSliceRange(e,r,i),o[0]=n,o[1]=r,o[2]=i,o},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},U.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r,i,o,s;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var a=0;a<n.length;a++){s=!1,i=n[a].types,o=this._getTypeName(t[a]);for(var c=0;c<i.length;c++)if(this._typeMatches(o,i[c],t[a])){s=!0;break}if(!s){var u=i.map((function(e){return l[e]})).join(",");throw new Error("TypeError: "+e+"() expected argument "+(a+1)+" to be type "+u+" but received type "+l[o]+" instead.")}}},_typeMatches:function(e,t,n){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var r;8===t?r=s:9===t&&(r=a);for(var i=0;i<n.length;i++)if(!this._typeMatches(this._getTypeName(n[i]),r,n[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return a;case"[object Number]":return s;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return e.jmespathType===b?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===a){for(var t=e[0],n="",r=t.length-1;r>=0;r--)n+=t[r];return n}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],i=e[1],o=0;o<i.length;o++)t.push(n.visit(r,i[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)t[i]=r[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===s)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)n.localeCompare(t[r])<0&&(n=t[r]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===s)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)t[r].localeCompare(n)<0&&(n=t[r]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case s:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===a?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===s?e[0]:n!==a||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],i=this._getTypeName(n.visit(r,t[0]));if([s,a].indexOf(i)<0)throw new Error("TypeError");for(var o=this,l=[],c=0;c<t.length;c++)l.push([c,t[c]]);l.sort((function(e,t){var s=n.visit(r,e[1]),a=n.visit(r,t[1]);if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));return s>a?1:s<a?-1:e[0]-t[0]}));for(var u=0;u<l.length;u++)t[u]=l[u][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[s,a]),l=-1/0,c=0;c<i.length;c++)(n=o(i[c]))>l&&(l=n,t=i[c]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[s,a]),l=1/0,c=0;c<i.length;c++)(n=o(i[c]))<l&&(l=n,t=i[c]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter;return function(i){var o=r.visit(e,i);if(t.indexOf(n._getTypeName(o))<0){var s="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(s)}return o}}},e.tokenize=function(e){return(new z).tokenize(e)},e.compile=function(e){return(new H).parse(e)},e.search=function(e,t){var n=new H,r=new U,i=new W(r);r._interpreter=i;var o=n.parse(t);return i.search(o,e)},e.strictDeepEqual=r}(t)}));var rj=Kt((function(e){!function(t){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,u=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,l=e.e,c=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=l==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>c^n?1:-1;for(a=(l=i.length)<(c=o.length)?l:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return l==c?0:l>c^n?1:-1}function v(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return p(e.e/c)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,$,x,k,S,C,O,_,A,P,E=H.prototype={constructor:H,toString:null,valueOf:null},j=new H(1),M=20,T=4,N=-7,I=21,D=-1e7,R=1e7,L=!1,B=1,F=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",q=!0;function H(e,t){var n,i,s,l,h,d,f,p,m=this;if(!(m instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>R?m.c=m.e=null:e.e<D?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,h=e;h>=10;h/=10,l++);return void(l>R?m.c=m.e=null:(m.e=l,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return x(m,p,d);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(l=p.indexOf("."))>-1&&(p=p.replace(".","")),(h=p.search(/e/i))>0?(l<0&&(l=h),l+=+p.slice(h+1),p=p.substring(0,h)):l<0&&(l=p.length)}else{if(v(t,2,z.length,"Base"),10==t&&q)return K(m=new H(e),M+m.e+1,T);if(p=String(e),d="number"==typeof e){if(0*e!=0)return x(m,p,d,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=z.slice(0,t),l=h=0,f=p.length;h<f;h++)if(n.indexOf(i=p.charAt(h))<0){if("."==i){if(h>l){l=f;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,h=-1,l=0;continue}return x(m,String(e),d,t)}d=!1,(l=(p=$(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):l=p.length}for(h=0;48===p.charCodeAt(h);h++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(h,++f)){if(f-=h,d&&H.DEBUG&&f>15&&(e>u||e!==o(e)))throw Error(a+m.s*e);if((l=l-h-1)>R)m.c=m.e=null;else if(l<D)m.c=[m.e=0];else{if(m.e=l,m.c=[],h=(l+1)%c,l<0&&(h+=c),h<f){for(h&&m.c.push(+p.slice(0,h)),f-=c;h<f;)m.c.push(+p.slice(h,h+=c));h=c-(p=p.slice(h)).length}else h-=f;for(;h--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function W(e,t,n,r){var i,o,s,a,l;if(null==n?n=T:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)l=m(e.c),l=1==r||2==r&&(s<=N||s>=I)?b(l,s):w(l,s,"0");else if(o=(e=K(new H(e),t,n)).e,a=(l=m(e.c)).length,1==r||2==r&&(t<=o||o<=N)){for(;a<t;l+="0",a++);l=b(l,o)}else if(t-=s,l=w(l,o,"0"),o+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-a)>0)for(o+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function U(e,t){for(var n,r=1,i=new H(e[0]);r<e.length;r++){if(!(n=new H(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function J(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*c-1)>R?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function K(e,t,n,r){var s,a,u,d,f,p,m,g=e.c,v=h;if(g){e:{for(s=1,d=g[0];d>=10;d/=10,s++);if((a=t-s)<0)a+=c,u=t,m=(f=g[p=0])/v[s-u-1]%10|0;else if((p=i((a+1)/c))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));f=m=0,s=1,u=(a%=c)-c+1}else{for(f=d=g[p],s=1;d>=10;d/=10,s++);m=(u=(a%=c)-c+s)<0?0:f/v[s-u-1]%10|0}if(r=r||t<0||null!=g[p+1]||(u<0?f:f%v[s-u-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?u>0?f/v[s-u]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=v[(c-t%c)%c],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,d=1,p--):(g.length=p+1,d=v[c-a],g[p]=u>0?o(f/v[s-u]%v[u])*d:0),r)for(;;){if(0==p){for(a=1,u=g[0];u>=10;u/=10,a++);for(u=g[0]+=d,d=1;u>=10;u/=10,d++);a!=d&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[p]+=d,g[p]!=l)break;g[p--]=0,d=1}for(a=g.length;0===g[--a];g.pop());}e.e>R?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function G(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=N||n>=I?b(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,f,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),T=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-f,0,t),v(n[1],0,f,t),N=n[0],I=n[1]):(v(n,-f,f,t),N=-(I=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-f,-1,t),v(n[1],1,f,t),D=n[0],R=n[1];else{if(v(n,-f,f,t),!n)throw Error(s+t+" cannot be zero: "+n);D=-(R=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!n,Error(s+"crypto unavailable");L=n}else L=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,f,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);V=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);q="0123456789"==n.slice(0,10),z=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:T,EXPONENTIAL_AT:[N,I],RANGE:[D,R],CRYPTO:L,MODULO_MODE:B,POW_PRECISION:F,FORMAT:V,ALPHABET:z}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-f&&i<=f&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=l||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return U(arguments,E.lt)},H.minimum=H.min=function(){return U(arguments,E.gt)},H.random=(k=9007199254740992,S=Math.random()*k&2097151?function(){return o(Math.random()*k)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,l,u=0,d=[],p=new H(j);if(null==e?e=M:v(e,0,f),a=i(e/c),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(l=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(d.push(l%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw L=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);u<a;)(l=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(d.push(l%1e14),u+=7);u=a/7}if(!L)for(;u<a;)(l=S())<9e15&&(d[u++]=l%1e14);for(a=d[--u],e%=c,a&&e&&(l=h[c-e],d[u]=o(a/l)*l);0===d[u];d.pop(),u--);if(u<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=c);for(u=1,l=d[0];l>=10;l/=10,u++);u<c&&(r-=c-u)}return p.e=r,p.c=d,p}),H.sum=function(){for(var e=1,t=arguments,n=new H(t[0]);e<t.length;)n=n.plus(t[e++]);return n},$=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,l=e.length;a<l;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var l,c,u,h,d,f,p,g,v=r.indexOf("."),y=M,b=T;for(v>=0&&(h=F,F=0,r=r.replace(".",""),f=(g=new H(i)).pow(r.length-v),F=h,g.c=t(w(m(f.c),f.e,"0"),10,o,e),g.e=g.c.length),u=h=(p=t(r,i,o,a?(l=z,e):(l=e,z))).length;0==p[--h];p.pop());if(!p[0])return l.charAt(0);if(v<0?--u:(f.c=p,f.e=u,f.s=s,p=(f=n(f,g,y,b,o)).c,d=f.r,u=f.e),v=p[c=u+y+1],h=o/2,d=d||c<0||null!=p[c+1],d=b<4?(null!=v||d)&&(0==b||b==(f.s<0?3:2)):v>h||v==h&&(4==b||d||6==b&&1&p[c-1]||b==(f.s<0?8:7)),c<1||!p[0])r=d?w(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(p.length=c,d)for(--o;++p[--c]>o;)p[c]=0,c||(++u,p=[1].concat(p));for(h=p.length;!p[--h];);for(v=0,r="";v<=h;r+=l.charAt(p[v++]));r=w(r,u,l.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,l=e.length,c=t%d,u=t/d|0;for(e=e.slice();l--;)a=((i=c*(o=e[l]%d)+(r=u*o+(s=e[l]/d|0)*c)%d*d+a)/n|0)+(r/d|0)+u*s,e[l]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,u){var h,d,f,m,g,v,y,b,w,$,x,k,S,C,O,_,A,P=r.s==i.s?1:-1,E=r.c,j=i.c;if(!(E&&E[0]&&j&&j[0]))return new H(r.s&&i.s&&(E?!j||E[0]!=j[0]:j)?E&&0==E[0]||!j?0*P:P/0:NaN);for(w=(b=new H(P)).c=[],P=s+(d=r.e-i.e)+1,u||(u=l,d=p(r.e/c)-p(i.e/c),P=P/c|0),f=0;j[f]==(E[f]||0);f++);if(j[f]>(E[f]||0)&&d--,P<0)w.push(1),m=!0;else{for(C=E.length,_=j.length,f=0,P+=2,(g=o(u/(j[0]+1)))>1&&(j=e(j,g,u),E=e(E,g,u),_=j.length,C=E.length),S=_,x=($=E.slice(0,_)).length;x<_;$[x++]=0);A=j.slice(),A=[0].concat(A),O=j[0],j[1]>=u/2&&O++;do{if(g=0,(h=t(j,$,_,x))<0){if(k=$[0],_!=x&&(k=k*u+($[1]||0)),(g=o(k/O))>1)for(g>=u&&(g=u-1),y=(v=e(j,g,u)).length,x=$.length;1==t(v,$,y,x);)g--,n(v,_<y?A:j,y,u),y=v.length,h=1;else 0==g&&(h=g=1),y=(v=j.slice()).length;if(y<x&&(v=[0].concat(v)),n($,v,x,u),x=$.length,-1==h)for(;t(j,$,_,x)<1;)g++,n($,_<x?A:j,x,u),x=$.length}else 0===h&&(g++,$=[0]);w[f++]=g,$[0]?$[x++]=E[S]||0:($=[E[S]],x=1)}while((S++<C||null!=$[0])&&P--);m=null!=$[0],w[0]||w.splice(0,1)}if(u==l){for(f=1,P=w[0];P>=10;P/=10,f++);K(b,s+(b.e=f+d*c-1)+1,a,m)}else b.e=d,b.r=+m;return b}}(),C=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,_=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,n,r){var i,o=n?t:t.replace(P,"");if(A.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(C,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(O,"$1").replace(_,"0.$1")),t!=o))return new H(o,i);if(H.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},E.absoluteValue=E.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return g(this,new H(e,t))},E.decimalPlaces=E.dp=function(e,t){var n,r,i,o=this;if(null!=e)return v(e,0,f),null==t?t=T:v(t,0,8),K(new H(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-p(this.e/c))*c,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},E.dividedBy=E.div=function(e,t){return n(this,new H(e,t),M,T)},E.dividedToIntegerBy=E.idiv=function(e,t){return n(this,new H(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var n,r,a,l,u,h,d,f,p=this;if((e=new H(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+G(e));if(null!=t&&(t=new H(t)),u=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new H(Math.pow(+G(p),u?e.s*(2-y(e)):+G(e))),t?f.mod(t):f;if(h=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(r=!h&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return l=p.s<0&&y(e)?-0:0,p.e>-1&&(l=1/l),new H(h?1/l:l);F&&(l=i(F/c+2))}for(u?(n=new H(.5),h&&(e.s=1),d=y(e)):d=(a=Math.abs(+G(e)))%2,f=new H(j);;){if(d){if(!(f=f.times(p)).c)break;l?f.c.length>l&&(f.c.length=l):r&&(f=f.mod(t))}if(a){if(0===(a=o(a/2)))break;d=a%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)d=y(e);else{if(0===(a=+G(e)))break;d=a%2}p=p.times(p),l?p.c&&p.c.length>l&&(p.c.length=l):r&&(p=p.mod(t))}return r?f:(h&&(f=j.div(f)),t?f.mod(t):l?K(f,F,T,undefined):f)},E.integerValue=function(e){var t=new H(this);return null==e?e=T:v(e,0,8),K(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return 0===g(this,new H(e,t))},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return g(this,new H(e,t))>0},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},E.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return g(this,new H(e,t))<0},E.isLessThanOrEqualTo=E.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return this.s>0},E.isZero=function(){return!!this.c&&0==this.c[0]},E.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,s.plus(e);var u=s.e/c,h=e.e/c,d=s.c,f=e.c;if(!u||!h){if(!d||!f)return d?(e.s=-t,e):new H(f?s:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new H(d[0]?s:3==T?-0:0)}if(u=p(u),h=p(h),d=d.slice(),a=u-h){for((o=a<0)?(a=-a,i=d):(h=u,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=d.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(d[t]!=f[t]){o=d[t]<f[t];break}if(o&&(i=d,d=f,f=i,e.s=-e.s),(t=(r=f.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=l-1;r>a;){if(d[--r]<f[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=l}d[r]-=f[r]}for(;0==d[0];d.splice(0,1),--h);return d[0]?J(e,d,h):(e.s=3==T?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var r,i,o=this;return e=new H(e,t),!o.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||o.c&&!o.c[0]?new H(o):(9==B?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,B),(e=o.minus(r.times(e))).c[0]||1!=B||(e.s=o.s),e)},E.multipliedBy=E.times=function(e,t){var n,r,i,o,s,a,u,h,f,m,g,v,y,b,w,$=this,x=$.c,k=(e=new H(e,t)).c;if(!(x&&k&&x[0]&&k[0]))return!$.s||!e.s||x&&!x[0]&&!k||k&&!k[0]&&!x?e.c=e.e=e.s=null:(e.s*=$.s,x&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p($.e/c)+p(e.e/c),e.s*=$.s,(u=x.length)<(m=k.length)&&(y=x,x=k,k=y,i=u,u=m,m=i),i=u+m,y=[];i--;y.push(0));for(b=l,w=d,i=m;--i>=0;){for(n=0,g=k[i]%w,v=k[i]/w|0,o=i+(s=u);o>i;)n=((h=g*(h=x[--s]%w)+(a=v*h+(f=x[s]/w|0)*g)%w*w+y[o]+n)/b|0)+(a/w|0)+v*f,y[o--]=h%b;y[o]=n}return n?++r:y.splice(0,1),J(e,y,r)},E.negated=function(){var e=new H(this);return e.s=-e.s||null,e},E.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/c,s=e.e/c,a=r.c,u=e.c;if(!o||!s){if(!a||!u)return new H(i/0);if(!a[0]||!u[0])return u[0]?e:new H(a[0]?r:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/l|0,a[t]=l===a[t]?0:a[t]%l;return i&&(a=[i].concat(a),++s),J(e,a,s)},E.precision=E.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return v(e,1,f),null==t?t=T:v(t,0,8),K(new H(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*c+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},E.shiftedBy=function(e){return v(e,-9007199254740991,u),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,l=s.s,c=s.e,u=M+4,h=new H("0.5");if(1!==l||!a||!a[0])return new H(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(l=Math.sqrt(+G(s)))||l==1/0?(((t=m(a)).length+c)%2==0&&(t+="0"),l=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),r=new H(t=l==1/0?"5e"+c:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new H(l+""),r.c[0])for((l=(c=r.e)+u)<3&&(l=0);;)if(o=r,r=h.times(o.plus(n(s,o,u,1))),m(o.c).slice(0,l)===(t=m(r.c)).slice(0,l)){if(r.e<c&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(r,r.e+M+2,1),e=!r.times(r).eq(s));break}if(!i&&(K(o,o.e+M+2,0),o.times(o).eq(s))){r=o;break}u+=4,l+=4,i=1}return K(r,r.e+M+1,T,e)},E.toExponential=function(e,t){return null!=e&&(v(e,0,f),e++),W(this,e,t,1)},E.toFixed=function(e,t){return null!=e&&(v(e,0,f),e=e+this.e+1),W(this,e,t)},E.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=V;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,a=r.split("."),l=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",h=a[0],d=a[1],f=i.s<0,p=f?h.slice(1):h,m=p.length;if(c&&(o=l,l=c,c=o,m-=o),l>0&&m>0){for(o=m%l||l,h=p.substr(0,o);o<m;o+=l)h+=u+p.substr(o,l);c>0&&(h+=u+p.slice(o)),f&&(h="-"+h)}r=d?h+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):h}return(n.prefix||"")+r+(n.suffix||"")},E.toFraction=function(e){var t,r,i,o,a,l,u,d,f,p,g,v,y=this,b=y.c;if(null!=e&&(!(u=new H(e)).isInteger()&&(u.c||1!==u.s)||u.lt(j)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+G(u));if(!b)return new H(y);for(t=new H(j),f=r=new H(j),i=d=new H(j),v=m(b),a=t.e=v.length-y.e-1,t.c[0]=h[(l=a%c)<0?c+l:l],e=!e||u.comparedTo(t)>0?a>0?t:f:u,l=R,R=1/0,u=new H(v),d.c[0]=0;p=n(u,t,0,1),1!=(o=r.plus(p.times(i))).comparedTo(e);)r=i,i=o,f=d.plus(p.times(o=f)),d=o,t=u.minus(p.times(o=t)),u=o;return o=n(e.minus(r),i,0,1),d=d.plus(o.times(f)),r=r.plus(o.times(i)),d.s=f.s=y.s,g=n(f,i,a*=2,T).minus(y).abs().comparedTo(n(d,r,a,T).minus(y).abs())<1?[f,i]:[d,r],R=l,g},E.toNumber=function(){return+G(this)},E.toPrecision=function(e,t){return null!=e&&v(e,1,f),W(this,e,t,2)},E.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=N||i>=I?b(m(n.c),i):w(m(n.c),i,"0"):10===e&&q?t=w(m((n=K(new H(n),M+i+1,T)).c),n.e,"0"):(v(e,2,z.length,"Base"),t=$(w(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return G(this)},E._isBigNumber=!0,null!=t&&H.set(t),H}(),n.default=n.BigNumber=n,e.exports?e.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(Jt)})),ij=Kt((function(e){var t=e.exports;!function(){var e,n,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=o[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function a(t,i){var o,l,c,u,h,d=e,f=i[t],p=null!=f&&(f instanceof rj||rj.isBigNumber(f));switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(t)),"function"==typeof r&&(f=r.call(i,t,f)),typeof f){case"string":return p?f:s(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":case"bigint":return String(f);case"object":if(!f)return"null";if(e+=n,h=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,o=0;o<u;o+=1)h[o]=a(o,f)||"null";return c=0===h.length?"[]":e?"[\n"+e+h.join(",\n"+e)+"\n"+d+"]":"["+h.join(",")+"]",e=d,c}if(r&&"object"==typeof r)for(u=r.length,o=0;o<u;o+=1)"string"==typeof r[o]&&(c=a(l=r[o],f))&&h.push(s(l)+(e?": ":":")+c);else Object.keys(f).forEach((function(t){var n=a(t,f);n&&h.push(s(t)+(e?": ":":")+n)}));return c=0===h.length?"{}":e?"{\n"+e+h.join(",\n"+e)+"\n"+d+"}":"{"+h.join(",")+"}",e=d,c}}"function"!=typeof t.stringify&&(t.stringify=function(t,i,o){var s;if(e="",n="","number"==typeof o)for(s=0;s<o;s+=1)n+=" ";else"string"==typeof o&&(n=o);if(r=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return a("",{"":t})})}()})),oj=null;const sj=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,aj=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var lj=function(e){var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);t.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`);t.protoAction=e.protoAction}}var n,r,i,o,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},l=function(e){return e&&e!==r&&a("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},c=function(){var e,n="";for("-"===r&&(n="-",l("-"));r>="0"&&r<="9";)n+=r,l();if("."===r)for(n+=".";l()&&r>="0"&&r<="9";)n+=r;if("e"===r||"E"===r)for(n+=r,l(),"-"!==r&&"+"!==r||(n+=r,l());r>="0"&&r<="9";)n+=r,l();if(e=+n,isFinite(e))return null==oj&&(oj=rj),n.length>15?t.storeAsString?n:t.useNativeBigInt?BigInt(n):new oj(n):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new oj(e):e;a("Bad number")},u=function(){var e,t,o,c="";if('"'===r)for(var u=n;l();){if('"'===r)return n-1>u&&(c+=i.substring(u,n-1)),l(),c;if("\\"===r){if(n-1>u&&(c+=i.substring(u,n-1)),l(),"u"===r){for(o=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)o=16*o+e;c+=String.fromCharCode(o)}else{if("string"!=typeof s[r])break;c+=s[r]}u=n}}a("Bad string")},h=function(){for(;r&&r<=" ";)l()};return o=function(){switch(h(),r){case"{":return function(){var e,n=Object.create(null);if("{"===r){if(l("{"),h(),"}"===r)return l("}"),n;for(;r;){if(e=u(),h(),l(":"),!0===t.strict&&Object.hasOwnProperty.call(n,e)&&a('Duplicate key "'+e+'"'),!0===sj.test(e)?"error"===t.protoAction?a("Object contains forbidden prototype property"):"ignore"===t.protoAction?o():n[e]=o():!0===aj.test(e)?"error"===t.constructorAction?a("Object contains forbidden constructor property"):"ignore"===t.constructorAction?o():n[e]=o():n[e]=o(),h(),"}"===r)return l("}"),n;l(","),h()}}a("Bad object")}();case"[":return function(){var e=[];if("["===r){if(l("["),h(),"]"===r)return l("]"),e;for(;r;){if(e.push(o()),h(),"]"===r)return l("]"),e;l(","),h()}}a("Bad array")}();case'"':return u();case"-":return c();default:return r>="0"&&r<="9"?c():function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}a("Unexpected '"+r+"'")}()}},function(e,t){var s;return i=e+"",n=0,r=" ",s=o(),h(),r&&a("Syntax error"),"function"==typeof t?function e(n,r){var i,o=n[r];return o&&"object"==typeof o&&Object.keys(o).forEach((function(t){void 0!==(i=e(o,t))?o[t]=i:delete o[t]})),t.call(n,r,o)}({"":s},""):s}},cj=ij.stringify,uj=function(e){return{parse:lj(e),stringify:cj}},hj=lj(),dj=cj;uj.parse=hj,uj.stringify=dj;const{document:fj,window:pj}=Me;function mj(t){let n,r,i;return{c(){n=_("button"),N(n,"title","Start UDP"),N(n,"data-icon","play-network-outline"),N(n,"class","green svelte-1id1192")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[22]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function gj(t){let n,r,i;return{c(){n=_("button"),N(n,"title","Stop UDP"),N(n,"data-icon","network-off-outline"),N(n,"class","red svelte-1id1192")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[23]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function vj(t){let n,r,i;return{c(){n=_("button"),r=E(),i=_("button"),N(n,"title","Copy current packet"),N(n,"data-icon","insert_drive_file"),F(n,"margin-top","auto"),F(n,"opacity","0.5"),N(n,"class","svelte-1id1192"),N(i,"title","Copy current packet"),N(i,"data-icon","collections_bookmark"),F(i,"opacity","0.5"),N(i,"class","svelte-1id1192")},m(e,t){S(e,n,t),S(e,r,t),S(e,i,t)},p:e,d(e){e&&C(n),e&&C(r),e&&C(i)}}}function yj(t){let n,r,i,s,a;return{c(){n=_("button"),r=E(),i=_("button"),N(n,"title","Copy current bin"),N(n,"data-icon","insert_drive_file"),F(n,"margin-top","auto"),N(n,"class","svelte-1id1192"),N(i,"title","Copy current packet"),N(i,"data-icon","collections_bookmark"),N(i,"class","svelte-1id1192")},m(e,o){S(e,n,o),S(e,r,o),S(e,i,o),s||(a=[M(n,"click",t[29]),M(i,"click",t[28])],s=!0)},p:e,d(e){e&&C(n),e&&C(r),e&&C(i),s=!1,o(a)}}}function bj(t){let n;return{c(){n=_("button"),N(n,"title","Export all filtered"),N(n,"data-icon","download"),F(n,"opacity","0.5"),N(n,"class","svelte-1id1192")},m(e,t){S(e,n,t)},p:e,d(e){e&&C(n)}}}function wj(t){let n,r,i;return{c(){n=_("button"),N(n,"title","Export all filtered"),N(n,"data-icon","download"),N(n,"class","svelte-1id1192")},m(e,o){S(e,n,o),r||(i=M(n,"click",t[27]),r=!0)},p:e,d(e){e&&C(n),r=!1,i()}}}function $j(e){let t,n;return t=new et({props:{packet:e[65],idx:e[65].index,current:e[65]==e[7]}}),t.$on("click",(function(){return e[38](e[65])})),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(n,r){e=n;const i={};8&r[2]&&(i.packet=e[65]),8&r[2]&&(i.idx=e[65].index),128&r[0]|8&r[2]&&(i.current=e[65]==e[7]),t.$set(i)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function xj(e){let t,n;return t=new et({props:{packet:e[65],idx:e[65].index,current:e[65]==e[7]}}),t.$on("click",(function(){return e[42](e[65])})),{c(){Be(t.$$.fragment)},m(e,r){Fe(t,e,r),n=!0},p(n,r){e=n;const i={};8&r[2]&&(i.packet=e[65]),8&r[2]&&(i.idx=e[65].index),128&r[0]|8&r[2]&&(i.current=e[65]==e[7]),t.$set(i)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ve(t,e)}}}function kj(e){let t,n,r,i=e[7].object&&Sj(e),o=e[7].decode&&e[16]&&Cj(e);return{c(){i&&i.c(),t=E(),o&&o.c(),n=j()},m(e,s){i&&i.m(e,s),S(e,t,s),o&&o.m(e,s),S(e,n,s),r=!0},p(e,r){e[7].object?i?(i.p(e,r),128&r[0]&&Ae(i,1)):(i=Sj(e),i.c(),Ae(i,1),i.m(t.parentNode,t)):i&&(Oe(),Pe(i,1,1,(()=>{i=null})),_e()),e[7].decode&&e[16]?o?(o.p(e,r),65664&r[0]&&Ae(o,1)):(o=Cj(e),o.c(),Ae(o,1),o.m(n.parentNode,n)):o&&(Oe(),Pe(o,1,1,(()=>{o=null})),_e())},i(e){r||(Ae(i),Ae(o),r=!0)},o(e){Pe(i),Pe(o),r=!1},d(e){i&&i.d(e),e&&C(t),o&&o.d(e),e&&C(n)}}}function Sj(e){let t,n,r,i,o={onRenderMenu:e[26],readOnly:!0};return n=new nj({props:o}),e[46](n),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class",r=e[15]+" jse-theme-dark svelte-1id1192")},m(e,r){S(e,t,r),Fe(n,t,null),i=!0},p(e,o){n.$set({}),(!i||32768&o[0]&&r!==(r=e[15]+" jse-theme-dark svelte-1id1192"))&&N(t,"class",r)},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(r){r&&C(t),e[46](null),Ve(n)}}}function Cj(e){let t,n,r,i;return n=new nj({props:{readOnly:!0}}),e[47](n),{c(){t=_("div"),Be(n.$$.fragment),N(t,"class",r=e[15]+" jse-theme-dark svelte-1id1192")},m(e,r){S(e,t,r),Fe(n,t,null),i=!0},p(e,o){n.$set({}),(!i||32768&o[0]&&r!==(r=e[15]+" jse-theme-dark svelte-1id1192"))&&N(t,"class",r)},i(e){i||(Ae(n.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),i=!1},d(r){r&&C(t),e[47](null),Ve(n)}}}function Oj(e){let t,n,r,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,w,x,k,O,A,P,T,I,D,R,L,V,z,q,W,J,K,G,Q,Y,X,Z,ee,te,ne,re,ie,oe,se,ae,le,ue,he;function de(e,t){return e[6]?gj:mj}let fe=de(e),pe=fe(e);function me(e,t){return e[7]?yj:vj}let ge=me(e),ye=ge(e);function be(e,t){return e[17]&&e[17].length>0?wj:bj}let we=be(e),$e=we(e);function xe(t){e[39](t)}function ke(t){e[40](t)}let Se={items:e[17],$$slots:{default:[$j,({item:e})=>({65:e}),({item:e})=>[0,0,e?8:0]]},$$scope:{ctx:e}};function Ce(t){e[43](t)}function Ee(t){e[44](t)}void 0!==e[3]&&(Se.scrollToIndexFilter=e[3]),void 0!==e[12]&&(Se.end=e[12]),W=new Qe({props:Se}),ce.push((()=>Le(W,"scrollToIndexFilter",xe,e[3]))),ce.push((()=>Le(W,"end",ke,e[12])));let je={items:e[0],$$slots:{default:[xj,({item:e})=>({65:e}),({item:e})=>[0,0,e?8:0]]},$$scope:{ctx:e}};void 0!==e[10]&&(je.scrollToIndex=e[10]),void 0!==e[11]&&(je.end=e[11]),te=new Qe({props:je}),ce.push((()=>Le(te,"scrollToIndex",Ce,e[10]))),ce.push((()=>Le(te,"end",Ee,e[11])));let Me=e[7]&&kj(e);return{c(){t=new U(!1),n=j(),r=E(),i=_("aside"),pe.c(),s=E(),a=_("button"),l=E(),c=_("input"),u=E(),h=_("button"),d=E(),f=_("button"),p=E(),ye.c(),m=E(),$e.c(),g=E(),v=_("main"),y=_("div"),b=_("div"),w=_("input"),x=E(),k=_("div"),O=_("span"),O.textContent="AND",A=E(),P=_("span"),P.textContent="OR",T=E(),I=_("input"),D=E(),R=_("div"),L=_("div"),V=_("div"),V.innerHTML='<div class="time svelte-1id1192">Time</div> \n\t\t\t\t\t<div class="idx svelte-1id1192">#</div> \n\t\t\t\t\t<div class="src svelte-1id1192">Sender</div> \n\t\t\t\t\t<div class="id svelte-1id1192">ID</div> \n\t\t\t\t\t<div class="name svelte-1id1192">Proto Name</div> \n\t\t\t\t\t<div class="len svelte-1id1192">Length</div> \n\t\t\t\t\t<div class="json svelte-1id1192">JSON</div>',z=E(),q=_("div"),Be(W.$$.fragment),G=E(),Q=_("div"),Y=_("div"),X=_("div"),X.innerHTML='<div class="time svelte-1id1192">Time</div> \n\t\t\t\t\t<div class="idx svelte-1id1192">#</div> \n\t\t\t\t\t<div class="src svelte-1id1192">Sender</div> \n\t\t\t\t\t<div class="id svelte-1id1192">ID</div> \n\t\t\t\t\t<div class="name svelte-1id1192">Proto Name</div> \n\t\t\t\t\t<div class="len svelte-1id1192">Length</div> \n\t\t\t\t\t<div class="json svelte-1id1192">JSON</div>',Z=E(),ee=_("div"),Be(te.$$.fragment),ie=E(),oe=_("div"),se=E(),ae=_("div"),Me&&Me.c(),t.a=n,N(a,"title","Upload PCAP/GCAP"),N(a,"data-icon","open-in-app"),N(a,"class","svelte-1id1192"),c.hidden=!0,N(c,"type","file"),N(c,"accept",".gcap,.pcap"),N(c,"class","svelte-1id1192"),N(h,"title","Clear"),N(h,"data-icon","clear"),N(h,"class","red svelte-1id1192"),N(f,"title","Lock scroll at the bottom"),N(f,"data-icon","keyboard_arrow_down"),F(f,"margin-top","auto"),N(f,"class","svelte-1id1192"),H(f,"green",e[4]),N(i,"class","svelte-1id1192"),N(w,"type","text"),N(w,"placeholder"," PACKET"),N(w,"class","svelte-1id1192"),N(O,"and",""),N(O,"class","svelte-1id1192"),H(O,"s",e[5]),N(P,"or",""),N(P,"class","svelte-1id1192"),H(P,"s",!e[5]),N(k,"class","orand svelte-1id1192"),N(I,"type","text"),N(I,"placeholder"," JSON"),N(I,"class","svelte-1id1192"),N(b,"class","filter-host svelte-1id1192"),N(V,"class","tr thead svelte-1id1192"),N(q,"class","tbody svelte-1id1192"),N(L,"class","table svelte-1id1192"),N(R,"class","results-host svelte-1id1192"),H(R,"open",e[1].length||e[2].length),N(X,"class","tr thead svelte-1id1192"),N(ee,"class","tbody svelte-1id1192"),N(Y,"class","table svelte-1id1192"),N(Q,"class","table-host svelte-1id1192"),N(y,"class","main-host svelte-1id1192"),N(oe,"class","resize svelte-1id1192"),N(ae,"class","details-host svelte-1id1192"),N(v,"class","svelte-1id1192")},m(o,C){t.m("<style>/*!\n  Theme: Material Darker\n  Author: Nate Peterson\n  License: ~ MIT (or more permissive) [via base16-schemes-source]\n  Maintainer: @highlightjs/core-team\n  Version: 2021.09.0\n*/pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#eff;background:#212121}.hljs ::selection,.hljs::selection{background-color:#353535;color:#eff}.hljs-comment{color:#4a4a4a}.hljs-tag{color:#b2ccd6}.hljs-operator,.hljs-punctuation,.hljs-subst{color:#eff}.hljs-operator{opacity:.7}.hljs-bullet,.hljs-deletion,.hljs-name,.hljs-selector-tag,.hljs-template-variable,.hljs-variable{color:#f07178}.hljs-attr,.hljs-link,.hljs-literal,.hljs-number,.hljs-symbol,.hljs-variable.constant_{color:#f78c6c}.hljs-class .hljs-title,.hljs-title,.hljs-title.class_{color:#ffcb6b}.hljs-strong{font-weight:700;color:#ffcb6b}.hljs-addition,.hljs-code,.hljs-string,.hljs-title.class_.inherited__{color:#c3e88d}.hljs-built_in,.hljs-doctag,.hljs-keyword.hljs-atrule,.hljs-quote,.hljs-regexp{color:#89ddff}.hljs-attribute,.hljs-function .hljs-title,.hljs-section,.hljs-title.function_,.ruby .hljs-property{color:#82aaff}.diff .hljs-meta,.hljs-keyword,.hljs-template-tag,.hljs-type{color:#c792ea}.hljs-emphasis{color:#c792ea;font-style:italic}.hljs-meta,.hljs-meta .hljs-keyword,.hljs-meta .hljs-string{color:#ff5370}.hljs-meta .hljs-keyword,.hljs-meta-keyword{font-weight:700}</style>",fj.head),$(fj.head,n),S(o,r,C),S(o,i,C),pe.m(i,null),$(i,s),$(i,a),$(i,l),$(i,c),e[33](c),$(i,u),$(i,h),$(i,d),$(i,f),$(i,p),ye.m(i,null),$(i,m),$e.m(i,null),S(o,g,C),S(o,v,C),$(v,y),$(y,b),$(b,w),B(w,e[1]),$(b,x),$(b,k),$(k,O),$(k,A),$(k,P),$(b,T),$(b,I),B(I,e[2]),$(y,D),$(y,R),$(R,L),$(L,V),$(L,z),$(L,q),Fe(W,q,null),e[41](q),$(y,G),$(y,Q),$(Q,Y),$(Y,X),$(Y,Z),$(Y,ee),Fe(te,ee,null),e[45](ee),$(v,ie),$(v,oe),$(v,se),$(v,ae),Me&&Me.m(ae,null),e[48](ae),e[49](v),le=!0,ue||(he=[M(pj,"click",e[21],{once:!0}),M(pj,"keydown",e[32]),M(a,"click",e[24]),M(h,"click",e[30]),M(f,"click",e[34]),M(w,"input",e[35]),M(k,"click",e[36]),M(I,"input",e[37]),M(oe,"mousedown",e[31])],ue=!0)},p(e,t){fe===(fe=de(e))&&pe?pe.p(e,t):(pe.d(1),pe=fe(e),pe&&(pe.c(),pe.m(i,s))),(!le||16&t[0])&&H(f,"green",e[4]),ge===(ge=me(e))&&ye?ye.p(e,t):(ye.d(1),ye=ge(e),ye&&(ye.c(),ye.m(i,m))),we===(we=be(e))&&$e?$e.p(e,t):($e.d(1),$e=we(e),$e&&($e.c(),$e.m(i,null))),2&t[0]&&w.value!==e[1]&&B(w,e[1]),(!le||32&t[0])&&H(O,"s",e[5]),(!le||32&t[0])&&H(P,"s",!e[5]),4&t[0]&&I.value!==e[2]&&B(I,e[2]);const n={};131072&t[0]&&(n.items=e[17]),1152&t[0]|24&t[2]&&(n.$$scope={dirty:t,ctx:e}),!J&&8&t[0]&&(J=!0,n.scrollToIndexFilter=e[3],ve((()=>J=!1))),!K&&4096&t[0]&&(K=!0,n.end=e[12],ve((()=>K=!1))),W.$set(n),(!le||6&t[0])&&H(R,"open",e[1].length||e[2].length);const r={};1&t[0]&&(r.items=e[0]),128&t[0]|24&t[2]&&(r.$$scope={dirty:t,ctx:e}),!ne&&1024&t[0]&&(ne=!0,r.scrollToIndex=e[10],ve((()=>ne=!1))),!re&&2048&t[0]&&(re=!0,r.end=e[11],ve((()=>re=!1))),te.$set(r),e[7]?Me?(Me.p(e,t),128&t[0]&&Ae(Me,1)):(Me=kj(e),Me.c(),Ae(Me,1),Me.m(ae,null)):Me&&(Oe(),Pe(Me,1,1,(()=>{Me=null})),_e())},i(e){le||(Ae(W.$$.fragment,e),Ae(te.$$.fragment,e),Ae(Me),le=!0)},o(e){Pe(W.$$.fragment,e),Pe(te.$$.fragment,e),Pe(Me),le=!1},d(s){C(n),s&&t.d(),s&&C(r),s&&C(i),pe.d(),e[33](null),ye.d(),$e.d(),s&&C(g),s&&C(v),Ve(W),e[41](null),Ve(te),e[45](null),Me&&Me.d(),e[48](null),e[49](null),ue=!1,o(he)}}}function _j(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(t){return console.warn("Copy to clipboard failed.",t),prompt("Copy to clipboard: Ctrl+C, Enter",e)}finally{document.body.removeChild(t)}}}function Aj(e,t,n){let r,i,o,s=!1,a=[],l="",c="";var u;let h,d,f,p=()=>{},m=()=>{};class g{constructor(e,t){this.cmd=e,this.data=t}send(){h.send(JSON.stringify(this))}}let v,y,b,w,$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,.797885,0,.460659,0,.356825,0,.301572,0,.265962,0,.240571,0,.221293,0,.206013,0,.193515,0,.183047,0,.174113,0,.16637,0,.159577,0,.153553,0,.148163,0,.143304,0,.138894,0,.134867,0,.131171,0,.127764,0,.124609,0,.121676,0,.118942,0,.116383,0,.113984,0,.111726,0,.109598,0,.107587,0,.105682,0,.103876,0,.102159,0,.100524,0,.098965,0,.097477,0,.096054,0,.094691,0,.093385,0,.092132,0,.090927,0,.089769,0,.088654,0,.087579,0,.086543,0,.085542,0,.084576,0,.083641,0,.082737,0,.081861,0,.081013,0,.08019,0,.079392,0,.078618,0,.077866,0,.077134,0,.076423,0,.075732,0,.075059,0,.074403,0,.073764,0,.073142,0,.072535,0,.071943,0,.071365,0,.070801,0,.07025,0,.069711,0,.069185,0,.068671,0,.068168,0,.067676,0,.067194,0,.066722,0,.066261,0,.065808,0,.065365,0,.064931,0,.064505,0,.064088,0,.063678,0,.063276,0,.062882,0,.062495,0,.062115,0,.061742,0,.061376,0,.061016,0,.060662,0,.060314,0,.059973,0,.059637,0,.059306,0,.058981,0,.058662,0,.058347,0,.058038,0,.057733,0,.057433,0,.057138,0,.056847,0,.056561,0,.056278,0,.056001,0,.055727,0,.055457,0,.055191,0,.054929,0,.05467,0,.054415,0,.054164,0,.053916,0,.053672,0,.05343,0,.053192,0,.052957,0,.052726,0,.052497,0,.052271,0,.052048,0,.051828,0,.051611,0,.051396,0,.051184,0,.050975,0,.050768,0,.050564,0,.050362,0,.050163,0,.049965,0,.049771,0,.049578,0,.049388,0,.0492,0,.049014,0,.04883,0,.048648,0,.048468,0,.04829,0,.048114,0,.04794,0,.047768,0,.047598,0,.047429,0,.047263,0,.047098,0,.046934,0,.046773,0,.046613,0,.046455,0,.046298,0,.046143,0,.045989,0,.045837,0,.045687,0,.045538,0,.04539,0,.045244,0,.045099,0,.044956,0,.044814,0,.044673,0,.044534,0,.044395,0,.044259,0,.044123,0,.043989,0,.043856,0,.043724,0,.043593,0,.043464,0,.043335,0,.043208,0,.043082,0,.042957,0,.042833,0,.04271,0,.042588,0,.042467,0,.042347,0,.042229,0,.042111,0,.041994,0,.041878,0,.041763,0,.041649,0,.041536,0,.041424,0,.041313,0,.041203,0,.041093,0,.040985,0,.040877,0,.04077,0,.040664,0,.040559,0,.040454,0,.040351,0,.040248,0,.040146,0,.040045,0,.039944,0,.039844,0,.039745,0,.039647,0,.03955,0,.039453,0,.039357,0,.039261,0,.039167,0,.039073,0,.038979,0,.038887,0,.038794,0,.038703,0,.038612,0,.038522,0,.038433,0,.038344,0,.038256,0,.038168,0,.038081,0,.037995,0,.037909,0,.037823,0,.037739,0,.037655,0,.037571,0,.037488,0,.037405,0,.037323,0,.037242,0,.037161,0,.037081,0,.037001,0,.036922,0,.036843,0,.036765,0,.036687,0,.036609,0,.036533,0,.036456,0,.03638,0,.036305,0,.03623,0,.036156,0,.036082,0,.036008,0,.035935,0,.035862,0,.03579,0,.035718,0,.035647,0,.035576,0,.035505,0,.035435,0,.035366,0,.035296,0,.035227,0,.035159,0,.035091,0,.035023,0,.034956,0,.034889,0,.034823,0,.034756,0,.034691,0,.034625,0,.03456,0,.034496,0,.034431,0,.034367,0,.034304,0,.034241,0,.034178,0,.034115,0,.034053,0,.033991,0,.03393,0,.033868,0,.033807,0,.033747,0,.033687,0,.033627,0,.033567,0,.033508,0,.033449,0,.03339,0,.033332,0,.033274,0,.033216,0,.033159,0,.033102,0,.033045,0,.032988,0,.032932,0,.032876,0,.032821,0,.032765,0,.03271,0,.032655,0,.032601,0,.032546,0,.032492,0,.032439,0,.032385,0,.032332,0,.032279,0,.032226,0,.032174,0,.032122,0,.03207,0,.032018,0,.031967,0,.031915,0,.031864,0,.031814,0,.031763,0,.031713,0,.031663,0,.031613,0,.031564,0,.031515,0,.031465,0,.031417,0,.031368,0,.03132,0,.031272,0,.031224,0,.031176,0,.031128,0,.031081,0,.031034,0,.030987,0,.030941,0,.030894,0,.030848,0,.030802,0,.030756,0,.030711,0,.030665,0,.03062,0,.030575,0,.03053,0,.030486,0,.030441,0,.030397,0,.030353,0,.030309,0,.030265,0,.030222,0,.030179,0,.030136,0,.030093,0,.03005,0,.030008,0,.029965,0,.029923,0,.029881,0,.029839,0,.029798,0,.029756,0,.029715,0,.029674,0,.029633,0,.029592,0,.029551,0,.029511,0,.029471,0,.02943,0,.02939,0,.029351,0,.029311,0,.029272,0,.029232,0,.029193,0,.029154,0,.029115,0,.029077,0,.029038,0,.029,0,.028961,0,.028923,0,.028885,0,.028848,0,.02881,0,.028772,0,.028735,0,.028698,0,.028661,0,.028624,0,.028587,0,.028551,0,.028514,0,.028478,0,.028442,0,.028405,0,.02837,0,.028334,0,.028298,0,.028263,0,.028227,0,.028192,0,.028157,0,.028122,0,.028087,0,.028052,0,.028018,0,.027983,0,.027949,0,.027914,0,.02788,0,.027846,0,.027813,0,.027779,0,.027745,0,.027712,0,.027678,0,.027645,0,.027612,0,.027579,0,.027546,0,.027513,0,.027481,0,.027448,0,.027416,0,.027383,0,.027351,0,.027319,0,.027287,0,.027255,0,.027223,0,.027192,0,.02716,0,.027129,0,.027098,0,.027066,0,.027035,0,.027004,0,.026973,0,.026943,0,.026912,0,.026881,0,.026851,0,.026821,0,.02679,0,.02676,0,.02673,0,.0267,0,.02667,0,.026641,0,.026611,0,.026581,0,.026552,0,.026523,0,.026493,0,.026464,0,.026435,0,.026406,0,.026377,0,.026348,0,.02632,0,.026291,0,.026263,0,.026234,0,.026206,0,.026178,0,.02615,0,.026122,0,.026094,0,.026066,0,.026038,0,.02601,0,.025983,0,.025955,0,.025928,0,.0259,0,.025873,0,.025846,0,.025819,0,.025792,0,.025765,0,.025738,0,.025711,0,.025685,0,.025658,0,.025632,0,.025605,0,.025579,0,.025553,0,.025527,0,.025501,0,.025474,0,.025449,0,.025423,0,.025397,0,.025371,0,.025346,0,.02532,0,.025295,0,.025269,0,.025244,0,.025219,0,.025194,0,.025168,0,.025143,0,.025119,0,.025094,0,.025069,0,.025044,0,.02502,0,.024995,0,.02497,0,.024946,0,.024922,0,.024897,0,.024873,0,.024849,0,.024825,0,.024801,0,.024777,0,.024753,0,.024729,0,.024706,0,.024682,0,.024659,0,.024635,0,.024612,0,.024588,0,.024565,0,.024542,0,.024518,0,.024495,0,.024472,0,.024449,0,.024426,0,.024403,0,.024381,0,.024358,0,.024335,0,.024313,0,.02429,0,.024268,0,.024245,0,.024223,0,.024201,0,.024178,0,.024156,0,.024134,0,.024112,0,.02409,0,.024068,0,.024046,0,.024024,0,.024003,0,.023981,0,.023959,0,.023938,0,.023916,0,.023895,0,.023873,0,.023852,0,.023831,0,.023809,0,.023788,0,.023767,0,.023746,0,.023725,0,.023704,0,.023683,0,.023662,0,.023642,0,.023621,0,.0236,0,.02358,0,.023559,0,.023539,0,.023518,0,.023498,0,.023477,0,.023457,0,.023437,0,.023417,0,.023396,0,.023376,0,.023356,0,.023336,0,.023316,0,.023297,0,.023277,0,.023257,0,.023237,0,.023217,0,.023198,0,.023178,0,.023159,0,.023139,0,.02312,0,.0231,0,.023081,0,.023062,0,.023043,0,.023023,0,.023004,0,.022985,0,.022966,0,.022947,0,.022928,0,.022909,0,.02289,0,.022872,0,.022853,0,.022834,0,.022815,0,.022797,0,.022778,0,.02276,0,.022741,0,.022723,0,.022704,0,.022686,0,.022668,0,.022649,0,.022631,0,.022613,0,.022595,0,.022577,0,.022559,0,.022541,0,.022523,0,.022505,0,.022487,0,.022469,0,.022451,0,.022433,0,.022416,0,.022398,0,.02238,0,.022363,0,.022345,0,.022328,0,.02231,0,.022293,0,.022275,0,.022258,0,.022241,0,.022224,0,.022206,0,.022189,0,.022172,0,.022155,0,.022138,0,.022121,0,.022104,0,.022087,0,.02207,0,.022053,0,.022036,0,.02202,0,.022003,0,.021986,0,.021969,0,.021953,0,.021936,0,.02192,0,.021903,0,.021887,0,.02187,0,.021854,0,.021837,0,.021821,0,.021805,0,.021788,0,.021772,0,.021756,0,.02174,0,.021724,0,.021708,0,.021692,0,.021676,0,.02166,0,.021644,0,.021628,0,.021612,0,.021596,0,.02158,0,.021564,0,.021549,0,.021533,0,.021517,0,.021502,0,.021486,0,.021471,0,.021455,0,.02144,0,.021424,0,.021409,0,.021393,0,.021378,0,.021363,0,.021347,0,.021332,0,.021317,0,.021302,0,.021286,0,.021271,0,.021256,0,.021241,0,.021226,0,.021211,0,.021196,0,.021181,0,.021166,0,.021151,0,.021136,0,.021122,0,.021107,0,.021092,0,.021077,0,.021063,0,.021048,0,.021033,0,.021019,0,.021004,0,.02099,0,.020975,0,.020961,0,.020946,0,.020932,0,.020917,0,.020903,0,.020889,0,.020874,0,.02086,0,.020846,0,.020832,0,.020818,0,.020803,0,.020789,0,.020775,0,.020761,0,.020747,0,.020733,0,.020719,0,.020705,0,.020691,0,.020677,0,.020663,0,.02065,0,.020636,0,.020622,0,.020608,0,.020594,0,.020581,0,.020567,0,.020553,0,.02054,0,.020526,0,.020513,0,.020499,0,.020486,0,.020472,0,.020459,0,.020445,0,.020432,0,.020418,0,.020405,0,.020392,0,.020378,0,.020365,0,.020352,0,.020339,0,.020325,0,.020312,0,.020299,0,.020286,0,.020273,0,.02026,0,.020247,0,.020234,0,.020221,0,.020208,0,.020195,0,.020182,0,.020169,0,.020156,0,.020143,0,.02013,0,.020118,0,.020105,0,.020092,0,.020079,0,.020067,0,.020054,0,.020041,0,.020029,0,.020016,0,.020003,0,.019991,0,.019978,0,.019966,0,.019953,0,.019941,0,.019928,0,.019916,0,.019904,0,.019891,0,.019879,0,.019867,0,.019854,0,.019842,0,.01983,0,.019817,0,.019805,0,.019793,0,.019781,0,.019769,0,.019757,0,.019745,0,.019732,0,.01972,0,.019708,0,.019696,0,.019684,0,.019672,0,.01966,0,.019649,0,.019637,0,.019625,0,.019613,0,.019601,0,.019589,0,.019577,0,.019566,0,.019554,0,.019542,0,.01953,0,.019519,0,.019507,0,.019495,0,.019484,0,.019472,0,.019461,0,.019449,0,.019437,0,.019426,0,.019414,0,.019403,0,.019392,0,.01938,0,.019369,0,.019357,0,.019346,0,.019334,0,.019323,0,.019312,0,.019301,0,.019289,0,.019278,0,.019267,0,.019256,0,.019244,0,.019233,0,.019222,0,.019211,0,.0192,0,.019189,0,.019177,0,.019166,0,.019155,0,.019144,0,.019133,0,.019122,0,.019111,0,.0191,0,.019089,0,.019079,0,.019068,0,.019057,0,.019046,0,.019035,0,.019024,0,.019013,0,.019003,0,.018992,0,.018981,0,.01897,0,.01896,0,.018949,0,.018938,0,.018928,0,.018917,0,.018906,0,.018896,0,.018885,0,.018875,0,.018864,0,.018854,0,.018843,0,.018832,0,.018822,0,.018812,0,.018801,0,.018791,0,.01878,0,.01877,0,.018759,0,.018749,0,.018739,0,.018728,0,.018718,0,.018708,0,.018698,0,.018687,0,.018677,0,.018667,0,.018657,0,.018646,0,.018636,0,.018626,0,.018616,0,.018606,0,.018596,0,.018586,0,.018576,0,.018565,0,.018555,0,.018545,0,.018535,0,.018525,0,.018515,0,.018505,0,.018496,0,.018486,0,.018476,0,.018466,0,.018456,0,.018446,0,.018436,0,.018426,0,.018417,0,.018407,0,.018397,0,.018387,0,.018377,0,.018368,0,.018358,0,.018348,0,.018339,0,.018329,0,.018319,0,.01831,0,.0183,0,.01829,0,.018281,0,.018271,0,.018262,0,.018252,0,.018242,0,.018233,0,.018223,0,.018214,0,.018204,0,.018195,0,.018185,0,.018176,0,.018167,0,.018157,0,.018148,0,.018138,0,.018129,0,.01812,0,.01811,0,.018101,0,.018092,0,.018082,0,.018073,0,.018064,0,.018055,0,.018045,0,.018036,0,.018027,0,.018018,0,.018009,0,.017999,0,.01799,0,.017981,0,.017972,0,.017963,0,.017954,0,.017945,0,.017936,0,.017927,0,.017918,0,.017909,0,.0179,0,.017891,0,.017882,0,.017873,0,.017864,0,.017855,0,.017846,0,.017837,0,.017828,0,.017819,0,.01781,0,.017801,0,.017792,0,.017784,0,.017775,0,.017766,0,.017757,0,.017748,0,.01774,0,.017731,0,.017722,0,.017713,0,.017705,0,.017696,0,.017687,0,.017678,0,.01767,0,.017661,0,.017652,0,.017644,0,.017635];async function k(e){let t=(+e-(n=3))/(4e3-n);var n;t=Math.min(Math.floor(70*t),70),y.frequency.value=[174.61307100227927,184.99610451960257,195.99654533869912,207.6511064082122,219.99868374231448,233.08048623253953,246.94017317862662,261.6239999973751,277.18097259579804,293.66301092378137,311.12512225209025,329.6255847540217,349.22614200339063,369.99220903796777,391.9930906760873,415.30221281503555,439.9973674831575,466.1609724635201,493.8803463556016,523.2479999930003,554.3619451897422,587.3260218455986,622.2502445020995,659.2511695058387,698.4522840044455,739.9844180734609,783.9861813495528,830.6044256272934,879.9947349633721,932.3219449239223,987.7606927078998,1046.4959999825007,1108.7238903757761,1174.6520436872686,1244.5004890000369,1318.5023390072677,1396.904568004219,1479.9688361419721,1567.9723626938617,1661.2088512490309,1759.989469920858,1864.6438898416084,1975.5213854091928,2092.991999958002,2217.4477807441367,2349.3040873666805,2489.00097799175,2637.004678005717,2793.8091359990954,2959.937672274046,3135.944725377236,3322.417702486951,3519.9789398299445,3729.2877796707453,3951.0427708051725,4185.983999902005,4434.895561473442,4698.608174717648,4978.001955966852,5274.009355993795,5587.618271979502,5919.875344528292,6271.889450733495,6644.835404951677,7039.957879636343,7458.575559316544,7902.085541583915,8371.967999776009,8869.791122917219,9397.216349403865,9956.003911900405][t]||440,await S(1),y.connect(w),await S(40);try{y.disconnect(w)}catch(e){}}let S=e=>new Promise((t=>setTimeout(t,e)));function C(){h=new WebSocket("ws://localhost:40510"),h.onopen=()=>{console.log("[DEBUG] ws://localhost:40510 connected @ "+new Date),h.send('{"cmd":"ConnectReq","data":"iridium"}'),clearTimeout(u),h.onclose=e=>{console.log("Socket is closed. Reconnect will be attempted in half a second.",e.reason),clearTimeout(u),u=setTimeout(C,500)}},h.onerror=()=>{clearTimeout(u),u=setTimeout(C,500),h.close()},h.onmessage=async e=>{let t;try{t=uj.parse(e.data)}catch(e){return console.log(e.data)}switch(console.debug(t),t.cmd){case"ConnectRsp":n(6,s=t.data.sessionStarted);break;case"PacketNotify":let e=a[a.length-1]?.index||0,i=t.data.map(((t,n)=>(t.index=n+1+e,t)));const o=a.concat(i);n(0,a=o.map(((e,t)=>(o[t-1]&&o[t-1].time?e.reltime=o[t-1].reltime+(e.time-o[t-1].time)/1e3:e.reltime=0,e))));for(var r=0;r<i.length;r++)await S(10),await k(i[r].packetID);console.log("Packets so far:",a);break;case"StartProxyRsp":n(6,s=!0);break;case"StopProxyRsp":n(6,s=!1);break;case"FindIdRsp":t.data.forEach((e=>{if("TextMap"===e.name)return console.log(e.json);console.log(e.name,e.json)}))}}}function O(e){const t=this.files[0],r=new FileReader;r.onload=e=>{let r=e.target.result;new g("ProcessFileReq",{ext:t.name.split(".")[1],name:t.name,data:btoa(r)}).send(),n(9,o.value="",o)},r.readAsBinaryString(t)}let _,A=!0,P="";function E(e){n(7,r=e),me().then((()=>{e.object&&e.decode&&M?n(15,P="two-editor"):n(15,P="one-editor"),!e.object&&e.decode&&n(16,M=!0),e.object&&_.set({json:e.object}),M&&e.decode&&A.set({json:e.decode})}))}let j,M=!1;function T(){me().then((()=>{n(16,M=!M),E(r)}))}function N(){p(a.length-1,{behavior:"auto"})}function I(e){if(!l.length&&!c.length)return!1;let t,n,r=l.length&&c.length;return F||(r=!1),l.length&&e.protoName.includes&&e.protoName.toLowerCase().includes(l.toLowerCase())&&(t=!0),l.length&&(""+e.packetID).includes(l)&&(t=!0),!(r||!t)||(c.length&&e.object&&JSON.stringify(e.object).toLowerCase().includes(c.toLowerCase())&&(n=!0),!(r||!n)||!!(r&&t&&n))}let D=[];ne((async()=>{o.addEventListener("change",O,!1),C()})),window.q=e=>{new g("FindIdReq",{id:e}).send()};let R,L,B,F=!0;return e.$$.update=()=>{47&e.$$.dirty[0]&&(l.length||c.length||F?me().then((()=>{n(17,D=a.filter(I,l,c)),setTimeout((()=>{m(10,{behavior:"auto"}),m(0,{behavior:"auto"})}),10)})):me().then((()=>{n(17,D=[])}))),6&e.$$.dirty[0]&&me().then((()=>N())),17&e.$$.dirty[0]&&j&&me().then((()=>N()))},[a,l,c,m,j,F,s,r,i,o,p,d,f,_,A,P,M,D,R,L,B,async function(){v=new AudioContext;let e=v.createPeriodicWave($,x);y=v.createOscillator(),b=v.createConvolver();let t=await fetch("sm2.wav"),n=await t.arrayBuffer();await new Promise(((e,t)=>v.decodeAudioData(n,(function(t){v.createBufferSource(),b.buffer=t,e()}),(e=>t(e))))),w=v.createGain(),w.gain.value=.04,w.connect(b),b.connect(v.destination),y.setPeriodicWave(e),y.start(0)},function(){new g("StartProxyReq","").send()},function(){new g("StopProxyReq","").send()},function(){o.click()},E,function(e,t){const n={onClick:T,text:"RD",title:"Raw Decode",className:"jse-button raw-decode-btn"};return t.slice(0,t.length-1).concat([{separator:!0},n,{space:!0}])},function(){((e,t)=>{const n=new Blob([JSON.stringify(t)],{type:"text/json"}),r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":");const i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});r.dispatchEvent(i),r.remove()})("capture.json",D)},function(){_j(JSON.stringify(r))},function(){_j(r.packet)},function(){n(0,a=[]),me().then((()=>{p(0)}))},function(e){const t=R.getBoundingClientRect();function r(e){n(19,L.style.width=100-(e.clientX-t.left)/R.offsetWidth*100+"%",L)}n(18,R.style.userSelect="none",R),document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",r),n(18,R.style.userSelect=null,R)}))},function(e){if("Enter"==e.key){const e=window.getSelection().toString();new g("FindIdReq",{id:e}).send()}},function(e){ce[e?"unshift":"push"]((()=>{o=e,n(9,o)}))},()=>n(4,j=!j),function(){l=this.value,n(1,l)},()=>n(5,F=!F),function(){c=this.value,n(2,c)},e=>{E(e),p(Math.max(r.index-5,0))},function(e){m=e,n(3,m)},function(e){f=e,n(12,f)},function(e){ce[e?"unshift":"push"]((()=>{B=e,n(20,B)}))},e=>E(e),function(e){p=e,n(10,p)},function(e){d=e,n(11,d)},function(e){ce[e?"unshift":"push"]((()=>{i=e,n(8,i)}))},function(e){ce[e?"unshift":"push"]((()=>{_=e,n(13,_)}))},function(e){ce[e?"unshift":"push"]((()=>{A=e,n(14,A)}))},function(e){ce[e?"unshift":"push"]((()=>{L=e,n(19,L)}))},function(e){ce[e?"unshift":"push"]((()=>{R=e,n(18,R)}))}]}const Pj=new class extends qe{constructor(e){super(),ze(this,e,Aj,Oj,a,{},null,[-1,-1,-1])}}({target:document.body,props:{name:"world"}});
/*!
     * vanilla-picker v2.12.1
     * https://vanilla-picker.js.org
     *
     * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
     * Released under the ISC license.
     */var Ej=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},jj=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mj=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var Tj={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Nj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var Ij=function(){function e(t,n,r,i){Ej(this,e);var o=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===r){var s=t&&""+t;s&&function(t){if(t.startsWith("hsl")){var n=t.match(/([\-\d\.e]+)/g).map(Number),r=Mj(n,4),i=r[0],s=r[1],a=r[2],l=r[3];void 0===l&&(l=1),i/=360,s/=100,a/=100,o.hsla=[i,s,a,l]}else if(t.startsWith("rgb")){var c=t.match(/([\-\d\.e]+)/g).map(Number),u=Mj(c,4),h=u[0],d=u[1],f=u[2],p=u[3];void 0===p&&(p=1),o.rgba=[h,d,f,p]}else t.startsWith("#")?o.rgba=e.hexToRgb(t):o.rgba=e.nameToRgb(t)||e.hexToRgb(t)}(s.toLowerCase())}else this.rgba=[t,n,r,void 0===i?1:i]}return jj(e,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return Nj(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],r=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,r){return Nj(e*t[r],3===r?3:1)+n[r]}));return e?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)}));return"#"+e.map((function(e){return e.padStart(2,"0")})).join("")},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(t){var n=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=Tj[n];return void 0===r?r:e.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=Mj(e,4),n=t[0],r=t[1],i=t[2],o=t[3];n/=255,r/=255,i/=255;var s=Math.max(n,r,i),a=Math.min(n,r,i),l=void 0,c=void 0,u=(s+a)/2;if(s===a)l=c=0;else{var h=s-a;switch(c=u>.5?h/(2-s-a):h/(s+a),s){case n:l=(r-i)/h+(r<i?6:0);break;case r:l=(i-n)/h+2;break;case i:l=(n-r)/h+4}l/=6}return[l,c,u,o]}},{key:"hslToRgb",value:function(e){var t=Mj(e,4),n=t[0],r=t[1],i=t[2],o=t[3],s=void 0,a=void 0,l=void 0;if(0===r)s=a=l=i;else{var c=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},u=i<.5?i*(1+r):i+r-i*r,h=2*i-u;s=c(h,u,n+1/3),a=c(h,u,n),l=c(h,u,n-1/3)}var d=[255*s,255*a,255*l].map(Math.round);return d[3]=o,d}}]),e}(),Dj=function(){function e(){Ej(this,e),this._events=[]}return jj(e,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(t,n,r){this._events=this._events.filter((function(i){var o=!0;return t&&t!==i.target&&(o=!1),n&&n!==i.type&&(o=!1),r&&r!==i.handler&&(o=!1),o&&e._doRemove(i.target,i.type,i.handler),!o}))}},{key:"destroy",value:function(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),e}();function Rj(e,t,n){var r=!1;function i(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,o,s){if(s&&(r=!0),r){e.preventDefault();var a=t.getBoundingClientRect(),l=a.width,c=a.height,u=o.clientX,h=o.clientY,d=i(u-a.left,0,l),f=i(h-a.top,0,c);n(d/l,f/c)}}function s(e,t){1===(void 0===e.buttons?e.which:e.buttons)?o(e,e,t):r=!1}function a(e,t){1===e.touches.length?o(e,e.touches[0],t):r=!1}e.add(t,"mousedown",(function(e){s(e,!0)})),e.add(t,"touchstart",(function(e){a(e,!0)})),e.add(window,"mousemove",s),e.add(t,"touchmove",a),e.add(window,"mouseup",(function(e){r=!1})),e.add(t,"touchend",(function(e){r=!1})),e.add(t,"touchcancel",(function(e){r=!1}))}var Lj="keydown",Bj="mousedown",Fj="focusin";function Vj(e,t){return(t||document).querySelector(e)}function zj(e){e.preventDefault(),e.stopPropagation()}function qj(e,t,n,r,i){e.add(t,Lj,(function(e){n.indexOf(e.key)>=0&&(i&&zj(e),r(e))}))}var Hj=function(){function e(t){Ej(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new Dj,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return jj(e,[{key:"setOptions",value:function(e){var t=this;if(e){var n=this.settings;if(e instanceof HTMLElement)n.parent=e;else{n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(e,t,n){for(var r in e)n&&n.indexOf(r)>=0||(t[r]=e[r])}(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var r=e.color||e.colour;r&&this._setColor(r)}var i=n.parent;if(i&&n.popup&&!this._popupInited){var o=function(e){return t.openHandler(e)};this._events.add(i,"click",o),qj(this._events,i,[" ","Spacebar","Enter"],o),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&e.type===Lj?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;if(e)if(t===Bj||t===Fj){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(n=!0)}else zj(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==Bj&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var n=void 0;try{n=new Ij(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t,n,r=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=(t=r,(n=document.createElement("div")).innerHTML=t,n.firstElementChild);return this.domElement=i,this._domH=Vj(".picker_hue",i),this._domSL=Vj(".picker_sl",i),this._domA=Vj(".picker_alpha",i),this._domEdit=Vj(".picker_editor input",i),this._domSample=Vj(".picker_sample",i),this._domOkay=Vj(".picker_done button",i),this._domCancel=Vj(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup((function(){return i.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,r=this._events;function i(e,t,n){r.add(e,t,n)}i(n,"click",(function(e){return e.preventDefault()})),Rj(r,this._domH,(function(e,n){return t._setHSLA(e)})),Rj(r,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&Rj(r,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var o=this._domEdit;i(o,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),i(o,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};i(window,Bj,t),i(window,Fj,t),qj(r,n,["Esc","Escape"],t);var o=function(t){e.__containedEvent=t.timeStamp};i(n,Bj,o),i(n,Fj,o),i(e._domCancel,"click",t)}));var s=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};i(this._domOkay,"click",s),qj(r,n,["Enter"],s)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup((function(n){"static"===getComputedStyle(e).position&&(e.style.position="relative");var r=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===r?t.classList.add(e):t.classList.remove(e)})),t.classList.add(r)}))}},{key:"_setHSLA",value:function(e,t,n,r,i){i=i||{};var o=this.colour,s=o.hsla;[e,t,n,r].forEach((function(e,t){(e||0===e)&&(s[t]=e)})),o.hsla=s,this._updateUI(i),this.onChange&&!i.silent&&this.onChange(o)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,r="hsl("+360*n[0]+", 100%, 50%)",i=t.hslString,o=t.hslaString,s=this._domH,a=this._domSL,l=this._domA,c=Vj(".picker_selector",s),u=Vj(".picker_selector",a),h=Vj(".picker_selector",l);y(0,c,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,y(0,u,n[1]),b(0,u,1-n[2]),a.style.color=i,b(0,h,1-n[3]);var d=i,f=d.replace("hsl","hsla").replace(")",", 0)"),p="linear-gradient("+[d,f]+")";if(this._domA.style.background=p+", linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!e.fromEditor){var m=this.settings.editorFormat,g=this.settings.alpha,v=void 0;switch(m){case"rgb":v=t.printRGB(g);break;case"hsl":v=t.printHSL(g);break;default:v=t.printHex(g)}this._domEdit.value=v}this._domSample.style.color=o}function y(e,t,n){t.style.left=100*n+"%"}function b(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",r=t.style.display!==n;return r&&(t.style.display=n),r}}]),e}(),Wj=document.createElement("style");Wj.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Wj),Hj.StyleElement=Wj;var Uj=Object.freeze({__proto__:null,default:Hj});return Pj}();
//# sourceMappingURL=bundle.js.map
